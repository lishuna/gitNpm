!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/animations"),require("@angular/forms"),require("ng2-cookies/ng2-cookies"),require("@angular/http"),require("rxjs/Rx"),require("@angular/router"),require("@angular/common")):"function"==typeof define&&define.amd?define("@test-ui/core",["exports","@angular/core","@angular/animations","@angular/forms","ng2-cookies/ng2-cookies","@angular/http","rxjs/Rx","@angular/router","@angular/common"],t):t((e["test-ui"]=e["test-ui"]||{},e["test-ui"].core={}),e.ng.core,e.ng.animations,e.ng.forms,null,e.ng.http,e.rxjs.Rx,e.ng.router,e.ng.common)}(this,function(e,c,t,n,l,h,g,o,i){"use strict";var r=function(){function e(){this.msg=""}return e.prototype.ngOnInit=function(){},e.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-toast",template:'<div class="toast-wraper">\n  {{msg}}\n</div>\n',styles:[".toast-wraper{position:fixed;border-radius:5px;min-width:160px;max-width:190px;padding:30px 10px;text-align:center;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:10001;background:rgba(0,0,0,.7);color:#fff;word-break:break-all}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={msg:[{type:c.Input}]},e}(),s=function(){function e(e,t){this.componentFactoryResolver=e,this._injector=t,this.onTabChange=new c.EventEmitter,this.onTabRemove=new c.EventEmitter,this.onTopComMsg=new c.EventEmitter,this.items=[],this.tabComs=[],this.curTabIndex=0,this.tabIdComMap={}}return e.prototype.ngOnInit=function(){},e.prototype.addItem=function(e,t,n,o,i){var r=this;if(void 0===o&&(o=""),void 0===i&&(i=!1),!o||!this.tabIdComMap[o]){var s=this.componentFactoryResolver.resolveComponentFactory(e),a=this.target.createComponent(s),p=Object.keys(t);return this.items.push({title:n,isCloseFlag:i}),p.forEach(function(e){a.instance[e]=t[e]}),this.tabComs.push(a),1<this.items.length&&this.setOneComHide(this.curTabIndex),this.tabSubs=a.instance.onTopComMsg=new c.EventEmitter,this.tabSubs.subscribe(function(e){r.onTopComMsg.emit(e)}),this.curTabIndex=this.items.length-1,o&&(this.tabIdComMap[o]={index:this.curTabIndex,comInstance:a.instance}),a}var l=this.tabIdComMap[o];this.tabChange(l.index)},e.prototype.setOneComHide=function(e){this.tabComs[e].location.nativeElement.style.display="none"},e.prototype.setOneComShow=function(e){this.tabComs[e].location.nativeElement.style.display="block"},e.prototype.tabChange=function(e){this.curTabIndex!==e&&(this.setOneComHide(this.curTabIndex),this.setOneComShow(e),this.curTabIndex=e,this.onTabChange.emit(e),this.tabComs[e].instance.tabRefresh&&this.tabComs[e].instance.tabRefresh({}))},e.prototype.setOneTabShow=function(e){this.tabChange(e)},e.prototype.removeTab=function(e){this.tabComs[e].destroy(),this.tabComs.splice(e,1),this.items.splice(e,1),e<=this.curTabIndex&&this.curTabIndex--,this.curTabIndex<0&&(this.curTabIndex=0),this.setOneComShow(this.curTabIndex),this.onTabRemove.emit(e);var t=this.tabIdComMap;for(var n in t)if(t[n].index==e){delete t[n];break}},e.prototype.removeTabById=function(e){var t=this.tabIdComMap;for(var n in t)if(n==e){this.removeTab(t[n].index);break}},e.prototype.ngOnDestroy=function(){this.target&&this.target.clear()},e.decorators=[{type:c.Component,args:[{selector:"jdb-tab",template:'<div class="tab-wraper">\n    <div class="tab-nav-wraper">\n        <div class="tab-item" *ngFor="let item of items;let i = index;" [ngClass]="{\'tab-selected\':i == curTabIndex}" title=\'{{item.title}}\'>\n            <div (click)="tabChange(i)" class="tab-text"> {{item.title}}</div>\n            <span class="close-btn" (click)="removeTab(i)" *ngIf="i !== 0 && item.isCloseFlag != true">&times;</span>\n        </div>\n    </div>\n    <div class="tab-content-wraper">\n        <div #tabContent class="place-holder"></div>\n    </div>\n</div>\n',styles:[".tab-wraper{display:flex;flex-direction:column}.tab-nav-wraper{display:flex}.tab-nav-wraper .tab-item{width:120px;font-size:13px;display:flex;justify-content:center;background:#f0f1f5;border:1px solid #afb0b3;border-bottom:none;margin-right:5px;height:30px;border-radius:2px 2px 0 0;text-align:center;position:relative;cursor:pointer}.tab-nav-wraper .tab-item .tab-text{color:#7d7e80;white-space:nowrap;overflow:hidden;vertical-align:middle;text-overflow:ellipsis;padding:5px 20px 0}.tab-nav-wraper .tab-item.tab-selected{background:#fff;border:none;border-top:3px solid #3f69f2}.tab-nav-wraper .tab-item.tab-selected .tab-text{color:#3f69f2;padding-top:3px}.tab-nav-wraper .tab-item .close-btn{position:absolute;top:0;right:8px;font-size:24px;cursor:pointer;color:#999;font-weight:100}.tab-content-wraper{box-shadow:1px 1px 1px 1px #afb0b3;background:#fff}.tab-content-wraper .place-holder{width:0;height:0}"]}]}],e.ctorParameters=function(){return[{type:c.ComponentFactoryResolver},{type:c.Injector}]},e.propDecorators={target:[{type:c.ViewChild,args:["tabContent",{read:c.ViewContainerRef}]}],onTabChange:[{type:c.Output}],onTabRemove:[{type:c.Output}],onTopComMsg:[{type:c.Output}]},e}(),a=function(){function e(){this.update=new c.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.closeModel=function(){this.update.emit({status:!1})},e.decorators=[{type:c.Component,args:[{selector:"app-show-picture",template:'<div>\n    <div class="img-mask" (click)="closeModel()">\n        \x3c!-- 遮罩层 --\x3e\n    </div>\n    <div class="img-content">\n          <span class="close" (click)="closeModel()">\n            <img src="/assets/images/close-x.png" alt="">\n          </span>\n          <img [src]="pictureUrl" alt="" style="max-height: 600px;max-width: 800px;">\n    </div>\n</div>\n',styles:['@charset "UTF-8";.img-mask{width:100%;height:100%;background:#000;position:fixed;top:0;left:0;-moz-opacity:.3;opacity:.8;z-index:9998;display:block}.img-content{background-color:#d7d8db;position:fixed;width:800px;height:600px;margin-left:-400px;left:50%;margin-top:-300px;top:50%;line-height:600px;border:1px solid #e1e2e6;z-index:9999;text-align:center;box-sizing:border-box;font-size:0;border:none}.img-content .close{position:absolute;width:22px;height:22px;border-radius:11px;background-color:#e7e8e9;top:8px;right:8px;z-index:9999;text-align:center;line-height:8px}.img-content img{vertical-align:middle}']}]}],e.ctorParameters=function(){return[]},e.propDecorators={pictureUrl:[{type:c.Input}],update:[{type:c.Output}]},e}(),p=function(){function e(e){this.renderer=e,this.pictureList=[],this.update=new c.EventEmitter,this.maxWidth=800,this.maxHeight=600,this.jdbShowType=1,this._jdbMaster=!0,this._jdbClear=!0,this.dragStatus=!1,this.current=0,this.imgOperate={num:1,degnum:0}}return Object.defineProperty(e.prototype,"jdbMaster",{get:function(){return this._jdbMaster},set:function(e){this._jdbMaster=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbClear",{get:function(){return this._jdbClear},set:function(e){this._jdbClear=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbCurrent",{get:function(){return this.current},set:function(e){e>this.pictureList.length||e<0?this.current=0:this.current=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.elem=this.imgBox.nativeElement.children},e.prototype.ngOnChanges=function(){var n=this;this.pictureList&&this.pictureList.forEach(function(e,t){n.resetPosition(t)})},e.prototype.ngAfterViewInit=function(){var e=this.imgContent.nativeElement;this.renderer.setElementStyle(e,"height",this.maxHeight+"px"),this.renderer.setElementStyle(e,"width",this.maxWidth+"px"),1==this.jdbShowType&&(this.renderer.setElementStyle(e,"margin-left",-this.maxWidth/2+"px"),this.renderer.setElementStyle(e,"margin-top",-this.maxHeight/2+"px"))},e.prototype.resetPosition=function(r){var s=this,a=new Image;a.onload=function(){var e,t,n=a.width,o=a.height,i=n/o;t=s.maxWidth/n,e=s.maxHeight/o,1<t&&1<e?(n=n,o=o):t<1&&e<1?1<i?o=(n=s.maxWidth)/i:i<1&&(n=(o=s.maxHeight)*i):1<t&&e<1?(o=s.maxHeight,n*=e):t<1&&1<e&&(o*=t,n=s.maxWidth),s.renderer.setElementStyle(s.elem[r].children[0],"height",o+"px"),s.renderer.setElementStyle(s.elem[r].children[0],"width",n+"px"),n===s.maxWidth&&o===s.maxHeight?(s.renderer.setElementStyle(s.elem[r].children[0],"top","0px"),s.renderer.setElementStyle(s.elem[r].children[0],"left","0px")):(s.renderer.setElementStyle(s.elem[r].children[0],"top",(s.maxHeight-o)/2+"px"),s.renderer.setElementStyle(s.elem[r].children[0],"left",(s.maxWidth-n)/2+"px"))},a.src=this.pictureList[r].imgUrl},e.prototype.ImgState=function(e){if(!this.pictureList||!this.pictureList.length)return"off";if(0===this.current)return 0===e?"on":1===e?"next":e===this.pictureList.length-1?"prev":"off";if(this.current===this.pictureList.length-1)return e===this.pictureList.length-1?"on":e===this.pictureList.length-2?"prev":0===e?"next":"off";switch(e-this.current){case 0:return"on";case 1:return"next";case-1:return"prev";default:return"off"}},e.prototype.Next=function(){this.resetImgData(),this.current=(this.current+1)%this.pictureList.length,this.resetPosition(this.current-1)},e.prototype.Prev=function(){this.resetImgData(),this.current=this.current-1<0?this.pictureList.length-1:this.current-1,this.resetPosition(this.current+1)},e.prototype.closeModel=function(){this.resetImgData(),this.update.emit({status:!1})},e.prototype.scaleBig=function(){this.imgOperate.num=2*this.imgOperate.num,4<this.imgOperate.num&&(this.imgOperate.num=4);var e="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",e)},e.prototype.scaleSmall=function(){this.imgOperate.num=this.imgOperate.num/2,this.imgOperate.num<1&&(this.imgOperate.num=.5);var e="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",e)},e.prototype.routateNi=function(){this.imgOperate.degnum++;var e="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",e)},e.prototype.routateShun=function(){this.imgOperate.degnum--;var e="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",e)},e.prototype.resetImgData=function(){this.imgOperate={num:1,degnum:0};this.renderer.setElementStyle(this.elem[this.current].children[0],"transition","transform 0.2s linear 0.4s"),this.renderer.setElementStyle(this.elem[this.current].children[0],"transform","scale(1,1) rotate(0deg)")},e.prototype.toBoolean=function(e){return""===e||e&&"false"!==e},e.prototype.ngOnDestroy=function(){this.pictureList=null,this.imgBox=null,this.imgContent=null,this.current=null},e.decorators=[{type:c.Component,args:[{selector:"app-picture-viewer",template:'<div class="picture-viewer">\n    <div class="img-mask" *ngIf="_jdbMaster" (click)="closeModel()">\n        \x3c!-- 遮罩层 --\x3e\n    </div>\n    <div #imgContent [ngClass]="{\'img-content-componet\':jdbShowType==2}" class="img-content">\n        \x3c!-- 右上角关闭按钮 --\x3e\n        <div class="close" *ngIf="_jdbClear" (click)="closeModel()">\n            <span class="icon-close"></span>\n        </div>\n\n        \x3c!-- 图片box --\x3e\n        <ul class="img-box" #img>\n            \x3c!-- <li *ngFor="let item of pictureList;let i=index" [@imgMove]="ImgState(i)">\n                <img appDragDirective  [src]="item.imgUrl" alt="" style="max-height: 600px;max-width: 800px;">\n            </li> --\x3e\n        </ul>\n        \x3c!-- 上一页下一页 --\x3e\n        <div [hidden]="current==0" class="prev-page" (click)="Prev()">\n            <span class="icon-pagination-prev"></span>\n        </div>\n        <div [hidden]="current==pictureList.length-1" class="next-page" (click)="Next()">\n            <span class="icon-pagination-next"></span>\n        </div>\n\n        \x3c!-- 右下角页码 --\x3e\n        <div class="img-index">{{current+1}}/{{pictureList.length}}</div>\n        \x3c!-- 缩放旋转按钮组 --\x3e\n        <div class="btn-box">\n            <span [ngClass]="{\'hover-disabled\':imgOperate.num===4}" class="icon-picture-zoom-in scale-big" (click)="scaleBig()"></span>\n            <span [ngClass]="{\'hover-disabled\':imgOperate.num==0.5}" class="icon-picture-zoom-out  scale-small" (click)="scaleSmall()"></span>\n            <span class="icon-picture-counterclockwise routate-ni" (click)="routateNi()"></span>\n            <span class="icon-picture-clockwise routate-shun" (click)="routateShun()"></span>\n        </div>\n    </div>\n</div>',styles:['@charset "UTF-8";.picture-viewer .img-mask{width:100%;height:100%;background:#000;position:fixed;top:0;left:0;-moz-opacity:.3;opacity:.8;z-index:9998;display:block}.picture-viewer .img-content{background-color:#d7d8db;position:fixed;left:50%;top:50%;border:1px solid #ccc;z-index:9999;text-align:center;box-sizing:border-box;border:none}.picture-viewer .img-content .close{position:absolute;width:22px;height:22px;border-radius:11px;border:1px solid #fff;background-color:rgba(255,255,255,.7);top:8px;right:8px;z-index:9999;text-align:center;line-height:8px}.picture-viewer .img-content .close .icon-close{display:block;margin-top:1px;margin-left:1px;font-size:18px}.picture-viewer .img-content .img-box{position:absolute;left:0;width:100%;height:100%;overflow:hidden}.picture-viewer .img-content .img-box li{background-color:#d7d8db;position:absolute;z-index:11;height:100%;width:100%;transition:.1s}.picture-viewer .img-content .img-box li img{position:absolute;display:block;margin:auto;transition:-webkit-transform .1s;transition:transform .1s;transition:transform .1s,-webkit-transform .1s}.picture-viewer .img-content a{position:absolute;top:50%;margin-top:-30px;width:60px;height:60px;z-index:400;background:url(/assets/images/CXicon.png) 0 0/192px 144px no-repeat}.picture-viewer .img-content .next{right:20px;background-position:-54px -78px}.picture-viewer .img-content .prev{left:20px;background-position:-54px -6px}.picture-viewer .img-content .next:hover{background-position:-126px -78px}.picture-viewer .img-content .prev:hover{background-position:-126px -6px}.picture-viewer .img-content .next-page,.picture-viewer .img-content .prev-page{position:absolute;top:50%;margin-top:-30px;width:60px;height:60px;z-index:400;border-radius:50%;background-color:rgba(0,0,0,.2)}.picture-viewer .img-content .next-page span,.picture-viewer .img-content .prev-page span{display:block;margin-top:6px;color:rgba(255,255,255,.4);font-size:48px}.picture-viewer .img-content .prev-page{left:20px}.picture-viewer .img-content .next-page{right:20px}.picture-viewer .img-content .next-page:hover,.picture-viewer .img-content .prev-page:hover{background-color:rgba(0,0,0,.7)}.picture-viewer .img-content .next-page:hover span,.picture-viewer .img-content .prev-page:hover span{color:#fff}.picture-viewer .img-content .img-index{position:absolute;bottom:15px;right:22px;z-index:101;color:#323233;font-size:16px;height:22px;line-height:22px;width:42px;text-align:center;border-radius:2px;background:rgba(215,216,219,.7)}.picture-viewer .img-content .btn-box{position:absolute;z-index:109;bottom:12px;left:50%;margin-left:-73px;padding:3px 5px;height:30px;width:147px;background:rgba(0,0,0,.5);border-radius:2px;color:rgba(255,255,255,.4)}.picture-viewer .img-content .btn-box span{float:left;margin:0 5px}.picture-viewer .img-content .btn-box .routate-ni:hover,.picture-viewer .img-content .btn-box .routate-shun:hover,.picture-viewer .img-content .btn-box .scale-big:hover,.picture-viewer .img-content .btn-box .scale-small:hover{color:#fff}.picture-viewer .img-content .btn-box .hover-disabled:hover{color:rgba(255,255,255,.4)}.picture-viewer .img-content-componet{position:relative;top:0;left:0;margin:0}'],animations:[c.trigger("imgMove",[c.state("off",c.style({display:"none","z-index":"0",transform:"translateX(0)"})),c.state("prev",c.style({"z-index":"1",transform:"translateX(-100%)"})),c.state("next",c.style({"z-index":"2",transform:"translateX(100%)"})),c.state("on",c.style({"z-index":"3",transform:"translateX(0)"})),c.transition("prev=>on",[c.animate("0.3s ease-in")]),c.transition("next=>on",[c.animate("0.3s ease-in")]),c.transition("on=>prev",[c.animate("0.3s ease-in")]),c.transition("on=>next",[c.animate("0.3s ease-in")])])]}]}],e.ctorParameters=function(){return[{type:c.Renderer}]},e.propDecorators={pictureList:[{type:c.Input}],update:[{type:c.Output}],imgBox:[{type:c.ViewChild,args:["img"]}],imgContent:[{type:c.ViewChild,args:["imgContent"]}],maxWidth:[{type:c.Input}],maxHeight:[{type:c.Input}],jdbShowType:[{type:c.Input}],jdbMaster:[{type:c.Input}],jdbClear:[{type:c.Input}],jdbCurrent:[{type:c.Input}]},e}(),d=function(){function e(e,t){this.elem=e,this.render=t,this.isDown=!1}return e.prototype.onMousedown=function(e){localStorage.getItem("dragWidth"),localStorage.getItem("dragHeight");this.isDown=!0,this.disLeft=this.elem.nativeElement.offsetLeft,this.disTop=this.elem.nativeElement.offsetTop,this.disX=e.clientX,this.disY=e.clientY,e.target.style.cursor="move"},e.prototype.onMousemove=function(e){if(e.preventDefault(),this.isDown){var t=e.clientX-this.disX,n=e.clientY-this.disY;this.elem.nativeElement.style.left=t+this.disLeft+"px",this.elem.nativeElement.style.top=n+this.disTop+"px"}return!1},e.prototype.onMouseup=function(){this.isDown&&(this.isDown=!1,this.disLeft=this.elem.nativeElement.offsetLeft,this.disTop=this.elem.nativeElement.offsetTop)},e.prototype.onMouseleave=function(){this.isDown=!1},e.prototype.ngOnDestroy=function(){},e.decorators=[{type:c.Directive,args:[{selector:"img[appDragDirective]"}]}],e.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer}]},e.propDecorators={onMousedown:[{type:c.HostListener,args:["mousedown",["$event"]]}],onMousemove:[{type:c.HostListener,args:["mousemove",["$event"]]}],onMouseup:[{type:c.HostListener,args:["mouseup",["$event"]]}],onMouseleave:[{type:c.HostListener,args:["mouseleave",["$event"]]}]},e}(),u=function(){function e(e,t){this.el=e,this.renderer2=t,this._current=1,this._pageSize=10,this._firstIndex=1,this._lastIndex=Infinity,this._showTotal=!1,this._showPageSize=!1,this._showQuickJump=!1,this.pages=[],this._options=[{value:10,text:"10条/页"},{value:20,text:"20条/页"},{value:30,text:"30条/页"},{value:40,text:"40条/页"},{value:50,text:"50条/页"}],this._jdbSimple=!1,this.jdbPageSizeChange=new c.EventEmitter,this.jdbPageIndexChange=new c.EventEmitter}return Object.defineProperty(e.prototype,"jdbShowTotal",{get:function(){return this._showTotal},set:function(e){this._showTotal=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbTotal",{get:function(){return this._total},set:function(e){e!==this._total&&(this._total=e,this.setPageNo())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbPageIndex",{get:function(){return this._current},set:function(e){this._current!==e&&(e>this._lastIndex||e<this._firstIndex||(this._current=Number(e),this.setPageNo()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbShowPageSize",{get:function(){return this._showPageSize},set:function(e){this._showPageSize=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbPageSize",{get:function(){return this._pageSize},set:function(e){e!==this._pageSize&&(this._pageSize=e,this.setPageNo())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbSizeOptions",{get:function(){return this._options},set:function(e){if(e!==this._options&&"[object Array]"===Object.prototype.toString.call(e)){var n=[];e.forEach(function(e){var t={value:e,text:e+"条/页"};n.push(t)}),this._options=n}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbShowQuickJump",{get:function(){return this._showQuickJump},set:function(e){this._showQuickJump=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbSimple",{get:function(){return this.jdbSimple},set:function(e){this._jdbSimple=this.toBoolean(e)},enumerable:!0,configurable:!0}),e.prototype.setPageNo=function(){this._lastIndex=Math.ceil(this._total/this._pageSize);var e=[];if(this._lastIndex<=9)for(var t=2;t<=this._lastIndex-1;t++)e.push({index:t});else{var n=+this._current,o=Math.max(2,n-2),i=Math.min(n+2,this._lastIndex-1);5===n?o=2:n===this._lastIndex-4&&(i=this._lastIndex-1),n-1<=3&&(i=7),this._lastIndex-n<=3&&(o=this._lastIndex-6);for(t=o;t<=i;t++)e.push({index:t})}this.pages=e},e.prototype.dataChange=function(e,t){if(e){if(t===this._firstIndex-1||t===this._lastIndex+1)return;this.quickJumpPage="",this.jdbPageIndex=t,this.jdbPageIndexChange.emit(this.jdbPageIndex)}else this.quickJumpPage="",this.jdbPageSize=t,this.jdbPageSizeChange.emit(t),this.jdbPageIndex=1,this.jdbPageIndexChange.emit(this.jdbPageIndex),this.setPageNo()},e.prototype.quickJump=function(){if(this.quickJumpPage>this._lastIndex)return this.inputJump.nativeElement.focus(),void(this.quickJumpPage="");this.quickJumpPage&&(this.jdbPageIndex=this.quickJumpPage,this.jdbPageIndexChange.emit(this.jdbPageIndex))},e.prototype.jumpBefore=function(e){this.dataChange(!0,this._current-Math.round(e/2))},e.prototype.jumpAfter=function(e){this.dataChange(!0,this._current+Math.round(e/2))},e.prototype.toBoolean=function(e){return""===e||e&&"false"!==e},e.prototype.isNumber=function(e){return/^[0-9]*$/.test(e)},e.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-pagination",template:'<div class="jdb-plg-pagination">\n    \x3c!-- 总条数 --\x3e\n    <span *ngIf="_showTotal" class="total-box">\n      共{{_total}}条\n    </span>\n\n    <div class="operate-box">\n        \x3c!-- 条数切换 --\x3e\n        <div class="jdb-plg-pagination-options" *ngIf="_showPageSize">\n            <app-jdb-plg-select (ngModelChange)="dataChange(false,$event)" [jdbSize]="\'small\'" [jdbWidth]="\'90px\'" [(ngModel)]="_pageSize" [jdbSelectList]="_options"></app-jdb-plg-select>\n        </div>\n        \x3c!-- 基本分页样式 --\x3e\n        <ul *ngIf="!_jdbSimple" class="base-pagination">\n            \x3c!-- 上一页按钮 --\x3e\n            <li class="jdb-plg-pagination-prev" title="上一页" [ngClass]="{\'disabled\':_current===_firstIndex}" (click)="dataChange(true,_current-1)">\n                <span class="jdbIcon icon-pagination-prev"></span>\n            </li>\n            \x3c!-- 首页按钮 --\x3e\n            <li class="jdb-plg-pagination-first" title="首页" [ngClass]="{\'active\':_current===_firstIndex}" (click)="dataChange(true,_firstIndex)">\n                {{_firstIndex}}\n            </li>\n            \x3c!-- 省略号 --\x3e\n            <li class="jdb-plg-pagination-forward" *ngIf="(_lastIndex >9)&&(_current-4>_firstIndex)" (click)="jumpBefore(_pageSize)">\n                <span class="icon-pagination-more"></span>\n                <span class="icon-pagination-jump-prev"></span>\n            </li>\n            \x3c!-- 按钮 --\x3e\n            <li class="jdb-plg-pagination-pager" *ngFor="let page of pages" [ngClass]="{\'active\':_current===page.index}" (click)="dataChange(true,page.index)">\n                {{page.index}}\n            </li>\n            \x3c!-- 省略号 --\x3e\n            <li class="jdb-plg-pagination-backward" *ngIf="(_lastIndex >9)&&(_current+4<_lastIndex)" (click)="jumpAfter(_pageSize)">\n                <span class="icon-pagination-more"></span>\n                <span class="icon-pagination-jump-next"></span>\n            </li>\n            \x3c!-- 尾页按钮 --\x3e\n            <li class="jdb-plg-pagination-last" *ngIf="(_lastIndex>0)&&(_lastIndex!==_firstIndex)" title="尾页" [ngClass]="{\'active\':_current===_lastIndex}" (click)="dataChange(true,_lastIndex)">\n                {{_lastIndex}}\n            </li>\n            \x3c!-- 下一页按钮 --\x3e\n            <li class="jdb-plg-pagination-next" title="下一页" [ngClass]="{\'disabled\':_current===_lastIndex}" (click)="dataChange(true,_current+1)">\n                <span class="jdbIcon icon-pagination-next"></span>\n            </li>\n        </ul>\n        \x3c!-- 简单分页样式 --\x3e\n        <div class="simple-pagination" *ngIf="_jdbSimple">\n            <div class="left-box">\n                <span class="icon-pagination-first" [ngClass]="{\'disabled\':_current===_firstIndex}" (click)="dataChange(true,_firstIndex)"></span>\n                <span class="icon-pagination-prev" [ngClass]="{\'disabled\':_current===_firstIndex}" (click)="dataChange(true,_current-1)"></span>\n            </div>\n            <div class="center-box">\n                {{_current}} / {{_lastIndex}}\n            </div>\n            <div class="right-box">\n                <span class="icon-pagination-next" [ngClass]="{\'disabled\':_current===_lastIndex}" (click)="dataChange(true,_current+1)"></span>\n                <span class="icon-pagination-last" [ngClass]="{\'disabled\':_current===_lastIndex}" (click)="dataChange(true,_lastIndex)"></span>\n            </div>\n        </div>\n        \x3c!-- 快速跳转 --\x3e\n        <div *ngIf="_showQuickJump" class="quick-jumper">\n            第\n            <input #inputJump type="text" [(ngModel)]="quickJumpPage" (keyup.enter)="quickJump()" appOnlyNumber="true"> 页\n            <button (click)="quickJump()">跳转</button>\n        </div>\n    </div>\n</div>',styles:[".jdb-plg-pagination{height:24px;display:inline-block}.jdb-plg-pagination .total-box{float:left;margin-right:30px;height:24px;line-height:24px;font-size:12px;color:#323233}.jdb-plg-pagination .operate-box{float:right}.jdb-plg-pagination .operate-box .jdb-plg-pagination-options{float:left;margin-right:30px}.jdb-plg-pagination .operate-box .base-pagination{float:left;overflow:hidden}.jdb-plg-pagination .operate-box .base-pagination li{position:relative;float:left;margin-right:5px;padding:0 5px;height:24px;min-width:24px;line-height:24px;text-align:center;border-radius:2px;color:#323233;border:1px solid #afb0b3;cursor:pointer;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;background:#fff}.jdb-plg-pagination .operate-box .base-pagination .disabled{background:#f0f1f5;color:#bfc0c4;border:1px solid #e1e2e6}.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-backward,.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-forward{border:none;padding:0;background:0 0}.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-backward .icon-pagination-jump-next,.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-backward .icon-pagination-jump-prev,.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-forward .icon-pagination-jump-next,.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-forward .icon-pagination-jump-prev{color:#3f69f2;display:none}.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-forward:hover .icon-pagination-jump-prev{display:block}.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-forward:hover .icon-pagination-more{display:none}.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-backward:hover .icon-pagination-jump-next{display:block}.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-backward:hover .icon-pagination-more{display:none}.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-first:hover,.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-last:hover,.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-next:hover,.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-pager:hover,.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-prev:hover{color:#4d76ff;border:1px solid #4d76ff}.jdb-plg-pagination .operate-box .base-pagination .active,.jdb-plg-pagination .operate-box .base-pagination .active:hover{background:#4d76ff;color:#fff;border:none}.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-next,.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-prev{padding:0}.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-next .jdbIcon,.jdb-plg-pagination .operate-box .base-pagination .jdb-plg-pagination-prev .jdbIcon{font-size:22px}.jdb-plg-pagination .operate-box .simple-pagination{float:left;overflow:hidden}.jdb-plg-pagination .operate-box .simple-pagination .center-box,.jdb-plg-pagination .operate-box .simple-pagination .left-box,.jdb-plg-pagination .operate-box .simple-pagination .right-box{overflow:hidden;float:left}.jdb-plg-pagination .operate-box .simple-pagination .center-box span,.jdb-plg-pagination .operate-box .simple-pagination .left-box span,.jdb-plg-pagination .operate-box .simple-pagination .right-box span{float:left;line-height:24px;text-align:center;height:24px;width:24px}.jdb-plg-pagination .operate-box .simple-pagination .center-box span:first-child,.jdb-plg-pagination .operate-box .simple-pagination .left-box span:first-child,.jdb-plg-pagination .operate-box .simple-pagination .right-box span:first-child{margin-right:1px}.jdb-plg-pagination .operate-box .simple-pagination .center-box .disabled,.jdb-plg-pagination .operate-box .simple-pagination .left-box .disabled,.jdb-plg-pagination .operate-box .simple-pagination .right-box .disabled{color:#d7d8db}.jdb-plg-pagination .operate-box .simple-pagination .center-box span:hover,.jdb-plg-pagination .operate-box .simple-pagination .left-box span:hover,.jdb-plg-pagination .operate-box .simple-pagination .right-box span:hover{color:#4d76ff}.jdb-plg-pagination .operate-box .simple-pagination .center-box{width:50px;height:24px;line-height:24px;text-align:center}.jdb-plg-pagination .operate-box .quick-jumper{float:left;margin-left:20px}.jdb-plg-pagination .operate-box .quick-jumper button,.jdb-plg-pagination .operate-box .quick-jumper input{text-align:center;width:40px;height:24px;border-radius:3px;border:1px solid #e1e2e6;outline:0}.jdb-plg-pagination .operate-box .quick-jumper button{margin-left:15px;float:right}.jdb-plg-pagination .operate-box .quick-jumper input{ime-mode:disabled}"]}]}],e.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2}]},e.propDecorators={jdbPageSizeChange:[{type:c.Output}],jdbPageIndexChange:[{type:c.Output}],inputJump:[{type:c.ViewChild,args:["inputJump"]}],jdbShowTotal:[{type:c.Input}],jdbTotal:[{type:c.Input}],jdbPageIndex:[{type:c.Input}],jdbShowPageSize:[{type:c.Input}],jdbPageSize:[{type:c.Input}],jdbSizeOptions:[{type:c.Input}],jdbShowQuickJump:[{type:c.Input}],jdbSimple:[{type:c.Input}]},e}(),b=function(){function e(e,t){this._elementRef=e,this._renderer=t,this._prefixCls="jdb-plg-btn",this._el=this._elementRef.nativeElement,this.nativeElement=this._elementRef.nativeElement,this._renderer.addClass(this._el,this._prefixCls)}return Object.defineProperty(e.prototype,"jdbSize",{get:function(){return this.size},set:function(e){e||(e="default"),this.size=e,this._setClassMap(this.loading)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbType",{get:function(){return this.type},set:function(e){e||(e="primary"),this.type=e,this._setClassMap(this.loading)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbLoading",{get:function(){return this.loading},set:function(e){e=""===e||e&&"false"!==e,this.loading=e,this._setClassMap(this.loading)},enumerable:!0,configurable:!0}),e.prototype._setClassMap=function(e){this._renderer.removeClass(this._el,"undefined"),this._renderer.addClass(this._el,this.size),this._renderer.addClass(this._el,this.type),e?this._renderer.addClass(this._el,"loading_disable"):this._renderer.removeClass(this._el,"loading_disable")},e.prototype.ngOnInit=function(){},e.decorators=[{type:c.Component,args:[{selector:"[app-jdb-plg-button]",template:'<i class="jdb-icon-loading action" *ngIf="loading"></i>\n<ng-content></ng-content>',styles:["@-webkit-keyframes loadingCircle{0%{-webkit-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes loadingCircle{0%{-webkit-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform:rotate(360deg);transform:rotate(360deg)}}:host.jdb-plg-btn{font-weight:500;white-space:nowrap;cursor:pointer;outline:0}:host.jdb-plg-btn .action{display:inline-block;vertical-align:middle}:host.jdb-plg-btn .action:before{display:inline-block;-webkit-animation:1s linear infinite loadingCircle;animation:1s linear infinite loadingCircle}:host.jdb-plg-btn .action2{display:inline-block;-webkit-transform:translateY(-37%);transform:translateY(-37%)}:host.large{min-width:120px;line-height:40px;border-radius:4px;padding:0 16px}:host.default{min-width:100px;line-height:30px;border-radius:3px;padding:0 12px}:host.small{min-width:60px;line-height:24px;border-radius:2px;padding:0 10px}:host.small .action{width:24px;height:24px}:host.primary{background-color:#3f69f2;color:#fff;border:1px solid #3f69f2}:host.primary:hover{background-color:#4d76ff;border:1px solid #4d76ff}:host.primary:active{background-color:#264199;border:1px solid #264199}:host.primary:disabled{background-color:#aabbf2;border:1px solid #aabbf2}:host.gray{background-color:#f0f1f5;color:#575757;border:1px solid #d7d8db}:host.gray:hover{background-color:#fff}:host.gray:active{background-color:#d7d8db}:host.gray:disabled{background-color:#f0f1f5}:host.danger{background-color:#f84a4a;color:#fff;border:1px solid #f84a4a}:host.danger:hover{background-color:#f66;border:1px solid #f66}:host.danger:active{background-color:#c32929;border:1px solid #c32929}:host.danger:disabled{background-color:#e6bcbc;border:1px solid #e6bcbc}:host.buleline{background-color:#fff;color:#3f69f2;border:1px solid #3f69f2}:host.buleline:hover{background-color:#ebf0fe}:host.buleline:active{background-color:#d7d8db}:host.buleline:disabled{color:#afb0b3;border:1px solid #afb0b3;background-color:#f0f1f5}:host.white{background-color:#fff;color:#575757;border:1px solid #afb0b3}:host.white:hover{background-color:#f0f1f5}:host.white:active{background-color:#d7d8db}:host.white:disabled{color:#afb0b3;border:1px solid #afb0b3;background-color:#f0f1f5}:host.loading_disable{background-color:#aabbf2;border:1px solid #aabbf2;pointer-events:none}"]}]}],e.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2}]},e.propDecorators={jdbSize:[{type:c.Input}],jdbType:[{type:c.Input}],jdbLoading:[{type:c.Input}]},e}(),m=function(){function e(e){this.resolver=e,this._customClass="",this._maskClass="",this._visible=!1,this._title="",this._closeable=!0,this._animationStatus="11",this._width="400px",this._footerHide=!1,this._isConfirm=!1,this._okText="",this._cancelText="",this._RogerText="",this._state="hideM",this.MvisibileChange=new c.EventEmitter,this.MOnOk=new c.EventEmitter,this.MOnCancel=new c.EventEmitter}return Object.defineProperty(e.prototype,"Mvisible",{get:function(){return this._visible},set:function(e){var t=this.toBoolean(e);this._visible!==t&&(this._visible=t,this.MvisibileChange.emit(this._visible))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MfooterHiden",{get:function(){return this._footerHide},set:function(e){var t=this.toBoolean(e);this._visible!==t&&(this._footerHide=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Mtitle",{set:function(e){e instanceof c.TemplateRef?this._titleTpl=e:this._title=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Mcontent",{set:function(e){e instanceof c.TemplateRef?this._contentTpl=e:this._content=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Mfooter",{set:function(e){e instanceof c.TemplateRef&&(this._footerTpl=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Mwidth",{set:function(e){this._width="number"==typeof e?e+"px":e},enumerable:!0,configurable:!0}),e.prototype.setStyle=function(){this.contentEl.nativeElement;this._bodyStyleMap=function(){return e=Object.assign||function e(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)}({width:this._width})},e.prototype.onEsc=function(e){this.clickCancel(e)},Object.defineProperty(e.prototype,"Mclass",{set:function(e){this._customClass=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MOkText",{set:function(e){this._okText=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"McancelText",{set:function(e){this._cancelText=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MRogerText",{set:function(e){this._isConfirm=!0,this._RogerText=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.setStyle()},e.prototype.createDynamicComponent=function(e){var t=this.resolver.resolveComponentFactory(this._content);this.bodyEl.createComponent(t)},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnChanges=function(e){var t=this;this._visible?(this._state="showM",setTimeout(function(){t.contentEl.nativeElement.parentNode.focus()},200)):this._state="hideM"},e.prototype.clickCancel=function(e){this._visible=!1,this._state="hideM",this.MOnCancel.emit(e)},e.prototype.clickOk=function(e){this.MOnOk?this.MOnOk.emit(e):(this._visible=!1,this._state="hideM")},e.prototype.closeModal=function(e){"dialog"===e.target.getAttribute("role")&&(this.clickCancel(e),this._state="hideM")},e.prototype.toBoolean=function(e){return""===e||e&&!1!==e},e.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-dialog",template:'<div [ngClass]="_customClass">\n    <div class="_maskClass" [ngClass]="{\'hid\':!_visible}" [style.zIndex]="1000"></div>\n    <div class="jdb-modal" tabindex="-1" role="dialog" [ngClass]="{\'hid\':!_visible}" [ngStyle]="{\'dispaly\':!_visible}" (click)="closeModal($event)" class="_wrapClass" [ngClass]="_wrapClass" [style.zIndex]="1000" [attr.aria-modalId]="modalId">\n        <div #modal_content class="modal" [@optionsState]="_state" [ngStyle]="_bodyStyleMap">\n            <div class="modal-content">\n                <ng-template [ngIf]="_closeable">\n                    <button class="modal-close" (click)="clickCancel($event)">\n                      \x3c!-- <span class="modal-close-x"></span> --\x3e\n                      <span class="icon-close"></span>\n                    </button>\n                </ng-template>\n\n                <div class="modal-header" *ngIf="_title||_titleTpl">\n                    <div class="modal-title" [attr.id]="modalId">\n                        <ng-template #defaultTitle>\n                            {{_title}}\n                        </ng-template>\n                        <ng-template [ngTemplateOutlet]="_titleTpl||defaultTitle">\n                        </ng-template>\n                    </div>\n                </div>\n                <div class="modal-body">\n                    <ng-template #defaultContent>{{_content}}</ng-template>\n                    <ng-template [ngTemplateOutlet]="_contentTpl||defaultContent"></ng-template>\n                    <ng-template #modal_component></ng-template>\n                </div>\n                <div class="modal-footer" *ngIf="!_footerHide">\n                    <ng-template #defalutFooter>\n                        <button *ngIf="!_isConfirm" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'white\'" (click)="clickCancel($event)"><span>{{_cancelText||\'取消\'}}</span></button>\n                        <button *ngIf="!_isConfirm" class="right-btn" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'primary\'" (click)="clickOk($event)"><span>{{_okText||\'确认\'}}</span></button>\n                        <button *ngIf="_isConfirm" class="right-btn" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'primary\'" (click)="clickOk($event)" (click)="clickOk($event)"><span>{{_RogerText}}</span></button>\n                    </ng-template>\n                    <ng-template [ngTemplateOutlet]="_footerTpl||defalutFooter"></ng-template>\n                </div>\n                <div tabindex="0" style="width:0px;height:0px;overflow:hidden;">aaa</div>\n            </div>\n        </div>\n    </div>\n</div>',styles:["._maskClass{position:fixed;top:0;bottom:0;left:0;right:0;height:100%;background:rgba(0,0,0,.5)}._maskClass.hid{display:none}._wrapClass{position:fixed;overflow:auto;top:0;left:0;bottom:0;right:0;z-index:1000;-webkit-overflow-scrolling:touch;outline:0}._wrapClass.hid{display:none}.modal{position:absolute;left:50%;top:50%;background:#fff}.modal-header{background:#f0f1f5;border-bottom:1px solid #d7d8db;border-top-left-radius:3px;border-top-right-radius:3px}.modal-title{margin:0;font-size:16px;line-height:40px;color:#323233;text-align:center}.modal-close{cursor:pointer;border:none;width:40px;height:40px;background:0 0;position:absolute;right:0;top:0;z-index:10;line-height:1;text-decoration:none;color:#000;outline:0}.modal-close-x{display:inline-block;text-align:center;width:20px;height:20px;line-height:40px;font-size:16px;background-size:cover}.modal-close-x:hover{transition:color .3s ease;color:#000}.modal-body{padding:40px;background:#fff;overflow:hidden}.modal-footer{padding:40px 0;background:#fff;border-bottom-left-radius:3px;border-bottom-right-radius:3px;text-align:center}.modal-footer .right-btn{margin-left:20px}"],animations:[t.trigger("optionsState",[t.state("showM",t.style({transform:"translate(-50%, -50%)",opacity:"1"})),t.state("hideM",t.style({transform:"translate(-50%, -80%)",opacity:"0"})),t.transition("showM <=> hideM",t.animate("200ms ease-out"))])]}]}],e.ctorParameters=function(){return[{type:c.ComponentFactoryResolver}]},e.propDecorators={contentEl:[{type:c.ViewChild,args:["modal_content"]}],bodyEl:[{type:c.ViewChild,args:["modal_component",{read:c.ViewContainerRef}]}],MvisibileChange:[{type:c.Output}],MOnOk:[{type:c.Output}],MOnCancel:[{type:c.Output}],Mvisible:[{type:c.Input}],MfooterHiden:[{type:c.Input}],Mtitle:[{type:c.Input}],Mcontent:[{type:c.Input}],Mfooter:[{type:c.Input}],Mwidth:[{type:c.Input}],onEsc:[{type:c.HostListener,args:["keydown.esc",["$event"]]}],Mclass:[{type:c.Input}],MOkText:[{type:c.Input}],McancelText:[{type:c.Input}],MRogerText:[{type:c.Input}]},e}(),f=function(){function e(e){this.el=e,this.regexStr="^[0-9]*$"}return e.prototype.onKeyDown=function(e){var t=e;if(this.appOnlyNumber){if(-1!==[46,8,9,27,13,110,190].indexOf(t.keyCode)||65===t.keyCode&&!0===t.ctrlKey||67===t.keyCode&&!0===t.ctrlKey||86===t.keyCode&&!0===t.ctrlKey||88===t.keyCode&&!0===t.ctrlKey||35<=t.keyCode&&t.keyCode<=39)return;var n=String.fromCharCode(t.keyCode);if(new RegExp(this.regexStr).test(n))return;t.preventDefault()}},e.prototype.onKeyUp=function(e){this.el.nativeElement.value=this.el.nativeElement.value.replace(/\D/g,"")},e.decorators=[{type:c.Directive,args:[{selector:"[appOnlyNumber]"}]}],e.ctorParameters=function(){return[{type:c.ElementRef}]},e.propDecorators={appOnlyNumber:[{type:c.Input}],onKeyDown:[{type:c.HostListener,args:["keydown",["$event"]]}],onKeyUp:[{type:c.HostListener,args:["keyup",["$event"]]}]},e}(),x=function(){function e(e,t){this.renderer2=e,this.renderer=t,this._size="middle",this._optionText="text",this._optionValue="value",this.isShowClear=!1,this._jdbClear=!1,this._jdbDisabled=!1,this._jdbMode="chooseOne",this._placeHolder="请选择",this._chooseMoreArray=[],this._classMap={},this.savaHeight=!0,this.spaceFlex=!0,this._showImgBox=!1,this._jdbItemDisabled="disabled",this._jdbSureDisabled=2,this._jdbNoDisabled=1,this.jdbClassName="",this.show=!1,this.ngModelValue="",this.onChange=function(){return null}}return Object.defineProperty(e.prototype,"jdbItemDisabled",{get:function(){return this._jdbItemDisabled},set:function(e){this._jdbItemDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbSureDisabled",{get:function(){return this._jdbSureDisabled},set:function(e){this._jdbSureDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbPlaceHolder",{get:function(){return this._placeHolder},set:function(e){this._placeHolder=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbClear",{get:function(){return this._jdbClear},set:function(e){this._jdbClear=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbSelectList",{get:function(){return this._selectList},set:function(e){var t=this;this._selectList=e,this._selectList&&this._selectList.forEach(function(e){e.imgUrl&&(t._showImgBox=!0)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbSize",{get:function(){return this._size},set:function(e){this._size=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbWidth",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbOptionText",{get:function(){return this._optionText},set:function(e){this._optionText=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbOptionValue",{get:function(){return this._optionValue},set:function(e){this._optionValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbDisabled",{get:function(){return this._jdbDisabled},set:function(e){this._jdbDisabled=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbMode",{get:function(){return this._jdbMode},set:function(e){this._jdbMode=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this;this.renderer2.listen("document","click",function(){e.show=!1,e.renderer.setElementClass(e.inputDom.nativeElement,"jdb-plg-select-active",e.show)}),this._jdbClear&&!this._jdbDisabled&&(this.renderer2.listen(this.inputDom.nativeElement,"mouseenter",function(){if("chooseOne"===e._jdbMode||"chooseNum"===e._jdbMode){if(!e.inputText||e.show)return}else if("chooseMore"===e._jdbMode&&(0===e.inputText.length||e.show))return;e.isShowClear=!0,e.renderer.setElementClass(e.inputDom.nativeElement,"jdb-plg-select-active",e.show)}),this.renderer2.listen(this.inputDom.nativeElement,"mouseleave",function(){if("chooseOne"===e._jdbMode||"chooseNum"===e._jdbMode){if(!e.inputText||e.show)return}else if("chooseMore"===e._jdbMode&&(0===e.inputText.length||e.show))return;e.isShowClear=!1,e.renderer.setElementClass(e.inputDom.nativeElement,"jdb-plg-select-active",e.show)}))},e.prototype.ngOnChanges=function(){"chooseOne"===this._jdbMode?this.inputText="":"chooseMore"===this._jdbMode?this.inputText=[]:"chooseNum"===this._jdbMode&&(this.inputText=0),this.setClassMap()},e.prototype.setClassMap=function(){var e,t;"chooseMore"===this._jdbMode?this._classMap=((e={})[""+this._size]=!0,e["jdb-plg-select-bottom-"+this._size]=0!==this.inputText.length,e["jdb-plg-select-disabled"]=this._jdbDisabled,e[this.jdbClassName]=!0,e):this._classMap=((t={})[""+this._size]=!0,t["jdb-plg-select-disabled"]=this._jdbDisabled,t[this.jdbClassName]=!0,t)},e.prototype.clearInputText=function(e){e.stopPropagation(),"chooseOne"===this._jdbMode?this.inputText="":"chooseMore"===this._jdbMode?(this.inputText=[],this._chooseMoreArray=[]):"chooseNum"===this._jdbMode&&(this.inputText=0,this._chooseMoreArray=[]),this.isShowClear=!this.isShowClear,this.ngModelValue="",this.onChange(""),this.setClassMap()},e.prototype.dialogShow=function(e){e.stopPropagation(),this._jdbDisabled||(this.isShowClear=!1,this.show=!this.show,this.renderer.setElementClass(this.inputDom.nativeElement,"jdb-plg-select-active",this.show),this.optionPosition(this.optionList.nativeElement.clientHeight))},e.prototype.optionPosition=function(e){var t,n=this.getTop(this.inputDom.nativeElement),o=this.getScrollTop(this.inputDom.nativeElement.parentElement),i=document.documentElement.clientHeight||document.body.clientHeight,r=this.inputDom.nativeElement.clientHeight;"small"===this.jdbSize?t=2:"large"===this.jdbSize?t=9:"middle"===this.jdbSize&&(t=5),i-n-r-t+o<e?(this.spaceFlex=!1,this.renderer.setElementStyle(this.optionList.nativeElement,"transform-origin","100% 100%"),e<188?this.renderer.setElementStyle(this.optionList.nativeElement,"top",-e-5+"px"):this.renderer.setElementStyle(this.optionList.nativeElement,"top",-190-t+"px")):(this.spaceFlex=!0,this.renderer.setElementStyle(this.optionList.nativeElement,"top",""),this.renderer.setElementStyle(this.optionList.nativeElement,"transform-origin","0% 0%"))},e.prototype.writeValue=function(e){null===(this.ngModelValue=e)||""===e||e===undefined?"chooseMore"===this._jdbMode?this.inputText=[]:this.inputText="":"chooseOne"===this._jdbMode?this.forOneStart(e):"chooseMore"===this._jdbMode?(this.forMoreStart(e),this.setClassMap()):"chooseNum"===this._jdbMode&&this.forNumStart(e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){},e.prototype.forOneStart=function(t){var n=this;this._selectList.forEach(function(e){e[n._optionValue]===t&&(n.inputText=e[n._optionText])})},e.prototype.forMoreStart=function(e){var n=this;(e=e.split(",")).forEach(function(t){n._selectList.forEach(function(e){if(e[n._optionValue]===t){n._optionText,n._optionValue;return n.inputText.push({text:e[n._optionText],value:e[n._optionValue]}),void n._chooseMoreArray.push(e[n._optionValue])}})})},e.prototype.forNumStart=function(e){var n=this;(e=e.split(",")).forEach(function(t){n._selectList.forEach(function(e){if(e[n._optionValue]===t)return n.inputText++,void n._chooseMoreArray.push(e[n._optionValue])})})},e.prototype.item=function(e,t){e.stopPropagation(),this.show&&t[this._jdbItemDisabled]!==this._jdbSureDisabled&&(this.inputText=t[this._optionText],this.show=!this.show,this.renderer.setElementClass(this.inputDom.nativeElement,"jdb-plg-select-active",this.show),this.ngModelValue=t[this._optionValue],this.onChange(t[this._optionValue]))},e.prototype.chooseMore=function(e,n){var o=this,i=!1;if(e.stopPropagation(),this.show&&n[this._jdbItemDisabled]!==this._jdbSureDisabled)if(this.inputText.forEach(function(e,t){e[o._optionValue]!==n[o._optionValue]||(i=!0)}),i)this.deleteMoreItem(e,n);else{this._optionText,this._optionValue;this.inputText.push({text:n[this._optionText],value:n[this._optionValue]}),this._chooseMoreArray.push(n[this._optionValue]),this.ngModelValue=this._chooseMoreArray.toString(),this.onChange(this._chooseMoreArray),this.show=!0,this.setClassMap()}},e.prototype.numClick=function(e,n){var o=this,i=!1;e.stopPropagation(),this.show&&n[this._jdbItemDisabled]!==this._jdbSureDisabled&&(this._chooseMoreArray.forEach(function(e,t){if(e===n[o._optionValue])return i=!0,void o._chooseMoreArray.splice(t,1)}),i?this.inputText--:(this.inputText++,this.show=!0,this._chooseMoreArray.push(n[this._optionValue]),this.ngModelValue=this._chooseMoreArray.toString(),this.onChange(this._chooseMoreArray)))},e.prototype.moreIndex=function(n){var o=this,i=!1;return this._chooseMoreArray.forEach(function(e,t){e!==n[o._optionValue]||(i=!0)}),i},e.prototype.deleteMoreItem=function(e,n){var o=this;e.stopPropagation(),this._jdbDisabled||(this.inputText.forEach(function(e,t){e[o._optionValue]!==n[o._optionValue]||o.inputText.splice(t,1)}),this._chooseMoreArray.forEach(function(e,t){e!==n[o._optionValue]||o._chooseMoreArray.splice(t,1)}),this.ngModelValue=this._chooseMoreArray.toString(),this.onChange(this._chooseMoreArray),this.setClassMap())},e.prototype.toBoolean=function(e){return""===e||e&&"false"!==e},e.prototype.getTop=function(e){var t=e.offsetTop;if(null!=e.offsetParent){if(e.style.transform){var n=this.parseTranslateY(e.style.transform);t+=n.isPercent?e.clientHeight*n.translateY/100:n.translateY}t+=this.getTop(e.offsetParent)}return t},e.prototype.getScrollTop=function(e){var t=e.scrollTop;return null!=e.parentElement&&(t+=this.getScrollTop(e.parentElement)),t},e.prototype.parseTranslateY=function(e){var t,n,o=/\(([^()]+)\)/g.exec(e)[1],i=o.split(",");return-1===e.indexOf("translate")?{isPercent:!1,translateY:0}:(2===i.length?t=o.split(",")[1]:1===i.length&&-1!==e.indexOf("translateY")&&(t=o),-1!==t.indexOf("px")?(n=!1,t=Number(t.slice(0,-2))):-1!==t.indexOf("%")&&(n=!0,t=Number(t.slice(0,-1))),{isPercent:n,translateY:t})},e.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-select",template:'\x3c!-- 单选 --\x3e\n<div *ngIf="_jdbMode==\'chooseOne\'" #inputDom class="jdb-plg-select-one" (click)="dialogShow($event)" [ngClass]="_classMap" [ngStyle]="{\'width\':_width}">\n    \x3c!-- placeHolder --\x3e\n    <div class="jdb-plg-select-placeholder" [hidden]="inputText!=\'\'">{{_placeHolder}}</div>\n    \x3c!-- 单选 --\x3e\n    \x3c!-- <span class="chooseOne" [hidden]="inputText==\'\'">{{inputText}}</span> --\x3e\n    <input class="chooseOne chooseOneInput" [hidden]="inputText==\'\'" type="text" [(ngModel)]="inputText" readonly>\n    <ul #optionList [ngClass]="{ \'options-show\':show, \'options-no-margin\':!spaceFlex} " class="options ">\n        \x3c!-- 单选 --\x3e\n        <li *ngFor="let option of _selectList " (click)="item($event,option) " [ngClass]="{active:ngModelValue===option[_optionValue],disabled:option[_jdbItemDisabled] === _jdbSureDisabled} ">\n            <img class="img-box" *ngIf="_showImgBox&&option.imgUrl" [src]="option.imgUrl" alt="">\n            <span class="img-box" *ngIf="_showImgBox&&!option.imgUrl"></span>\n            <span class="text-box">{{_optionText==\'option\'?option:option[_optionText]}}</span>\n        </li>\n    </ul>\n    \x3c!-- 清空图标 --\x3e\n    <span class="close-icon icon-empty " [hidden]="!isShowClear " (click)="clearInputText($event) "></span>\n    \x3c!-- 单选时下拉图标 --\x3e\n    <span class="select-icon icon-select-arrow " [hidden]="isShowClear "></span>\n</div>\n\n\x3c!-- 多选 --\x3e\n<div *ngIf="_jdbMode==\'chooseMore\' " #inputDom class="jdb-plg-select-more " (click)="dialogShow($event) " [ngClass]="_classMap " [ngStyle]="{ \'width\':_width} ">\n    \x3c!-- placeHolder --\x3e\n    <div class="jdb-plg-select-placeholder " [hidden]="inputText.length !=0 ">{{_placeHolder}}</div>\n    \x3c!-- 多选item --\x3e\n    <ul class="chooseMore ">\n        <li *ngFor="let item of inputText ">\n            {{item.text}}\n            <span class="item-delete icon-close " (click)="deleteMoreItem($event,item) "></span>\n        </li>\n    </ul>\n    <ul #optionList [ngClass]="{ \'options-show\':show, \'options-no-margin\':!spaceFlex} " class="options ">\n        <li class="choose-more " *ngFor="let option of _selectList " (click)="chooseMore($event,option) " [ngClass]="{ \'active\':moreIndex(option),disabled:option[_jdbItemDisabled] === _jdbSureDisabled} ">\n            \x3c!-- {{_optionText==\'option\'?option:option[_optionText]}} --\x3e\n            <img class="img-box" *ngIf="_showImgBox&&option.imgUrl" [src]="option.imgUrl" alt="">\n            <span class="img-box" *ngIf="_showImgBox&&!option.imgUrl"></span>\n            <span class="text-box">{{_optionText==\'option\'?option:option[_optionText]}}</span>\n            <span [hidden]="!moreIndex(option) " class="choose-right icon-selected "></span>\n        </li>\n    </ul>\n    \x3c!-- 清空图标 --\x3e\n    <span class="close-icon icon-empty " [hidden]="!isShowClear " (click)="clearInputText($event) "></span>\n</div>\n\n\x3c!-- 选中几项 --\x3e\n<div *ngIf="_jdbMode==\'chooseNum\' " #inputDom class="jdb-plg-select-num " (click)="dialogShow($event) " [ngClass]="_classMap " [ngStyle]="{ \'width\':_width} ">\n    \x3c!-- placeHolder --\x3e\n    <div class="jdb-plg-select-placeholder " [hidden]="inputText!=0 ">{{_placeHolder}}</div>\n    <span class="choose-tip " [hidden]="inputText==0 ">已选中{{inputText}}项</span>\n    <ul #optionList [ngClass]="{ \'options-show\':show, \'options-no-margin\':!spaceFlex} " class="options ">\n        <li class="choose-more " *ngFor="let option of _selectList " (click)="numClick($event,option) " [ngClass]="{ \'active\':moreIndex(option),disabled:option[_jdbItemDisabled] === _jdbSureDisabled} ">\n            \x3c!-- {{_optionText==\'option\'?option:option[_optionText]}} --\x3e\n            <img class="img-box" *ngIf="_showImgBox&&option.imgUrl" [src]="option.imgUrl" alt="">\n            <span class="img-box" *ngIf="_showImgBox&&!option.imgUrl"></span>\n            <span class="text-box">{{_optionText==\'option\'?option:option[_optionText]}}</span>\n            <span [hidden]="!moreIndex(option) " class="choose-right icon-selected "></span>\n        </li>\n    </ul>\n    \x3c!-- 清空图标 --\x3e\n    <span class="close-icon icon-empty " [hidden]="!isShowClear " (click)="clearInputText($event) "></span>\n    <span class="select-icon icon-select-arrow " [hidden]="isShowClear "></span>\n</div>\n\n\x3c!-- 遮罩层 --\x3e\n<div class="jdb-plg-select-master " *ngIf="show "></div>',styles:[".jdb-plg-select-more,.jdb-plg-select-num,.jdb-plg-select-one{position:relative;display:inline-block;width:200px;border:1px solid #afb0b3;border-radius:2px;background:#fff;text-align:left;cursor:pointer}.jdb-plg-select-more .jdb-plg-select-placeholder,.jdb-plg-select-num .jdb-plg-select-placeholder,.jdb-plg-select-one .jdb-plg-select-placeholder{color:#afb0b3;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.jdb-plg-select-more .options,.jdb-plg-select-num .options,.jdb-plg-select-one .options{position:absolute;overflow-y:scroll;z-index:9999;opacity:0;-webkit-transform:scaleY(0);transform:scaleY(0);-webkit-transform-origin:0 0;transform-origin:0 0;left:-1px;border:1px solid #afb0b3;width:100%;max-height:190px;background:#fff}.jdb-plg-select-more .options li,.jdb-plg-select-num .options li,.jdb-plg-select-one .options li{padding:5px 12px;min-height:30px;color:#323233}.jdb-plg-select-more .options li:hover,.jdb-plg-select-num .options li:hover,.jdb-plg-select-one .options li:hover{background-color:#f0f1f5;color:#323233}.jdb-plg-select-more .options li .choose-right,.jdb-plg-select-num .options li .choose-right,.jdb-plg-select-one .options li .choose-right{float:right;margin-top:-2px}.jdb-plg-select-more .options li .img-box,.jdb-plg-select-num .options li .img-box,.jdb-plg-select-one .options li .img-box{display:inline-block;vertical-align:middle;height:18px;width:18px}.jdb-plg-select-more .options li .text-box,.jdb-plg-select-num .options li .text-box,.jdb-plg-select-one .options li .text-box{display:inline-block;vertical-align:middle}.jdb-plg-select-more .options .choose-more,.jdb-plg-select-num .options .choose-more,.jdb-plg-select-one .options .choose-more{margin-bottom:1px}.jdb-plg-select-more .options .active,.jdb-plg-select-more .options .active:hover,.jdb-plg-select-num .options .active,.jdb-plg-select-num .options .active:hover,.jdb-plg-select-one .options .active,.jdb-plg-select-one .options .active:hover{background-color:#3f69f2;color:#fff}.jdb-plg-select-more .options .disabled,.jdb-plg-select-num .options .disabled,.jdb-plg-select-one .options .disabled{background-color:none;color:#afb0b3;cursor:not-allowed}.jdb-plg-select-more .options .disabled:hover,.jdb-plg-select-num .options .disabled:hover,.jdb-plg-select-one .options .disabled:hover{background-color:none;color:#afb0b3}.jdb-plg-select-more .options-show,.jdb-plg-select-num .options-show,.jdb-plg-select-one .options-show{opacity:1;-webkit-transform:scaleY(1);transform:scaleY(1)}.jdb-plg-select-more .close-icon,.jdb-plg-select-num .close-icon,.jdb-plg-select-one .close-icon{position:absolute;right:5px;top:50%;margin-top:-12px;color:#7d7e80}.jdb-plg-select-more .close-icon:hover,.jdb-plg-select-num .close-icon:hover,.jdb-plg-select-one .close-icon:hover{color:#323233}.jdb-plg-select-more .select-icon,.jdb-plg-select-num .select-icon,.jdb-plg-select-one .select-icon{position:absolute;right:5px;top:50%;margin-top:-12px}.jdb-plg-select-one .chooseOne{color:#333}.jdb-plg-select-one .chooseOneInput{border:none;height:100%;width:100%;padding-right:18px}.jdb-plg-select-more .chooseMore li,.jdb-plg-select-num .chooseMore li{position:relative;display:inline-block;margin-right:5px;padding:0 5px;height:22px;font-size:13px;border:1px solid #d7d8db;border-radius:2px;color:#333;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.jdb-plg-select-more .chooseMore li .item-delete,.jdb-plg-select-num .chooseMore li .item-delete{font-size:12px}.jdb-plg-select-active{border:1px solid #3f69f2}.jdb-plg-select-disabled{background:#f0f1f5}.small{min-height:24px;padding:2px 10px;font-size:12px}.small .options{margin-top:7px}.small .options-no-margin{margin:0}.middle{min-height:30px;padding:5px 10px;font-size:13px}.middle .options{margin-top:10px}.middle .options-no-margin{margin:0}.middle .choose-tip,.middle .chooseOne,.middle .jdb-plg-select-placeholder{height:18px;line-height:18px}.middle .choose-tip,.middle .chooseOne{display:block}.middle .chooseMore li{margin-bottom:3px}.large{min-height:40px;padding:9px 10px;font-size:14px}.large .options{margin-top:14px}.large .options-no-margin{margin:0}.large .choose-tip,.large .chooseOne,.large .jdb-plg-select-placeholder{height:20px;line-height:20px}.large .choose-tip,.large .chooseOne{display:block}.large .chooseMore li{margin-bottom:8px}.jdb-plg-select-bottom-middle{padding:3px 10px 0}.jdb-plg-select-bottom-large{padding:8px 10px 0}.jdb-plg-select-master{position:fixed;top:0;bottom:0;left:0;width:100%;background:0 0;z-index:9998}"],providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return e}),multi:!0}]}]}],e.ctorParameters=function(){return[{type:c.Renderer2},{type:c.Renderer}]},e.propDecorators={jdbClassName:[{type:c.Input}],jdbItemDisabled:[{type:c.Input}],jdbSureDisabled:[{type:c.Input}],jdbPlaceHolder:[{type:c.Input}],jdbClear:[{type:c.Input}],jdbSelectList:[{type:c.Input}],jdbSize:[{type:c.Input}],jdbWidth:[{type:c.Input}],jdbOptionText:[{type:c.Input}],jdbOptionValue:[{type:c.Input}],jdbDisabled:[{type:c.Input}],jdbMode:[{type:c.Input}],inputDom:[{type:c.ViewChild,args:["inputDom"]}],optionList:[{type:c.ViewChild,args:["optionList"]}]},e}(),y=function(){function e(){this._value="",this._type="text",this._placeHolder="",this._size="default",this._disabled=!1,this._readonly=!1,this._error=!1,this._inputWrapClass=[],this._clear=!1,this._autoPromptData=[],this._composing=!1,this.width="300px",this.onChange=function(){return null},this.jdbBlur=new c.EventEmitter,this.jdbFocus=new c.EventEmitter}return e.prototype.ngOnInit=function(){this._prefixContent&&this._inputWrapClass.push("prefix")},e.prototype.compositionStart=function(e){this._composing=!0},e.prototype.compositionEnd=function(e){this._composing=!1,this.onChange(this._value)},Object.defineProperty(e.prototype,"jdbType",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbPlaceHolder",{get:function(){return this._placeHolder},set:function(e){this._placeHolder=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbSize",{get:function(){return this._size},set:function(e){this._size={large:"lg",small:"sm"}[e],this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbDisabled",{get:function(){return this._disabled},set:function(e){this._disabled=this.toBoolean(e),this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbReadonly",{get:function(){return this._readonly},set:function(e){this._readonly=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbValue",{get:function(){return"0"==this._value?"0":this._value||""},set:function(e){this._value===e||null==this._value&&null==e||(this._value=e,this._composing||this.onChange(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbError",{get:function(){return this._error},set:function(e){this._error=this.toBoolean(e),this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbClear",{get:function(){return this._clear},set:function(e){this._clear=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbMaxLength",{get:function(){return this._maxlength},set:function(e){this._maxlength=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbPromptData",{get:function(){return this._autoPromptData},set:function(e){this._autoPromptData=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){this._value=e},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){},e.prototype._emitBlur=function(e){this.jdbBlur.emit(e)},e.prototype._emitFocus=function(e){this.jdbFocus.emit(e)},e.prototype.textareaOnChange=function(e){},e.prototype.setClassMap=function(){var e;this._classMap=((e={})["input-"+this._type+"-"+this._size]=!0,e["input-disabled"]=this._disabled,e["input-error"]=this._error,e)},e.prototype.clearTxt=function(){this._value="",this.onChange("")},e.prototype.toBoolean=function(e){return""===e||e&&"false"!==e},e.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-input",template:'<span class="input-group-addon" *ngIf="_addOnContentBefore">\n    <ng-template [ngTemplateOutlet]="_addOnContentBefore">\n    </ng-template>\n</span>\n<ng-template [ngIf]="_type==\'text\'">\n    <div class="input-text-wrap" [ngClass]="_inputWrapClass">\n        <span class="input-prefix" *ngIf="_prefixContent">\n            <ng-template [ngTemplateOutlet]="_prefixContent">\n            </ng-template>\n        </span>\n        <input (blur)="_emitBlur($event)" (focus)="_emitFocus($event)" [disabled]="_disabled" [readonly]="_readonly" [attr.type]="_type" class="input" [ngClass]="_classMap" [attr.placeholder]="_placeHolder" [(ngModel)]="jdbValue" [style.width]="width" maxlength="{{jdbMaxLength}}"\n        />\n        <span class="input-clear" *ngIf="_clear && _value && _type==\'text\'" (click)="clearTxt()">\n            <i class="close-icon icon-empty"></i>\n        </span>\n        <span class="ant-input-suffix" *ngIf="_suffixContent">\n            <i class="iconfont icon-guanbi2fill"></i>\n            <ng-template [ngTemplateOutlet]="_suffixContent">\n            </ng-template>\n        </span>\n    </div>\n    <div class="input-error-tip" *ngIf="jdbError && _errorContent">\n        <i class="icon-message-error error-tip"></i>\n        <span>\n            <ng-template [ngTemplateOutlet]="_errorContent">\n            </ng-template>\n        </span>\n    </div>\n</ng-template>\n<span class="input-group-addon" *ngIf="_addOnContentAfter">\n      <ng-template [ngTemplateOutlet]="_addOnContentAfter">\n      </ng-template>\n</span>\n<ng-template [ngIf]="_type==\'textarea\'">\n    <div class="input-text-wrap">\n        <textarea (blur)="_emitBlur($event)" (focus)="_emitFocus($event)" (input)="textareaOnChange($event)" #inputTextarea [disabled]="_disabled" [readonly]="_readonly" type="textarea" class="input input-textarea" [ngClass]="_classMap" [attr.placeholder]="jdbPlaceHolder"\n            [(ngModel)]="jdbValue" maxlength="{{jdbMaxLength}}" [style.width]="width"></textarea>\n        <span class="textarea-wc-tip" [ngClass]="{\'textarea-wc-tip-red\': jdbValue&&jdbValue.length == jdbMaxLength}" *ngIf="jdbMaxLength && !_disabled &&!_readonly">{{(jdbValue&&jdbValue.length)||0}}/{{jdbMaxLength}}</span>\n    </div>\n</ng-template>',styles:[".input-text-wrap{position:relative;display:inline-block}.input{height:30px;width:300px;background:#fff;border:1px solid #afb0b3;border-radius:2px;font-size:13px;padding:0 10px;line-height:30px;color:#333}.input:focus{outline:0;border-color:#3f69f2}input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:#afb0b3}.prefix .input{padding-left:30px}.input-textarea{width:300px;height:80px;overflow-y:auto;font-size:13px;color:#000;line-height:20px}.input-disabled{background:#f0f1f5;color:#7d7e80}.disabled .input{color:#7d7e80}.input-text-lg{height:40px;font-size:14px}.input-text-sm{height:24px;font-size:12px}.input-textarea-lg{height:120px;font-size:14px}.input-textarea-sm{height:80px;font-size:12px}.input-error{border-color:#f84a4a}.input-clear{position:absolute;right:5px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);height:24px}.input-prefix{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:7px}.input-error-tip{color:#f84a4a;font-size:12px;line-height:20px;max-width:200px}.error-tip{font-size:16px;line-height:20px}.textarea-wc-tip{position:absolute;bottom:5px;right:10px;font-size:12px;color:#7d7e80}.textarea-wc-tip-red{color:#f84a4a}"],encapsulation:c.ViewEncapsulation.None,providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return e}),multi:!0}]}]}],e.propDecorators={width:[{type:c.Input}],_errorContent:[{type:c.ContentChild,args:["jdbErrorContent"]}],_addOnContentBefore:[{type:c.ContentChild,args:["addContentBefore"]}],_addOnContentAfter:[{type:c.ContentChild,args:["addContentAfter"]}],_prefixContent:[{type:c.ContentChild,args:["prefixContent"]}],_suffixContent:[{type:c.ContentChild,args:["suffixContent"]}],jdbBlur:[{type:c.Output}],jdbFocus:[{type:c.Output}],compositionStart:[{type:c.HostListener,args:["compositionstart",["$event"]]}],compositionEnd:[{type:c.HostListener,args:["compositionend",["$event"]]}],jdbType:[{type:c.Input}],jdbPlaceHolder:[{type:c.Input}],jdbSize:[{type:c.Input}],jdbDisabled:[{type:c.Input}],jdbReadonly:[{type:c.Input}],jdbValue:[{type:c.Input}],jdbError:[{type:c.Input}],jdbClear:[{type:c.Input}],jdbMaxLength:[{type:c.Input}],jdbPromptData:[{type:c.Input}]},e}();function v(e){return"[object Object]"===Object.prototype.toString.call(e)}function j(e){return"[object Date]"===Object.prototype.toString.call(e)}function _(e){return v(e)?j(e)?e.toISOString():function t(e){var t={};try{t=JSON.parse(e)}catch(n){console.log("to json parse error")}return t}(e):e}function w(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function C(e){if(!e)return"";var r=[];return function s(e,n,t){if(function o(e){return"[object Array]"===Object.prototype.toString.call(e)}(e))e.forEach(function(e,t){s(e,n+"["+(v(e)?t:"")+"]")});else if(v(e)&&!j(e))for(var i in e)s(e[i],n+(t?"":".")+i);else r.push(w(n)+"="+(null==e?"":w(_(e))))}(e,"",!0),r.join("&")}var k=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;function O(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];for(var i,r=function s(e){if(null===e||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){for(var p in t=Object(arguments[a]))k.call(t,p)&&(r[p]=t[p]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(t);for(var l=0;l<i.length;l++)I.call(t,i[l])&&(r[i[l]]=t[i[l]])}}return r}var M=function(){function e(e,t,n){this.http=e,this.componentFactoryResolver=t,this.route=n}return e.prototype.setRootViewContainerRef=function(e){this.vRef=e},e.prototype.toast=function(e,t){void 0===t&&(t=3e3);var n=this.componentFactoryResolver.resolveComponentFactory(r),o=this.vRef.createComponent(n);o.instance.msg=e,o.changeDetectorRef.detectChanges(),setTimeout(function(){o.destroy()},t)},e.prototype.test=function(){alert("jdb services....")},e.prototype.post=function(e,t,i){var n,o,r,s=this,a=(new Date).getTime();i&&i.tokenObj&&(n=localStorage.getItem(i.tokenObj.loginToken),o=localStorage.getItem(i.tokenObj.loginWay),r=localStorage.getItem(i.tokenObj.orgUid));var p={},l=location.hash.split("/")[1];p=C(p=n?O({},r?{loginToken:n,loginWay:o,orgUid:r,jdbDhTraceId:a+"-"+parseInt(Math.random()*(1e5+1)+1+"")}:{loginToken:n,loginWay:o,jdbDhTraceId:a+"-"+parseInt(Math.random()*(1e5+1)+1+"")},t):O({},t));var c=new h.Headers;c.append("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var d=e,u=new h.RequestOptions({headers:c,method:"post",body:p||{}});return console.log(this.http),this.http.request(d,u).map(function(e){return e.json()}).filter(function(e){if(!e.hasOwnProperty("data")||!e.hasOwnProperty("error"))return s.toast("系统接口格式错误！"),i&&i.reset&&i.reset(),!1;if(i.fns&&0!=i.fns.length)for(var t=i.fns.length,n=0;n<t;n++){var o=i.fns[n];e.error&&1*e.error.returnCode===o.returnCode&&"login"!=l&&o.callback()}return!(!e.error||1*e.error.returnCode!=0)||("boolean"==typeof i?!i||(s.toast(e&&e.error&&e.error.returnUserMessage),!1):!i.isIntercept||(s.toast(e&&e.error&&e.error.returnUserMessage),!1))})["catch"](function(e){return g.Observable["throw"](e||"Server error")})},e.prototype.postJSON=function(e,t){var n=new h.Headers;n.append("Content-Type","application/json;charset=utf-8");var o=e,i=new h.RequestOptions({headers:n,method:"post",url:o,body:t||{}});return this.http.request(o,i).map(function(e){return e.json()}).filter(function(e){return!(!e.error||1*e.error.returnCode!=0)})["catch"](function(e){return g.Observable["throw"](e||"Server error")})},e.prototype.stamp2string=function(e){return e?new Date(e).toJSON().split("T")[0]:null},e.prototype["export"]=function(e,t){var n=l.Cookie.get("loginInfo"),o={},i={};if(n)try{i={loginToken:(o=JSON.parse(n)).loginToken,employeeId:o.empId}}catch(p){console.log("parse cookie error...")}var r=O({},i,t),s=e+"?";for(var a in r)r[a]&&(s+=a+"="+encodeURIComponent(r[a])+"&");window.location.href=s},e.prototype.getPicSize=function(e){var t=new FileReader;t.onload=function(e){var t=e.target.result,n=new Image;n.onload=function(){var e=n.width,t=n.height;return{height:t,width:e}},n.src=t},t.readAsDataURL(e)},e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[{type:h.Http},{type:c.ComponentFactoryResolver},{type:o.Router}]},e}(),T=function(){function e(){}return e.prototype.fillTable=function(e,t,n){e=e||10,n=n||!0;var o,i=(t=t||[]).length,r=e-i,s={unShowOpt:n};if(0!==i&&(t.forEach(function(e){e.unShowOpt=!n}),0!==(o=Object.keys(t[0])).length&&o.forEach(function(e){"unShowOpt"!==e&&(s[e]="[object Array]"==Object.prototype.toString.call(t[0][e])?[]:"")})),0!==i&&0<r)for(var a=0;a<r;a++)t.push(s);return t},e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[]},e}(),S=function(){function e(e){this.componentFactoryResolver=e}return e.prototype.testPhoneNumber=function(e){return/^[1][3,4,5,7,8][0-9]{9}$/.test(e)},e.prototype.setRootViewContainerRef=function(e){this.vRef=e},e.prototype.toast=function(e,t){void 0===t&&(t=3e3);var n=this.componentFactoryResolver.resolveComponentFactory(r),o=this.vRef.createComponent(n);o.instance.msg=e,o.changeDetectorRef.detectChanges(),setTimeout(function(){o.destroy()},t)},e.prototype.removeNodeFromArray=function(e,t){if(!t)return e;e:for(var n=0,o=e.length;n<o;n++)if(e[n]===t){e.splice(n,1);break e}return e},e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[{type:c.ComponentFactoryResolver}]},e}(),P=function(){function e(){this.tableErrorText="暂无数据"}return e.prototype.ngOnInit=function(){},e.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-table-error",template:'<div class="jdb-plg-table-error">\n    {{tableErrorText}}\n</div>',styles:[".jdb-plg-table-error{-webkit-transform:translateX(-50%);transform:translateX(-50%);position:absolute;top:90px;left:50%}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={tableErrorText:[{type:c.Input}]},e}(),E=function(){function e(){}return e.prototype.transform=function(e){return 0===e.length?"":e.join("、")},e.decorators=[{type:c.Pipe,args:[{name:"provinceReformPipe"}]}],e}(),z=function(){function e(){}return e.prototype.transform=function(e){return 0===e?"0.00":e?(e/100).toFixed(2):""},e.decorators=[{type:c.Pipe,args:[{name:"amountReformPipe"}]}],e}(),D=[a,p,d,u,b,m,x,y,s,P,E,z],L=function(){function e(){}return e.decorators=[{type:c.NgModule,args:[{imports:[i.CommonModule,n.FormsModule,n.ReactiveFormsModule],exports:D,declarations:[r,s,a,p,d,u,f,x,b,m,y,P,E,z],providers:[M,S,T],entryComponents:[r]}]}],e}();e.JdbPlgUiModule=L,e.JdbPlgBaseService=M,e.FillTableService=T,e.CommonMethodService=S,e.JdbPlgButtonComponent=b,e.JdbPlgDialogComponent=m,e.JdbPlgInputComponent=y,e.JdbPlgPaginationComponent=u,e.JdbPlgSelectComponent=x,e.JdbTabComponent=s,e.JdbPlgTableErrorComponent=P,e.JdbPlgToastComponent=r,e.PictureViewerComponent=p,e.ShowPictureComponent=a,e.ɵa=d,e.ɵd=f,e.ɵc=z,e.ɵb=E,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=test-ui-core.umd.min.js.map