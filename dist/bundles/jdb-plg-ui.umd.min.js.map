{"version":3,"file":"jdb-plg-ui.umd.min.js","sources":["../../__jdbui_components/components/jdb-plg-toast/jdb-plg-toast.component.ts","../../__jdbui_components/components/jdb-plg-tab/jdb-tab.component.ts","../../__jdbui_components/components/show-picture/show-picture.component.ts","../../__jdbui_components/components/picture-viewer/picture-viewer.component.ts","../../__jdbui_components/directive/drag.directive.ts","../../__jdbui_components/components/jdb-plg-pagination/jdb-plg-pagination.component.ts","../../__jdbui_components/components/jdb-plg-button/jdb-plg-button.component.ts","../../__jdbui_components/components/jdb-plg-dialog/jdb-plg-dialog.component.ts","../../__jdbui_components/directive/only-number.directive.ts","../../__jdbui_components/directive/watermark.directive.ts","../../__jdbui_components/components/jdb-plg-select/jdb-plg-select.component.ts","../../__jdbui_components/components/jdb-plg-input/jdb-plg-input.component.ts","../../__jdbui_components/components/jdb-plg-autocomplete/keycode.ts","../../__jdbui_components/components/jdb-plg-autocomplete/jdb-plg-autocomplete.component.ts","../../__jdbui_components/services/jdb-plg-base/common-method.service.ts","../../__jdbui_components/services/jdb-plg-base/query-string.ts","../../__jdbui_components/services/jdb-plg-base/object-assign.ts","../../__jdbui_components/services/jdb-plg-base/send-statistic.service.ts","../../__jdbui_components/services/jdb-plg-base/jdb-plg-base.service.ts","../../__jdbui_components/services/jdb-plg-base/fill-table.service.ts","../../__jdbui_components/services/jdb-plg-base/jdb-modal.service.ts","../../__jdbui_components/components/jdb-plg-table-error/jdb-plg-table-error.component.ts","../../__jdbui_components/pipe/province-reform.pipe.ts","../../__jdbui_components/pipe/amount-reform.pipe.ts","../../__jdbui_components/components/jdb-plg-timeline-item/jdb-plg-timeline-item.component.ts","../../__jdbui_components/components/jdb-plg-switch/jdb-plg-switch.component.ts","../../__jdbui_components/jdb-plg-ui.module.ts"],"sourcesContent":["import { Component, OnInit, AfterViewInit,Input } from '@angular/core';\n\n@Component({\n  selector: 'app-jdb-plg-toast',\n  template: `<div class=\"toast-wraper\" [innerHtml]=\"msg\"> </div> `,\n  // styleUrls: ['./jdb-plg-toast.component.scss']\n})\nexport class JdbPlgToastComponent implements OnInit {\n\n  @Input() msg:string = \"\";\n  constructor() {\n   }\n\n  ngOnInit() {\n  }\n}\n\n\n\n","import {\n    Component,\n    OnInit, Input,\n    ViewContainerRef,\n    ViewChild, ElementRef,\n    ComponentRef,\n    ComponentFactoryResolver,\n    Injector,\n    OnDestroy,\n    Output,\n    EventEmitter,\n\n} from '@angular/core';\n\n\n\n@Component({\n    selector: 'jdb-tab',\n    template: `<div class=\"tab-wraper\"> <div class=\"tab-nav-wraper\"> <div *ngFor=\"let item of items;let i = index;\" class=\"tab-item {{item.theme}} {{item.style}} tab-item-hei{{item.height}}\" [ngClass]=\"{'tab-selected':i == curTabIndex, 'trapezoid1':item.theme === 'trapezoid'&&(i == 0)}\" title='{{item.title}}'> <div (click)=\"tabChange(i)\" class=\"tab-text\" [ngClass]=\"{'trapezoid-div':item.theme === 'trapezoid'}\"> {{item.title}}</div> <span class=\"close-btn\" (click)=\"removeTab(i)\" *ngIf=\"i !== 0 && item.isCloseFlag != true\">&times;</span> <div *ngIf=\"item.borderLength === 'short'\" class=\"self-border\"></div> </div> </div> <div class=\"tab-content-wraper\"> <div #tabContent class=\"place-holder\"></div> </div> </div> `,\n    // styleUrls: ['./jdb-tab.component.scss']\n})\n\nexport class JdbTabComponent implements OnInit, OnDestroy {\n    // @ViewChild('tabContent') tabContent: ElementRef;\n    @ViewChild('tabContent', { read: ViewContainerRef }) target;\n    @Output() onTabChange = new EventEmitter();\n    @Output() onTabRemove = new EventEmitter();\n    @Output() onTopComMsg = new EventEmitter();\n    items = [];\n    tabComs = [];\n    tabSubs: any;\n    curTabIndex = 0;\n    tabIdComMap = {};\n    constructor(\n        private componentFactoryResolver: ComponentFactoryResolver,\n        public _injector: Injector,\n    ) { }\n\n\n    ngOnInit() {\n    }\n\n\n    /**\n     *\n     * @param ChildComponent\n     * @param attrs:{\n     *     propery:value\n     * ]\n     * title:string\n     * isCloseFlag\n     * @description: tab切换的样式作为可配置功能拓展，主要是通过类名设置，提供主题名theme和色调搭配 style:\n     * 一、theme说明：\n     * - text-纯文本\n     * - trapezoid-梯形\n     * - rectangle-长方形\n     * - 待以后添加\n     * 二、style说明：\n     * 1、纯文本的一般情况下是没有边框和背景色的，所以格式遵循：'形状'-'初始字体颜色''激活字体颜色''边框色''边框长还是短'\n     * - text garyBlackBlueLong（文本的默认样式）\n     * - text garyBlackBlueShort\n     * 2、图形一般情况下有边框和背景色：\n     * （格式严格遵循：'形状'-'初始背景色''激活背景色''边框色''边框长还是短': 比如 'rectangle grayWhiteBlueLong')\n     * - rectangle grayWhiteBlueLong: 长方形-灰色 白色 蓝边 长。这也是默认的tab样式\n     * - trapezoid grayWhite: 梯形-灰色 白色。说明梯形的tab没有 边框的颜色效果\n     * （如果倒数几个配置均不需要，则用nonono，直接省略不写：'trapezoid-grayWhite'））\n     * （但是如果是中间有配置项为no，则不能省略 no。书写为：'trapezoid-noNoBlueLong'）\n     * @example:\n     * this.lefTopTab.addItem(ChildrenComponent, {\n     *     theme: {\n     *      height: 40,\n     *      name: 'trapezoid',\n     *      style: 'grayWhite',\n     *      borderLength: 'long' / 'short'\n     *     }\n     *   }, '主页', '', true);\n     * @extends:\n     * 如果颜色配置遇到'light'，表示设置透明； \n     * 三、borderLength说明：\n     * ‘long'-长边框，此时隐藏元素\n     * ‘short'-短边框，此时显示元素\n     */\n    addItem(ChildComponent: any, attrs: any, title: string, comId: any = \"\", isCloseFlag: boolean = false) {\n\n        if (comId && this.tabIdComMap[comId]) {\n            let com: any = this.tabIdComMap[comId];\n            this.tabChange(com.index);\n            return;\n        }\n        const childComponent = this.componentFactoryResolver.resolveComponentFactory(ChildComponent);\n        var comInstance = this.target.createComponent(childComponent);\n        var keys = Object.keys(attrs);\n        this.items.push({\n            title: title,\n            isCloseFlag: isCloseFlag,\n            theme: (attrs.theme ? (attrs.theme.name ? attrs.theme.name : null) : null),\n            style: (attrs.theme ? (attrs.theme.style ? attrs.theme.style : null) : null),\n            height: (attrs.theme ? (attrs.theme.height ? attrs.theme.height : null) : null),\n            borderLength: (attrs.theme ? (attrs.theme.borderLength ? attrs.theme.borderLength : null) : null)\n        });\n        keys.forEach((value) => {\n            comInstance.instance[value] = attrs[value];\n        });\n        this.tabComs.push(comInstance);\n        if (this.items.length > 1) {\n            this.setOneComHide(this.curTabIndex);\n        }\n\n        this.tabSubs = comInstance.instance['onTopComMsg'] = new EventEmitter();\n        this.tabSubs.subscribe((value) => {\n            this.onTopComMsg.emit(value)\n        });\n        this.curTabIndex = this.items.length - 1;\n        if (comId) {\n            this.tabIdComMap[comId] = {\n                index: this.curTabIndex,\n                comInstance: comInstance.instance\n            }\n        }\n        return comInstance;\n    }\n\n    private setOneComHide(tabIndex) {\n        this.tabComs[tabIndex].location.nativeElement.style.display = \"none\";\n    }\n\n    private setOneComShow(tabIndex) {\n        this.tabComs[tabIndex].location.nativeElement.style.display = \"block\";\n    }\n\n    tabChange(index) {\n        if (this.curTabIndex === index) {\n            return;\n        }\n        this.setOneComHide(this.curTabIndex);\n        this.setOneComShow(index);\n        this.curTabIndex = index;\n        this.onTabChange.emit(index);\n        this.tabComs[index].instance.tabRefresh && this.tabComs[index].instance.tabRefresh({});\n        // this.tabComs[index].destroy();\n    }\n\n    setOneTabShow(index) {\n        this.tabChange(index);\n    }\n\n    removeTab(index) {\n        this.tabComs[index].destroy();\n        this.tabComs.splice(index, 1);\n        this.items.splice(index, 1);\n        if (index <= this.curTabIndex) {\n            this.curTabIndex--;\n        }\n        if (this.curTabIndex < 0) {\n            this.curTabIndex = 0;\n        }\n        this.setOneComShow(this.curTabIndex);\n        this.onTabRemove.emit(index);\n        let tabIdComMap = this.tabIdComMap;\n        for (let key in tabIdComMap) {\n            if (tabIdComMap[key].index == index) {\n                delete tabIdComMap[key];\n                break;\n            }\n        }\n\n    }\n\n    removeTabById(id:string) {\n        let tabIdComMap = this.tabIdComMap;\n        for(let key in tabIdComMap) {\n            if(key == id)  {\n                this.removeTab(tabIdComMap[key]['index']);\n                break;\n            }\n        }\n    }\n    ngOnDestroy() {\n        if (this.target) {\n            // this.target.destroy();\n            this.target.clear();\n        }\n    }\n\n}\n","import { Component, OnInit, Input, Output, EventEmitter} from '@angular/core';\n\n@Component({\n  selector: 'app-show-picture',\n  template: `<div> <div class=\"img-mask\" (click)=\"closeModel()\"> <!-- 遮罩层 --> </div> <div class=\"img-content\"> <span class=\"close\" (click)=\"closeModel()\"> <img src=\"/assets/images/close-x.png\" alt=\"\"> </span> <img [src]=\"pictureUrl\" alt=\"\" style=\"max-height: 600px;max-width: 800px;\"> </div> </div> `,\n  // styleUrls: ['./show-picture.component.scss']\n})\nexport class ShowPictureComponent implements OnInit {\n  @Input() pictureUrl: string;\n  @Output() update = new EventEmitter<{status: boolean}>();\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n  closeModel(){\n    this.update.emit({status: false})\n  }\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  EventEmitter,\n  OnChanges,\n  ViewChild,\n  ElementRef,\n  Renderer,\n  HostListener,\n  OnDestroy,\n  ChangeDetectionStrategy,\n  AfterViewInit\n} from '@angular/core';\n\nimport {\n  animate,\n  style,\n  transition,\n  trigger,\n  state\n} from '@angular/animations';\n@Component({\n  selector: 'app-picture-viewer',\n  template: `<div class=\"picture-viewer\"> <div class=\"img-mask\" *ngIf=\"_jdbMaster\" (click)=\"closeModel()\"> <!-- 遮罩层 --> </div> <div #imgContent [ngClass]=\"{'img-content-componet':jdbShowType==2}\" class=\"img-content\"> <!-- 右上角关闭按钮 --> <div class=\"close\" *ngIf=\"_jdbClear\" (click)=\"closeModel()\"> <span class=\"icon-close\"></span> </div> <!-- 图片box --> <ul class=\"img-box\" #img> <li *ngFor=\"let item of pictureList;let i=index\" [@imgMove]=\"ImgState(i)\"> <img appDragDirective  [src]=\"item.imgUrl\" alt=\"\" style=\"max-height: 600px;max-width: 800px;\"> </li> </ul> <!-- 上一页下一页 --> <div [hidden]=\"current==0\" class=\"prev-page\" (click)=\"Prev()\"> <span class=\"icon-pagination-prev\"></span> </div> <div [hidden]=\"current==pictureList.length-1\" class=\"next-page\" (click)=\"Next()\"> <span class=\"icon-pagination-next\"></span> </div> <!-- 右下角页码 --> <div class=\"img-index\">{{current+1}}/{{pictureList.length}}</div> <!-- 缩放旋转按钮组 --> <div class=\"btn-box\"> <span [ngClass]=\"{'hover-disabled':imgOperate.num===4}\" class=\"icon-picture-zoom-in scale-big\" (click)=\"scaleBig()\"></span> <span [ngClass]=\"{'hover-disabled':imgOperate.num==0.5}\" class=\"icon-picture-zoom-out  scale-small\" (click)=\"scaleSmall()\"></span> <span class=\"icon-picture-counterclockwise routate-ni\" (click)=\"routateNi()\"></span> <span class=\"icon-picture-clockwise routate-shun\" (click)=\"routateShun()\"></span> </div> </div> </div>`,\n  // styleUrls: ['./picture-viewer.component.scss'],\n  animations: [\n    trigger('imgMove', [\n      /** 不显示 */\n      state('off', style({ 'display': 'none', 'z-index': '0', 'transform': 'translateX(0)' })),\n      /** 上一张图片 */\n      state('prev', style({\n        'z-index': '1',\n        'transform': 'translateX(-100%)'\n      })),\n      /** 下一张图片 */\n      state('next', style({ 'z-index': '2', 'transform': 'translateX(100%)' })),\n      /** 当前图片 */\n      state('on', style({ 'z-index': '3', 'transform': 'translateX(0)' })),\n      transition('prev=>on', [\n        animate('0.3s ease-in')\n      ]),\n      transition('next=>on', [\n        animate('0.3s ease-in')\n      ]),\n      transition('on=>prev', [\n        animate('0.3s ease-in')\n      ]),\n      transition('on=>next', [\n        animate('0.3s ease-in')\n      ])\n    ])\n  ]\n})\nexport class PictureViewerComponent implements OnInit, OnChanges, OnDestroy {\n  @Input() pictureList: any = [];\n  @Output() update = new EventEmitter<{ status: boolean }>();\n  // @Input() current: number = 0;\n  @ViewChild('img') imgBox: ElementRef;  // 图片父节点\n  @ViewChild('imgContent') imgContent: ElementRef; // 容器元素\n  // 设置容器的默认宽高，可适配 可配置属性\n  @Input() maxWidth: number = 800;\n  @Input() maxHeight: number = 600;\n  @Input() jdbShowType: number = 1; // 是浮层还是嵌入组件，默认为1，作为浮层，若为2，则表示是嵌入组件\n\n  _jdbMaster = true; // 是否需要master遮罩，默认需要遮罩层\n  _jdbClear = true;// 是否需要按钮叉，默认需要\n  dragStatus = false;\n  current = 0; // 展示图片下标，默认为0\n\n  elem: any;\n\n  imgOperate = {\n    num: 1,\n    degnum: 0\n  };\n\n\n  @Input()\n  set jdbMaster(value: boolean) {\n    this._jdbMaster = this.toBoolean(value);\n  }\n\n  get jdbMaster(): boolean {\n    return this._jdbMaster;\n  }\n\n  @Input()\n  set jdbClear(value: boolean) {\n    this._jdbClear = this.toBoolean(value);\n  }\n\n  get jdbClear(): boolean {\n    return this._jdbClear;\n  }\n\n  @Input()\n  set jdbCurrent(value: number) {\n    if (value > this.pictureList.length || value < 0) {\n      this.current = 0;\n      return;\n    }\n    this.current = value;\n  }\n\n  get jdbCurrent(): number {\n    return this.current;\n  }\n\n  constructor(private renderer: Renderer) {\n\n  }\n\n  ngOnInit() {\n    this.elem = this.imgBox.nativeElement.children;  // 所有的li\n  }\n\n  ngOnChanges() {\n    if (this.pictureList) {\n      this.pictureList.forEach((element, index) => {\n        this.resetPosition(index);\n      });\n    }\n  }\n\n  // 设置元素样式\n  ngAfterViewInit() {\n    const imgContent = this.imgContent.nativeElement;\n    this.renderer.setElementStyle(imgContent, 'height', this.maxHeight + 'px');\n    this.renderer.setElementStyle(imgContent, 'width', this.maxWidth + 'px');\n\n    if (this.jdbShowType == 1) {\n      this.renderer.setElementStyle(imgContent, 'margin-left', - this.maxWidth / 2 + 'px');\n      this.renderer.setElementStyle(imgContent, 'margin-top', - this.maxHeight / 2 + 'px');\n    }\n  }\n\n  // 重置图片位置\n  resetPosition(index) {\n    const image = new Image();\n    image.onload = () => {\n      // 获取当前加载图片宽高\n      let w = image.width;\n      let h = image.height;\n      let hRatio;\n      let wRatio;\n      // 设置默认比例以及容器宽高\n      const imgRate = w / h; // 图片宽高比\n      // const maxWidth = 800;\n      // const maxHeight = 600;\n      wRatio = this.maxWidth / w;\n      hRatio = this.maxHeight / h;\n\n      if (wRatio > 1 && hRatio > 1) {\n        // 两者比例均大于1表示图为小图，宽高未达到800*600,则取原图大小\n        w = w;\n        h = h;\n      } else if (wRatio < 1 && hRatio < 1) {\n        // 两者比例均小于1表示图为大图，宽高达到800*600,则取容器大小\n        if (imgRate > 1) {\n          // 宽图\n          w = this.maxWidth;\n          h = w / imgRate;\n        } else if (imgRate < 1) {\n          // 长图\n          h = this.maxHeight;\n          w = h * imgRate;\n        }\n\n      } else if (wRatio > 1 && hRatio < 1) {\n        // 表示为长图片，则高为600，宽等比例缩放取值\n        h = this.maxHeight;\n        w = w * hRatio;\n      } else if (wRatio < 1 && hRatio > 1) {\n        // 表示为宽图片，则宽为800，高等比例缩放取值\n        h = h * wRatio;\n        w = this.maxWidth;\n      }\n\n      // 设置图片展示宽高\n      this.renderer.setElementStyle(this.elem[index].children[0], 'height', h + 'px');\n      this.renderer.setElementStyle(this.elem[index].children[0], 'width', w + 'px');\n\n      if (w === this.maxWidth && h === this.maxHeight) {\n        // 设置图片位置使其垂直水平居中\n        this.renderer.setElementStyle(this.elem[index].children[0], 'top', '0px');\n        this.renderer.setElementStyle(this.elem[index].children[0], 'left', '0px');\n      } else {\n        // 设置图片位置使其垂直水平居中\n        this.renderer.setElementStyle(this.elem[index].children[0], 'top', (this.maxHeight - h) / 2 + 'px');\n        this.renderer.setElementStyle(this.elem[index].children[0], 'left', (this.maxWidth - w) / 2 + 'px');\n      }\n\n    };\n    image.src = this.pictureList[index].imgUrl;\n  }\n\n  // 切换动画\n  ImgState(index) {\n    if (this.pictureList && this.pictureList.length) {\n      if (this.current === 0) {\n        return index === 0 ? 'on' :\n          index === 1 ? 'next' :\n            index === this.pictureList.length - 1 ? 'prev' :\n              'off';\n      } else if (this.current === this.pictureList.length - 1) {\n        return index === this.pictureList.length - 1 ? 'on' :\n          index === this.pictureList.length - 2 ? 'prev' :\n            index === 0 ? 'next' :\n              'off';\n      }\n      switch (index - this.current) {\n        case 0:\n          return 'on';\n        case 1:\n          return 'next';\n        case -1:\n          return 'prev';\n        default:\n          return 'off';\n      }\n    } else {\n      return 'off';\n    }\n  }\n\n  // 下一张图\n  Next() {\n    this.resetImgData();\n    this.current = (this.current + 1) % this.pictureList.length;\n    this.resetPosition(this.current - 1);\n    // 修改状态，使拖动图片回到原来位置\n    // this.dragStatus = true;\n  }\n\n  // 上一张图\n  Prev() {\n    this.resetImgData();\n    this.current = this.current - 1 < 0 ? this.pictureList.length - 1 : this.current - 1;\n    this.resetPosition(this.current + 1);\n    // 修改状态，使拖动图片回到原来位置\n    // this.dragStatus = true;\n  }\n\n  // 关闭图片查看器 __关闭弹框后再次打开所有拖拽后的位置都会自动归为，因为触发了onChanges方法\n  closeModel() {\n    this.resetImgData();\n    this.update.emit({ status: false });\n  }\n\n  // 放大 50% 100% 200% 400%\n  scaleBig() {\n    this.imgOperate.num = this.imgOperate.num * 2;\n    if (this.imgOperate.num > 4) {\n      this.imgOperate.num = 4;\n    }\n    const rate = 'scale(' + 1 * this.imgOperate.num + ',' + 1 * this.imgOperate.num + ') rotate(' + (-this.imgOperate.degnum * 90) + 'deg)';\n    this.renderer.setElementStyle(this.elem[this.current].children[0], 'transform', rate);\n  }\n\n  // 缩小\n  scaleSmall() {\n    this.imgOperate.num = this.imgOperate.num / 2;\n    if (this.imgOperate.num < 1) {\n      this.imgOperate.num = 0.5;\n    }\n    const rate = 'scale(' + 1 * this.imgOperate.num + ',' + 1 * this.imgOperate.num + ') rotate(' + (-this.imgOperate.degnum * 90) + 'deg)';\n    this.renderer.setElementStyle(this.elem[this.current].children[0], 'transform', rate);\n  }\n\n  // 逆时针旋转\n  routateNi() {\n    this.imgOperate.degnum++;\n    const rate = 'scale(' + 1 * this.imgOperate.num + ',' + 1 * this.imgOperate.num + ') rotate(' + (-this.imgOperate.degnum * 90) + 'deg)';\n\n    this.renderer.setElementStyle(this.elem[this.current].children[0], 'transform', rate);\n  }\n\n  // 顺时针旋转\n  routateShun() {\n    this.imgOperate.degnum--;\n\n    const rate = 'scale(' + 1 * this.imgOperate.num + ',' + 1 * this.imgOperate.num + ') rotate(' + (-this.imgOperate.degnum * 90) + 'deg)';\n\n    this.renderer.setElementStyle(this.elem[this.current].children[0], 'transform', rate);\n  }\n\n  // 重置图片数据\n  resetImgData() {\n    this.imgOperate = {\n      num: 1,\n      degnum: 0\n    };\n    const rate = 'scale(1,1) rotate(0deg)';\n    this.renderer.setElementStyle(this.elem[this.current].children[0], 'transition', 'transform 0.2s linear 0.4s');\n    this.renderer.setElementStyle(this.elem[this.current].children[0], 'transform', rate);\n  }\n\n  // 转换为boolean,即实现有这个字段就认为为true,没有即为false\n  toBoolean(value: boolean | string): boolean {\n    return value === '' || (value && value !== 'false');\n  }\n\n  ngOnDestroy() {\n    this.pictureList = null;\n    this.imgBox = null;\n    this.imgContent = null;\n    this.current = null;\n  }\n}\n","import {\n    HostListener,\n    ElementRef,\n    Directive,\n    Component,\n    Renderer,\n    OnInit,\n    Input,\n    AfterContentInit,\n    OnChanges,\n    ChangeDetectionStrategy\n} from '@angular/core';\n\n@Directive({\n    selector: 'img[appDragDirective]'\n})\nexport class DragDirective {\n    oldLeft: string;\n    oldTop: string;\n\n    private isDown = false;\n    private disX;\n    private disY;\n    private disLeft;\n    private disTop;\n\n    constructor(\n        private elem: ElementRef,\n        private render: Renderer\n    ) {\n        //\n    }\n\n    // 点击事件\n    @HostListener('mousedown', ['$event']) onMousedown(event) {\n        const wRate = localStorage.getItem('dragWidth');\n        const hRate = localStorage.getItem('dragHeight');\n        this.isDown = true;\n\n        this.disLeft = this.elem.nativeElement.offsetLeft;\n        this.disTop = this.elem.nativeElement.offsetTop;\n\n        this.disX = event.clientX;\n        this.disY = event.clientY;\n        event.target.style.cursor = 'move';\n        // event.preventDefault();\n    }\n\n    // 监听移动事件事件\n    @HostListener('mousemove', ['$event']) onMousemove(event) {\n        event.preventDefault();\n        // 判断该元素是否被点击了。\n\n        if (this.isDown) {\n            const newdisX = event.clientX - this.disX;\n            const newdisY = event.clientY - this.disY;\n            this.elem.nativeElement.style.left = newdisX + this.disLeft + 'px';\n            this.elem.nativeElement.style.top = newdisY + this.disTop + 'px';\n\n        }\n        return false;\n\n\n    }\n\n    // 监听document离开事件\n\n    @HostListener('mouseup', ['$event']) onMouseup() {\n        // 只用当元素移动过了，离开函数体才会触发。\n        if (this.isDown) {\n            this.isDown = false;\n            this.disLeft = this.elem.nativeElement.offsetLeft;\n            this.disTop = this.elem.nativeElement.offsetTop;\n        }\n    }\n\n    // 监听元素离开事件\n    @HostListener('mouseleave', ['$event']) onMouseleave() {\n        this.isDown = false;\n    }\n    ngOnDestroy() {\n        //Called once, before the instance is destroyed.\n        //Add 'implements OnDestroy' to the class.\n        \n    }\n}\n","\nimport {\n  Component,\n  OnInit,\n  EventEmitter,\n  Input,\n  Output,\n  ElementRef,\n  ViewChild,\n  Renderer2\n} from '@angular/core';\n\n@Component({\n  selector: 'app-jdb-plg-pagination',\n  template: `<div class=\"jdb-plg-pagination\">\n    <!-- 总条数 -->\n    <span *ngIf=\"_showTotal\" class=\"total-box\">\n      共{{_total}}条\n    </span>\n\n    <div class=\"operate-box\">\n        <!-- 条数切换 -->\n        <div class=\"jdb-plg-pagination-options\" *ngIf=\"_showPageSize\">\n            <app-jdb-plg-select (ngModelChange)=\"dataChange(false,$event)\" [jdbSize]=\"'small'\" [jdbWidth]=\"'90px'\" [(ngModel)]=\"_pageSize\" [jdbSelectList]=\"_options\"></app-jdb-plg-select>\n        </div>\n        <!-- 基本分页样式 -->\n        <ul *ngIf=\"!_jdbSimple\" class=\"base-pagination\">\n            <!-- 上一页按钮 -->\n            <li class=\"jdb-plg-pagination-prev\" title=\"上一页\" [ngClass]=\"{'disabled':_current===_firstIndex}\" (click)=\"dataChange(true,_current-1)\">\n                <span class=\"jdbIcon icon-pagination-prev\"></span>\n            </li>\n            <!-- 首页按钮 -->\n            <li class=\"jdb-plg-pagination-first\" title=\"首页\" [ngClass]=\"{'active':_current===_firstIndex}\" (click)=\"dataChange(true,_firstIndex)\">\n                {{_firstIndex}}\n            </li>\n            <!-- 省略号 -->\n            <li class=\"jdb-plg-pagination-forward\" *ngIf=\"(_lastIndex >9)&&(_current-4>_firstIndex)\" (click)=\"jumpBefore(_pageSize)\">\n                <span class=\"icon-pagination-more\"></span>\n                <span class=\"icon-pagination-jump-prev\"></span>\n            </li>\n            <!-- 按钮 -->\n            <li class=\"jdb-plg-pagination-pager\" *ngFor=\"let page of pages\" [ngClass]=\"{'active':_current===page.index}\" (click)=\"dataChange(true,page.index)\">\n                {{page.index}}\n            </li>\n            <!-- 省略号 -->\n            <li class=\"jdb-plg-pagination-backward\" *ngIf=\"(_lastIndex >9)&&(_current+4<_lastIndex)\" (click)=\"jumpAfter(_pageSize)\">\n                <span class=\"icon-pagination-more\"></span>\n                <span class=\"icon-pagination-jump-next\"></span>\n            </li>\n            <!-- 尾页按钮 -->\n            <li class=\"jdb-plg-pagination-last\" *ngIf=\"(_lastIndex>0)&&(_lastIndex!==_firstIndex)\" title=\"尾页\" [ngClass]=\"{'active':_current===_lastIndex}\" (click)=\"dataChange(true,_lastIndex)\">\n                {{_lastIndex}}\n            </li>\n            <!-- 下一页按钮 -->\n            <li class=\"jdb-plg-pagination-next\" title=\"下一页\" [ngClass]=\"{'disabled':_current===_lastIndex}\" (click)=\"dataChange(true,_current+1)\">\n                <span class=\"jdbIcon icon-pagination-next\"></span>\n            </li>\n        </ul>\n        <!-- 简单分页样式 -->\n        <div class=\"simple-pagination\" *ngIf=\"_jdbSimple\">\n            <div class=\"left-box\">\n                <span class=\"icon-pagination-first\" [ngClass]=\"{'disabled':_current===_firstIndex}\" (click)=\"dataChange(true,_firstIndex)\"></span>\n                <span class=\"icon-pagination-prev\" [ngClass]=\"{'disabled':_current===_firstIndex}\" (click)=\"dataChange(true,_current-1)\"></span>\n            </div>\n            <div class=\"center-box\">\n                {{_current}} / {{_lastIndex}}\n            </div>\n            <div class=\"right-box\">\n                <span class=\"icon-pagination-next\" [ngClass]=\"{'disabled':_current===_lastIndex}\" (click)=\"dataChange(true,_current+1)\"></span>\n                <span class=\"icon-pagination-last\" [ngClass]=\"{'disabled':_current===_lastIndex}\" (click)=\"dataChange(true,_lastIndex)\"></span>\n            </div>\n        </div>\n        <!-- 快速跳转 -->\n        <div *ngIf=\"_showQuickJump\" class=\"quick-jumper\">\n            第\n            <input #inputJump type=\"text\" [(ngModel)]=\"quickJumpPage\" (keyup.enter)=\"quickJump()\" appOnlyNumber=\"true\"> 页\n            <button (click)=\"quickJump()\">跳转</button>\n        </div>\n    </div>\n</div>`,\n  // styleUrls: ['./jdb-plg-pagination.component.scss']\n})\nexport class JdbPlgPaginationComponent {\n  _total: number; // 总条数\n  _current = 1; // 当前页码默认为1\n  _pageSize = 10; // 默认条数\n  _firstIndex = 1;  // 首页默认为1\n  _lastIndex = Infinity;  // 尾页默认为无穷\n  _showTotal = false;  // 是否展示总数，默认不展示\n  _showPageSize = false; // 是否展示页码切换，默认不展示\n  _showQuickJump = false; // 是否展示快速跳转，默认不展示\n  pages = [];  // 页码数组\n  // _options = [10, 20, 30, 40, 50]; // select默认数组\n  // select默认数组\n  _options = [\n    { value: 10, text: '10条/页' },\n    { value: 20, text: '20条/页' },\n    { value: 30, text: '30条/页' },\n    { value: 40, text: '40条/页' },\n    { value: 50, text: '50条/页' }\n  ];\n\n  quickJumpPage: any; // 快速跳转页码\n  hisQicukPage: any;  // 历史快速跳转页码\n  _jdbSimple = false; // 是否为简单分页，默认为基本分页\n\n  @Output() jdbPageSizeChange: EventEmitter<number> = new EventEmitter();  // 条数切换  命名与属性相关\n  @Output() jdbPageIndexChange: EventEmitter<number> = new EventEmitter();  // 页码切换\n\n  @ViewChild('inputJump') private inputJump: ElementRef;\n  constructor(\n    private el: ElementRef,\n    private renderer2: Renderer2\n  ) { }\n\n  // 是否展示总数标签\n  @Input()\n  set jdbShowTotal(value: boolean) {\n    this._showTotal = this.toBoolean(value);\n  }\n\n  get jdbShowTotal(): boolean {\n    return this._showTotal;\n  }\n\n  // 数据总数\n  @Input()\n  set jdbTotal(value: number) {\n    // 若传入值和当前total一致，则不触发操作\n    if (value === this._total) {\n      return;\n    }\n    this._total = value;\n    this.setPageNo();\n  }\n\n  get jdbTotal(): number {\n    return this._total;\n  }\n\n  // jdbPageIndex与_current关联，表示页码\n  @Input()\n  set jdbPageIndex(value: number) {\n    if (this._current === value) {\n      return;\n    }\n    if (value > this._lastIndex || value < this._firstIndex) {\n      return;\n    }\n    this._current = Number(value);\n    this.setPageNo();\n  }\n\n  get jdbPageIndex(): number {\n    return this._current;\n  }\n\n  // 是否展示切换条数select\n  @Input()\n  set jdbShowPageSize(value: boolean) {\n    this._showPageSize = this.toBoolean(value);\n  }\n\n  get jdbShowPageSize(): boolean {\n    return this._showPageSize;\n  }\n\n  // 默认条数\n  @Input()\n  set jdbPageSize(value: number) {\n    if (value === this._pageSize) {\n      return;\n    }\n    this._pageSize = value;\n    this.setPageNo();\n  }\n\n  get jdbPageSize(): number {\n    return this._pageSize;\n  }\n\n  // 默认下拉选择条数数组\n  @Input()\n  set jdbSizeOptions(value) {\n    // 若传入值和当前total一致，则不触发操作\n    if (value === this._options) {\n      return;\n    }\n\n    // 判断是否为数组\n    if (Object.prototype.toString.call(value) === '[object Array]') {\n      const optionsArr = [];\n      value.forEach(elem => {\n        const obj = {\n          value: elem,\n          text: elem + '条/页'\n        };\n        optionsArr.push(obj);\n      });\n      this._options = optionsArr;\n    }\n  }\n\n  get jdbSizeOptions() {\n    return this._options;\n  }\n\n  // 是否展示快速跳转页面\n  @Input()\n  set jdbShowQuickJump(value: boolean) {\n    this._showQuickJump = this.toBoolean(value);\n  }\n\n  get jdbShowQuickJump(): boolean {\n    return this._showQuickJump;\n  }\n\n  // 分页样式\n  @Input()\n  set jdbSimple(value: boolean) {\n    this._jdbSimple = this.toBoolean(value);\n  }\n\n  get jdbSimple(): boolean {\n    return this.jdbSimple;\n  }\n\n  // 创建页码\n  setPageNo() {\n    // 向上取整\n    this._lastIndex = Math.ceil(this._total / this._pageSize);\n    // 如果当前页码大于尾页，则等于尾页\n    // if (this._current > this._lastIndex) {\n    //   this.jdbPageIndex = this._lastIndex;\n    //   this.jdbPageIndexChange.emit(this.jdbPageIndex);\n    // }\n\n    const tmpPages = [];\n\n    if (this._lastIndex <= 9) {\n      // 若总页数不超过9，则全部展示在页面上\n      for (let i = 2; i <= this._lastIndex - 1; i++) {\n        tmpPages.push({\n          index: i\n        });\n      }\n    } else {\n      const current = +this._current;\n      let left = Math.max(2, current - 2);\n      let right = Math.min(current + 2, this._lastIndex - 1);\n\n      // 特殊处理正数第五个数和倒数第五个数\n      if (current === 5) {\n        left = 2;\n      } else if (current === this._lastIndex - 4) {\n        right = this._lastIndex - 1;\n      }\n\n      if (current - 1 <= 3) {\n        right = 7;\n      }\n\n      if (this._lastIndex - current <= 3) {\n        left = this._lastIndex - 6;\n      }\n\n      for (let i = left; i <= right; i++) {\n        tmpPages.push({ index: i });\n      }\n    }\n\n    this.pages = tmpPages;\n  }\n\n  // status为true表示页码切换，num表示页码，false表示条数切换，num表示条数\n  dataChange(status: boolean, num: number): void {\n    if (status) {\n      if (num === this._firstIndex - 1 || num === this._lastIndex + 1) {\n        return;\n      }\n      // 清空输入框内容\n      this.quickJumpPage = '';\n      this.jdbPageIndex = num;\n      this.jdbPageIndexChange.emit(this.jdbPageIndex);\n    } else {\n      // 清空输入框内容\n      this.quickJumpPage = '';\n      this.jdbPageSize = num;\n      this.jdbPageSizeChange.emit(num);\n\n      // 切换页数之后需要将页码重置为1\n      this.jdbPageIndex = 1;\n      this.jdbPageIndexChange.emit(this.jdbPageIndex);\n      this.setPageNo();\n    }\n    // this.setPageNo();\n  }\n\n  // 点击跳转按钮快速跳转\n  quickJump() {\n    // 若是输入的页码大于最后一页页码，即超出范围不存在，则清空页码，并使输入框获取焦点\n    if (this.quickJumpPage > this._lastIndex) {\n      this.inputJump.nativeElement.focus();\n      this.quickJumpPage = '';\n      return;\n    }\n\n    // 若输入为空，则不能跳转\n    if (!this.quickJumpPage) {\n      return;\n    }\n\n    this.jdbPageIndex = this.quickJumpPage;\n    this.jdbPageIndexChange.emit(this.jdbPageIndex);\n  }\n\n  // 点击左箭头(为什么使用条数除以2呢)\n  jumpBefore(pageSize) {\n    this.dataChange(true, this._current - Math.round(pageSize / 2));\n  }\n\n  // 点击右箭头\n  jumpAfter(pageSize) {\n    this.dataChange(true, this._current + Math.round(pageSize / 2));\n  }\n\n  // 转换为boolean,即实现有这个字段就认为为true,没有即为false\n  toBoolean(value: boolean | string): boolean {\n    return value === '' || (value && value !== 'false');\n  }\n\n  // 校验是否为纯数字\n  isNumber(obj) {\n    const reg = /^[0-9]*$/;\n    return reg.test(obj);\n  }\n\n}\n\n","import { Component, OnInit, Input, Renderer2, HostListener, ElementRef } from '@angular/core';\n\nexport type buttonSize = 'small' | 'large' | 'default';\nexport type buttonType = 'primary' | 'gray' | 'danger' | 'buleline' | 'white';\n\n@Component({\n  selector: 'button[app-jdb-plg-button]',\n  template: `<i class=\"jdb-icon-loading action\" *ngIf=\"loading\"></i> <ng-content></ng-content>`\n  // styleUrls: ['./jdb-plg-button.component.scss']\n})\n\nexport class JdbPlgButtonComponent implements OnInit {\n\n  _el: HTMLElement;\n  nativeElement: HTMLElement;\n  _prefixCls = 'jdb-plg-btn';\n  size: buttonSize;            // size的值 'small' 、 'large' 、 'default'\n  type: buttonType;            // type的值 'primary' 、 'gray' 、 'danger'、'buleline' 、'white'\n  loading: boolean;\n\n  @Input()\n  get jdbSize() {\n    return this.size;\n  }\n  set jdbSize(value: buttonSize) {\n    if (!value) {\n      value = 'default';\n    }\n    this.size = value;\n    // this._renderer.addClass(this._el, this.size);\n    this._setClassMap(this.loading);\n  }\n\n  @Input()\n  get jdbType() {\n    return this.type;\n  }\n  set jdbType(value: buttonType) {\n    if (!value) {\n      value = 'primary';\n    }\n    this.type = value;\n    // this._renderer.addClass(this._el, this.type);\n    this._setClassMap(this.loading);\n  }\n\n  @Input()\n  get jdbLoading() {\n    return this.loading; \n  }\n\n  set jdbLoading(value: boolean | string) {\n    value = value === '' || (value && value !== 'false');\n    this.loading = value;\n    this._setClassMap(this.loading);\n  }\n\n  constructor(private _elementRef: ElementRef, private _renderer: Renderer2) {\n\n    this._el = this._elementRef.nativeElement;\n\n    this.nativeElement = this._elementRef.nativeElement;\n    this._renderer.addClass(this._el, this._prefixCls);\n  }\n  _setClassMap(loading) {\n    this._renderer.removeClass(this._el, 'undefined');\n    this._renderer.addClass(this._el, this.size);\n    this._renderer.addClass(this._el, this.type);\n    if (loading) {\n      this._renderer.addClass(this._el, 'loading_disable');\n    } else {\n      this._renderer.removeClass(this._el, 'loading_disable');\n    }\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import {\n  Component,\n  OnInit,\n  AfterViewInit,\n  ViewChild,\n  Output,\n  Input,\n  ElementRef,\n  EventEmitter,\n  ViewContainerRef,\n  Type,\n  ComponentFactoryResolver,\n  ComponentRef,\n  Renderer2\n} from '@angular/core';\nimport { trigger, state, style, animate, transition } from '@angular/animations';\n@Component({\n  selector: 'app-jdb-plg-dialog',\n  template: `<div [ngClass]=\"_customClass\"> <div class=\"_maskClass\" [ngClass]=\"{'hid':!_visible}\" [style.zIndex]=\"1000\"></div> <div class=\"jdb-modal\" tabindex=\"-1\" role=\"dialog\" [ngClass]=\"{'hid':!_visible}\" [ngStyle]=\"{'dispaly':!_visible}\" (click)=\"cusCloseModal($event)\" class=\"_wrapClass\" [ngClass]=\"_wrapClass\" [style.zIndex]=\"1000\"> <div #modal_content class=\"modal\" [@optionsState]=\"_state\" [ngStyle]=\"_bodyStyleMap\"> <div class=\"modal-content\"> <ng-template [ngIf]=\"_closeable\"> <button class=\"modal-close\" style=\"outline: none\" (click)=\"closeModel($event)\"> <span class=\"icon-close\"></span> </button> </ng-template> <div class=\"modal-header\" *ngIf=\"_title\"> <div class=\"modal-title\" [attr.id]=\"modalId\">{{_title}}</div> </div> <div class=\"modal-body _modalTextBody\"> <ng-template #modal_component></ng-template> <ng-template #modal_text></ng-template> </div> <div class=\"modal-footer\" *ngIf=\"_footer\"> <button *ngIf=\"!_isConfirm\" app-jdb-plg-button [jdbSize]=\"'default'\" [jdbType]=\"'gray'\" (click)=\"cancelModel($event)\"><span>{{_cancelText}}</span></button> <button *ngIf=\"!_isConfirm\" class=\"right-btn\" app-jdb-plg-button [jdbSize]=\"'default'\" [jdbType]=\"'primary'\" (click)=\"confirmModel($event)\"><span>{{_okText}}</span></button> <button *ngIf=\"_isConfirm\" class=\"right-btn confirm-btn\" app-jdb-plg-button [jdbSize]=\"'default'\" [jdbType]=\"'primary'\" (click)=\"confirmModel($event)\"><span>{{_okText}}</span></button> </div> </div> </div> </div> </div>`,\n  animations: [\n    trigger('optionsState', [\n      state('showM', style({\n        transform: 'translate(-50%, -50%)',\n        opacity: '1',\n      })),\n      state('hideM', style({\n        transform: 'translate(-50%, -80%)',\n        opacity: '0',\n      })),\n      transition('showM <=> hideM', animate('200ms ease-out'))\n    ])]\n})\nexport class JdbPlgDialogComponent implements OnInit, AfterViewInit {\n  _visible = false;                 //弹框显示隐藏\n  _title = '提示';                   //弹框标题\n  _bodyStyleMap;                    //弹框样式 \n  _customClass = '';                //自定义容器样式\n  _maskClass = '';                  //自定义遮罩样式\n  _closeable = true;                //是否显示左上角关闭按钮\n  _content: string | Type<void>;    //内容模板\n  _footer = true;                   //是否显示底部按钮\n  _isConfirm = false;               //是否是确认类型的模态框\n  _okText = '';                     //确认按钮文案\n  _cancelText = '';                 //取消按钮文案\n  _state = '';                      //模态框状态\n  _closeType = 'mask';              //自定义关闭模态框的热区\n  _componentParams = {};            //模板参数\n  _text = '';                       //文本内容\n  _class = '';                      //文本类名\n  _style = null;                    //文本样式\n  contentComponentRef: ComponentRef<void>;\n  @ViewChild('modal_content') contentEl: ElementRef;\n  @ViewChild('modal_text') textEl: ElementRef;\n  @ViewChild('modal_component', { read: ViewContainerRef}) bodyEl: ViewContainerRef;\n  @Output() onClose: EventEmitter<MouseEvent> = new EventEmitter();\n  @Output() onOk: EventEmitter<MouseEvent> = new EventEmitter();\n  @Output() onCancel: EventEmitter<MouseEvent | KeyboardEvent> = new EventEmitter();\n\n\n  //模态框内容模板\n  @Input()\n  _contentTpl: string | Type<void>;\n\n  //弹框显示隐藏\n  @Input()\n  set visible(value) {\n    this._visible = value;\n    //控制切入和切出动画\n    if (this._visible) {\n      this._state = 'showM';\n    } else {\n      this._state = 'hideM';\n    }\n  }\n  get visible() {\n    return this._visible;\n  }\n\n  //弹框宽度\n  @Input()\n  set _width(value) {\n    this._bodyStyleMap = {\n      width: value\n    }\n  }\n\n  constructor(\n    private resolver: ComponentFactoryResolver,\n    private renderer: Renderer2\n  ) { }\n\n  ngOnInit() {\n    //判断_contentTpl是不是组件实例\n    if (this._contentTpl instanceof Type) {\n      this.createDynamicComponent(this._contentTpl as Type<void>);\n    } else {\n      this.createDynamicDom();\n    }\n  }\n  \n  //创建文本模板内容\n  createDynamicDom(){\n    let insertDiv = this.renderer.createElement('div');\n      let text = this.renderer.createText(this._text);\n      this.renderer.addClass(insertDiv,this._class);\n      this.renderer.appendChild(insertDiv, text);\n      if(this._style){\n        for(let key in this._style){\n          this.renderer.setStyle(insertDiv,key,this._style[key]);\n        }\n      }\n      this.renderer.appendChild(document.querySelector('._modalTextBody'), insertDiv);\n  }\n\n  createDynamicComponent(component: Type<any>): void {\n    //生成组件工厂函数\n    const factory = this.resolver.resolveComponentFactory(component);\n    //生成组件实例\n    this.contentComponentRef = this.bodyEl.createComponent(factory);\n    //模板的输入属性\n    for (let key in this._componentParams) {\n      this.contentComponentRef.instance[key] = this._componentParams[key];\n    }\n    //立刻执行一次变更检测\n    this.contentComponentRef.changeDetectorRef.detectChanges();\n  }\n\n  ngAfterViewInit() {\n    //动态组件实例存在 插入到视图容器中\n    if (this.contentComponentRef) {\n      this.bodyEl.insert(this.contentComponentRef.hostView);\n    }\n  }\n\n  //关闭弹框\n  closeModel(e: MouseEvent): void {\n    this.onClose.emit(e);\n    this._state = 'hideM';\n  }\n\n  //确认弹框\n  confirmModel(e: MouseEvent): void {\n    this.onOk.emit(e);\n    this._state = 'hideM';\n  }\n\n  //取消弹框\n  cancelModel(e: MouseEvent): void {\n    this.onCancel.emit(e);\n    this._state = 'hideM';\n  }\n\n  //点击遮罩关闭\n  cusCloseModal(e: MouseEvent): void {\n    let flag = this.isChildOf(e.target, this.contentEl.nativeElement);\n    if (this._closeType === 'mask' && !flag) {\n      this.onClose.emit(e);\n      this._state = 'hideM';\n    }\n  }\n\n  //阻止冒泡\n  // selfCloseModal(e: MouseEvent): void {\n  //   e.stopPropagation();\n  //   e.cancelBubble = true;\n  // }\n\n  isChildOf(child, parent) {\n    var parentNode;\n    if (child && parent) {\n      parentNode = child.parentNode;\n      while (parentNode) {\n        if (parent === parentNode) {\n          return true;\n        }\n        parentNode = parentNode.parentNode;\n      }\n    }\n    return false;\n  }\n}\n","import { Directive, ElementRef, HostListener, Input } from '@angular/core';\n\n@Directive({\n  selector: '[appOnlyNumber]'\n})\nexport class OnlyNumberDirective {\n\n  constructor(private el: ElementRef) { }\n  regexStr = '^[0-9]*$';\n  @Input() appOnlyNumber: boolean;\n\n  @HostListener('keydown', ['$event']) onKeyDown(event) {\n    const e = <KeyboardEvent>event;\n    if (this.appOnlyNumber) {\n      if ([46, 8, 9, 27, 13, 110, 190].indexOf(e.keyCode) !== -1 ||\n        // Allow: Ctrl+A\n        (e.keyCode === 65 && e.ctrlKey === true) ||\n        // Allow: Ctrl+C\n        (e.keyCode === 67 && e.ctrlKey === true) ||\n        // Allow: Ctrl+V\n        (e.keyCode === 86 && e.ctrlKey === true) ||\n        // Allow: Ctrl+X\n        (e.keyCode === 88 && e.ctrlKey === true) ||\n        // Allow: home, end, left, right\n        (e.keyCode >= 35 && e.keyCode <= 39)) {\n        // let it happen, don't do anything\n        return;\n      }\n      const ch = String.fromCharCode(e.keyCode);\n      const regEx = new RegExp(this.regexStr);\n      if (regEx.test(ch)) {\n        return;\n      } else {\n        e.preventDefault();\n      }\n    }\n  }\n\n  // 解决中文输入法输入汉字问题\n  @HostListener('keyup', ['$event']) onKeyUp(event) {\n    this.el.nativeElement.value = this.el.nativeElement.value.replace(/\\D/g, '');\n  }\n}\n","/**\n * 2018-06-21\n * @author 李佳轩\n * @description 水印指令，组件渲染之前请确保通过静态方法setText设置了需要显示的水印文案，否则显示默认的`JDB`\n * @example\n * <div *ngIf=\"isList\" class=\"caseList\" appWaterMark>\n *      <nz-table ...>\n *          ...\n *      </nz-table>\n * </div>\n */\n\nimport { Directive, ElementRef, OnInit, Renderer2, AfterViewInit } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\n\n@Directive({\n    selector: '[appWaterMark]'\n})\nexport class WatermarkDirective implements OnInit, AfterViewInit {\n\n    /**\n     * 水印渲染的文案，默认JDB\n     */\n    private static _text: string = '';\n\n    // 大部分时候需要在请求的毁掉里取设置水印文案，所以需要在设置水印文案之后重绘水印\n    private static drawSubject: Subject<boolean> = new Subject<boolean>();\n\n    private draw$: Observable<boolean> = WatermarkDirective.drawSubject.asObservable();\n\n    constructor(\n        private el: ElementRef,\n        private render: Renderer2\n    ) {\n    }\n\n    /**\n     * @method 设置水印渲染的文案。\n     * @param callback 该参数为一个函数或字符串，该参数为函数时用户自定义生成文案的过程，这个回调函数最后应返回字符串，因为这个字符串将被渲染成水印。\n     * 若该参数为字符串，则传入的字符串就是渲染的水印文案\n     */\n    static setText(callback: string | (() => string)): void {\n        if (typeof callback === 'string') {\n            WatermarkDirective._text = callback;\n        } else {\n            WatermarkDirective._text = callback();\n        }\n        WatermarkDirective.drawSubject.next(true);\n    }\n\n\n    /**\n     * @method 通过canvas渲染水印背景，然后设置到指令绑定的元素的背景，然后背景默认重复。\n     * @extends 可以通过改变`fillText()`的个数来增加文案出现的次数。\n     */\n    draw() {\n        // const name = localStorage.getItem('cxNickName') || '';\n        // const phone = localStorage.getItem('cxPhone') || '';\n        // const str = `CXWEB-${name}${phone.slice(-4)}`;\n        if (WatermarkDirective._text) {\n            const node = document.createElement('canvas');\n            node.width = 500;\n            node.height = 200;\n            node.style.display = 'none';\n\n            const ctx = node.getContext('2d');\n            ctx.rotate(-10 * Math.PI / 180);\n            ctx.font = '16px microsoft yahei';\n            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';\n            ctx.textAlign = 'left';\n            ctx.textBaseline = 'Middle';\n\n            ctx.fillText(WatermarkDirective._text, 0, 200);\n            // ctx.fillText(str, 80, 150);\n            ctx.fillText(WatermarkDirective._text, 165, 85);\n            // ctx.fillText(str, 230, 160);\n            ctx.fillText(WatermarkDirective._text, 300, 190);\n            this.render.setStyle(this.el.nativeElement, 'backgroundImage', `url(${node.toDataURL('image/png')})`);\n        }\n        // this.render.setStyle(this.el.nativeElement, 'background', `red`);\n    }\n\n    ngOnInit() {\n        this.draw$.subscribe(() => {\n            this.draw();\n        });\n    }\n    ngAfterViewInit() {\n        this.draw(); // 调用渲染水印方法\n    }\n}\n","/*\n  下拉框功能：\n  种类：单选，多选，选几项\n  样式：高度 middle small large\n*/\n\nimport {\n\tViewContainerRef,\n\tComponent,\n\tOnInit,\n\tInput,\n\tforwardRef,\n\tAfterViewInit,\n\tRenderer2,\n\tElementRef,\n\tViewChild,\n\tRenderer,\n\tViewChildren,\n\tOnChanges\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Observable } from 'rxjs';\n\n@Component({\n\tselector: 'app-jdb-plg-select',\n\ttemplate: `<!-- 单选 --> <div *ngIf=\"_jdbMode=='chooseOne'\" #inputDom class=\"jdb-plg-select-one\" (click)=\"dialogShow($event)\" [ngClass]=\"_classMap\" [ngStyle]=\"{'width':_width}\"> <!-- placeHolder --> <div class=\"jdb-plg-select-placeholder\" [hidden]=\"inputText!==''\">{{_placeHolder}}</div> <!-- 单选 --> <!-- <span class=\"chooseOne\" [hidden]=\"inputText==''\">{{inputText}}</span> --> <input class=\"chooseOne chooseOneInput\" [hidden]=\"inputText===''\" type=\"text\" [(ngModel)]=\"inputText\" readonly> <ul #optionList [ngClass]=\"{ 'options-show':show, 'options-no-margin':!spaceFlex} \" class=\"options \"> <!-- 单选 --> <li *ngFor=\"let option of _selectList \" (click)=\"item($event,option) \" [ngClass]=\"{active:ngModelValue===option[_optionValue],disabled:option[_jdbItemDisabled] === _jdbSureDisabled} \"> <img class=\"img-box\" *ngIf=\"_showImgBox&&option.imgUrl\" [src]=\"option.imgUrl\" alt=\"\"> <span class=\"img-box\" *ngIf=\"_showImgBox&&!option.imgUrl\"></span> <span class=\"text-box\">{{_optionText=='option'?option:option[_optionText]}}</span> </li> </ul> <!-- 清空图标 --> <span class=\"close-icon icon-empty \" [hidden]=\"!isShowClear \" (click)=\"clearInputText($event) \"></span> <!-- 单选时下拉图标 --> <span class=\"select-icon icon-select-arrow \" [hidden]=\"isShowClear \"></span> </div> <!-- 多选 --> <div *ngIf=\"_jdbMode=='chooseMore' \" #inputDom class=\"jdb-plg-select-more \" (click)=\"dialogShow($event) \" [ngClass]=\"_classMap \" [ngStyle]=\"{ 'width':_width} \"> <!-- placeHolder --> <div class=\"jdb-plg-select-placeholder \" [hidden]=\"inputText.length !=0 \">{{_placeHolder}}</div> <!-- 多选item --> <ul class=\"chooseMore \"> <li *ngFor=\"let item of inputText \"> {{item[_optionText]}} <span class=\"item-delete icon-close \" (click)=\"deleteMoreItem($event,item) \"></span> </li> </ul> <ul #optionList [ngClass]=\"{ 'options-show':show, 'options-no-margin':!spaceFlex} \" class=\"options \"> <li class=\"choose-more \" *ngFor=\"let option of _selectList \" (click)=\"chooseMore($event,option) \" [ngClass]=\"{ 'active':moreIndex(option),disabled:option[_jdbItemDisabled] === _jdbSureDisabled} \"> <!-- {{_optionText=='option'?option:option[_optionText]}} --> <img class=\"img-box\" *ngIf=\"_showImgBox&&option.imgUrl\" [src]=\"option.imgUrl\" alt=\"\"> <span class=\"img-box\" *ngIf=\"_showImgBox&&!option.imgUrl\"></span> <span class=\"text-box\">{{_optionText=='option'?option:option[_optionText]}}</span> <span [hidden]=\"!moreIndex(option) \" class=\"choose-right icon-selected \"></span> </li> </ul> <!-- 清空图标 --> <span class=\"close-icon icon-empty \" [hidden]=\"!isShowClear \" (click)=\"clearInputText($event) \"></span> </div> <!-- 选中几项 --> <div *ngIf=\"_jdbMode=='chooseNum' \" #inputDom class=\"jdb-plg-select-num \" (click)=\"dialogShow($event) \" [ngClass]=\"_classMap \" [ngStyle]=\"{ 'width':_width} \"> <!-- placeHolder --> <div class=\"jdb-plg-select-placeholder \" [hidden]=\"inputText!==0 \">{{_placeHolder}}</div> <span class=\"choose-tip \" [hidden]=\"inputText===0 \">已选中{{inputText}}项</span> <ul #optionList [ngClass]=\"{ 'options-show':show, 'options-no-margin':!spaceFlex} \" class=\"options \"> <li class=\"choose-more \" *ngFor=\"let option of _selectList \" (click)=\"numClick($event,option) \" [ngClass]=\"{ 'active':moreIndex(option),disabled:option[_jdbItemDisabled] === _jdbSureDisabled} \"> <!-- {{_optionText=='option'?option:option[_optionText]}} --> <img class=\"img-box\" *ngIf=\"_showImgBox&&option.imgUrl\" [src]=\"option.imgUrl\" alt=\"\"> <span class=\"img-box\" *ngIf=\"_showImgBox&&!option.imgUrl\"></span> <span class=\"text-box\">{{_optionText=='option'?option:option[_optionText]}}</span> <span [hidden]=\"!moreIndex(option) \" class=\"choose-right icon-selected \"></span> </li> </ul> <!-- 清空图标 --> <span class=\"close-icon icon-empty \" [hidden]=\"!isShowClear \" (click)=\"clearInputText($event) \"></span> <span class=\"select-icon icon-select-arrow \" [hidden]=\"isShowClear \"></span> </div> <!-- 遮罩层 --> <div class=\"jdb-plg-select-master \" *ngIf=\"show \"></div>`,\n\t// styleUrls: ['./jdb-plg-select.component.scss'],\n\tproviders: [\n\t\t{\n\t\t\t// 注册成为表单控件\n\t\t\tprovide: NG_VALUE_ACCESSOR,\n\t\t\tuseExisting: forwardRef(() => JdbPlgSelectComponent),\n\t\t\tmulti: true\n\t\t}\n\t]\n})\nexport class JdbPlgSelectComponent implements OnInit, OnChanges {\n\t_selectList: any;\n\t_size = 'middle';\n\t_width: string;\n\t_optionText = 'text'; // 默认值\n\t_optionValue = 'value'; // 默认值\n\t_optionPosition: string;\n\tisShowClear = false; // 是否展示清空x\n\t_jdbClear = false;\n\t_jdbDisabled = false; // 默认未禁用\n\t_jdbMode = 'chooseOne';\n\t_placeHolder = '请选择';\n\t_chooseMoreArray = []; // 多选选中元素数组\n\t_classMap = {};\n\tlistHeight: number;\n\tsavaHeight = true;\n\tspaceFlex = true; // 是否有剩余空间，默认有\n\t_showImgBox = false; // 下拉框是否带图片\n\t_jdbItemDisabled = 'disabled'; // 默认为disabled\n\t_jdbSureDisabled = 2; // 为1是启用 2是禁用\n\t_jdbNoDisabled = 1; // 为2表示不禁用\n\t_jdbError = false; //  输入框输入项报错标红\n\n\t// 自定义类名\n\t@Input() jdbClassName = '';\n\n\t// 选项中某项禁用字段\n\t@Input()\n\tset jdbItemDisabled(value) {\n\t\tthis._jdbItemDisabled = value;\n\t}\n\tget jdbItemDisabled(): string {\n\t\treturn this._jdbItemDisabled;\n\t}\n\n\t// 输入框是否处于报错状态\n\t@Input()\n\tset jdbError(value) {\n\t\tthis._jdbError = this.toBoolean(value);\n\t}\n\tget jdbError(): boolean {\n\t\treturn this._jdbError;\n\t}\n\n\t// 选项中某项确认禁用\n\t@Input()\n\tset jdbSureDisabled(value) {\n\t\tthis._jdbSureDisabled = value;\n\t}\n\tget jdbSureDisabled(): any {\n\t\treturn this._jdbSureDisabled;\n\t}\n\n\t// // 选项中某项不禁用\n\t// @Input()\n\t// set jdbNoDisabled(value) {\n\t//   this._jdbNoDisabled = value;\n\t// }\n\t// get jdbNoDisabled(): any {\n\t//   return this._jdbNoDisabled;\n\t// }\n\n\t// 选项中某项确认禁用\n\t@Input()\n\tset jdbPlaceHolder(value) {\n\t\tthis._placeHolder = value;\n\t}\n\tget jdbPlaceHolder(): any {\n\t\treturn this._placeHolder;\n\t}\n\n\t// 是否需要显示清空\n\t@Input()\n\tset jdbClear(value) {\n\t\tthis._jdbClear = this.toBoolean(value);\n\t}\n\tget jdbClear(): boolean {\n\t\treturn this._jdbClear;\n\t}\n\n\t// 下拉框数组，必写\n\t@Input()\n\tset jdbSelectList(value) {\n\t\t// 循环数组，判断是否需要展示带有图片下拉框\n\t\tif (value) {\n\t\t\tconst arr = [];\n\t\t\tvalue.forEach((element) => {\n\t\t\t\tconst type = typeof element;\n\t\t\t\tif (type === 'string' || type === 'number') {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\ttext: element,\n\t\t\t\t\t\tvalue: element\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tarr.push(element);\n\t\t\t\t\tif (element.imgUrl) {\n\t\t\t\t\t\tthis._showImgBox = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis._selectList = arr;\n\t\t}\n\t}\n\tget jdbSelectList(): any {\n\t\treturn this._selectList;\n\t}\n\n\t// 下拉框尺寸，默认为高度30px；small为24px,large为40px;\n\t@Input()\n\tset jdbSize(value) {\n\t\tthis._size = value;\n\t}\n\tget jdbSize(): string {\n\t\treturn this._size;\n\t}\n\n\t// 自定义宽度\n\t@Input()\n\tset jdbWidth(value) {\n\t\tthis._width = value;\n\t}\n\tget jdbWidth(): string {\n\t\treturn this._width;\n\t}\n\n\t// 展示在页面内容字段名称\n\t@Input()\n\tset jdbOptionText(value) {\n\t\tthis._optionText = value;\n\t}\n\tget jdbOptionText(): string {\n\t\treturn this._optionText;\n\t}\n\n\t// 返回给serve对应字段名称\n\t@Input()\n\tset jdbOptionValue(value) {\n\t\tthis._optionValue = value;\n\t}\n\tget jdbOptionValue(): string {\n\t\treturn this._optionValue;\n\t}\n\n\t// 下拉框禁用\n\t@Input()\n\tset jdbDisabled(value) {\n\t\tthis._jdbDisabled = this.toBoolean(value);\n\t}\n\tget jdbDisabled(): boolean {\n\t\treturn this._jdbDisabled;\n\t}\n\n\t// select模式，默认为单选，chooseMore多选\n\t@Input()\n\tset jdbMode(value) {\n\t\tthis._jdbMode = value;\n\t}\n\tget jdbMode(): string {\n\t\treturn this._jdbMode;\n\t}\n\n\t@ViewChild('inputDom') inputDom: ElementRef;\n\t@ViewChild('optionList') optionList: ElementRef;\n\n\tshow = false;\n\tinputText: any;\n\tngModelValue: any = ''; // 单选为字符串，多选为数组\n\tconstructor(private renderer2: Renderer2, private renderer: Renderer) { }\n\n\tngOnInit() { }\n\n\t// tslint:disable-next-line:use-life-cycle-interface\n\tngAfterViewInit() {\n\t\t// 点击除下拉框以外位置，下拉框隐藏\n\t\tthis.renderer2.listen('document', 'click', () => {\n\t\t\tthis.show = false;\n\t\t\tthis.renderer.setElementClass(this.inputDom.nativeElement, 'jdb-plg-select-active', this.show);\n\t\t});\n\n\t\tif (this._jdbClear && !this._jdbDisabled) {\n\t\t\t// 监听输入框元素，若有内容时则滑上显示x\n\t\t\tthis.renderer2.listen(this.inputDom.nativeElement, 'mouseenter', () => {\n\t\t\t\t// 若输入框不存在内容，则不做任何操作\n\t\t\t\tif (this._jdbMode === 'chooseOne' && (this.inputText === '' || this.show)) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (this._jdbMode === 'chooseNum' && (this.inputText === 0 || this.show)) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (this._jdbMode === 'chooseMore' && (this.inputText.length === 0 || this.show)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.isShowClear = true;\n\t\t\t\tthis.renderer.setElementClass(this.inputDom.nativeElement, 'jdb-plg-select-active', this.show);\n\t\t\t});\n\t\t\tthis.renderer2.listen(this.inputDom.nativeElement, 'mouseleave', () => {\n\t\t\t\t// 若输入框不存在内容，则不做任何操作\n\t\t\t\tif (this._jdbMode === 'chooseOne' && (this.inputText === '' || this.show)) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (this._jdbMode === 'chooseNum' && (this.inputText === 0 || this.show)) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (this._jdbMode === 'chooseMore' && (this.inputText.length === 0 || this.show)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.isShowClear = false;\n\t\t\t\tthis.renderer.setElementClass(this.inputDom.nativeElement, 'jdb-plg-select-active', this.show);\n\t\t\t});\n\t\t}\n\t}\n\n\tngOnChanges() {\n\t\t// 当数组取到后重新判断ngModel绑定的值，解决异步数据不回显问题\n\t\tif (this._selectList) {\n\t\t\tif (this.ngModelValue === null || this.ngModelValue === '' || this.ngModelValue === undefined) {\n\t\t\t\t// 若传入值为null，则清空数据\n\t\t\t\tif (this._jdbMode === 'chooseMore') {\n\t\t\t\t\tthis.inputText = [];\n\t\t\t\t\tthis._chooseMoreArray = [];\n\t\t\t\t} else if (this._jdbMode === 'chooseNum') {\n\t\t\t\t\tthis.inputText = 0;\n\t\t\t\t\tthis._chooseMoreArray = [];\n\t\t\t\t} else {\n\t\t\t\t\tthis.inputText = '';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this._jdbMode === 'chooseOne') {\n\t\t\t\t\tthis.forOneStart(this.ngModelValue);\n\t\t\t\t} else if (this._jdbMode === 'chooseMore') {\n\t\t\t\t\tthis.forMoreStart(this.ngModelValue);\n\t\t\t\t\tthis.setClassMap();\n\t\t\t\t} else if (this._jdbMode === 'chooseNum') {\n\t\t\t\t\tthis.forNumStart(this.ngModelValue);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.setClassMap();\n\t}\n\n\tsetClassMap() {\n\t\tif (this._jdbMode === 'chooseMore') {\n\t\t\tthis._classMap = {\n\t\t\t\t[`${this._size}`]: true,\n\t\t\t\t[`jdb-plg-select-bottom-${this._size}`]: this.inputText.length !== 0,\n\t\t\t\t['jdb-plg-select-disabled']: this._jdbDisabled,\n\t\t\t\t[this.jdbClassName]: true,\n\t\t\t\t['jdb-plg-select-error']: this._jdbError // 输入项报错标红\n\t\t\t};\n\t\t} else {\n\t\t\tthis._classMap = {\n\t\t\t\t[`${this._size}`]: true,\n\t\t\t\t['jdb-plg-select-disabled']: this._jdbDisabled,\n\t\t\t\t[this.jdbClassName]: true,\n\t\t\t\t['jdb-plg-select-error']: this._jdbError // 输入项报错标红\n\t\t\t};\n\t\t}\n\t}\n\n\t// 点击x，清空内容\n\tclearInputText(e) {\n\t\te.stopPropagation();\n\n\t\tif (this._jdbMode === 'chooseOne') {\n\t\t\tthis.inputText = '';\n\t\t} else if (this._jdbMode === 'chooseMore') {\n\t\t\tthis.inputText = [];\n\t\t\tthis._chooseMoreArray = [];\n\t\t} else if (this._jdbMode === 'chooseNum') {\n\t\t\tthis.inputText = 0;\n\t\t\tthis._chooseMoreArray = [];\n\t\t}\n\t\tthis.isShowClear = !this.isShowClear;\n\n\t\t// 清空后输入需要重新告知父组件\n\t\tthis.ngModelValue = '';\n\t\tthis.onChange('');\n\n\t\tthis.setClassMap();\n\t}\n\n\t// 点击输入框下拉菜单显隐\n\tdialogShow(e) {\n\t\te.stopPropagation();\n\t\t// 若外侧组件告知禁用，则点击没有任何效果\n\t\tif (this._jdbDisabled) {\n\t\t\treturn;\n\t\t}\n\t\tthis.isShowClear = false;\n\t\tthis.show = !this.show;\n\t\tthis.renderer.setElementClass(this.inputDom.nativeElement, 'jdb-plg-select-active', this.show);\n\t\tthis.optionPosition(this.optionList.nativeElement.clientHeight);\n\t}\n\n\t// 浮层出现是在输入框上方还是下方\n\toptionPosition(listHeight) {\n\t\tconst offetTop = this.getTop(this.inputDom.nativeElement); // 元素offetTop\n\t\tconst scrollTop = this.getScrollTop(this.inputDom.nativeElement.parentElement);\n\t\tconst clientHeight = document.documentElement.clientHeight || document.body.clientHeight; // 屏幕高度\n\t\tconst elemHeight = this.inputDom.nativeElement.clientHeight; // 元素高度\n\t\tlet paddingHeight;\n\t\tif (this.jdbSize === 'small') {\n\t\t\tpaddingHeight = 2;\n\t\t} else if (this.jdbSize === 'large') {\n\t\t\tpaddingHeight = 9;\n\t\t} else if (this.jdbSize === 'middle') {\n\t\t\tpaddingHeight = 5;\n\t\t}\n\t\tconst flexHeight = clientHeight - offetTop - elemHeight - paddingHeight + scrollTop; // 剩余高度\n\t\tif (flexHeight < listHeight) {\n\t\t\t// 空间不足\n\t\t\tthis.spaceFlex = false;\n\t\t\tthis.renderer.setElementStyle(this.optionList.nativeElement, 'transform-origin', '100% 100%');\n\t\t\tif (listHeight < 188) {\n\t\t\t\tthis.renderer.setElementStyle(this.optionList.nativeElement, 'top', -listHeight - 5 + 'px');\n\t\t\t} else {\n\t\t\t\tthis.renderer.setElementStyle(this.optionList.nativeElement, 'top', -190 - paddingHeight + 'px');\n\t\t\t}\n\t\t} else {\n\t\t\tthis.spaceFlex = true;\n\t\t\tthis.renderer.setElementStyle(this.optionList.nativeElement, 'top', '');\n\t\t\tthis.renderer.setElementStyle(this.optionList.nativeElement, 'transform-origin', '0% 0%');\n\t\t}\n\t}\n\n\t// ControlValueAccessor 自定义表单 与父组件的ngModel绑定起来\n\twriteValue(value: any): void {\n\t\tthis.ngModelValue = value;\n\t\tif (value === null || value === '' || value === undefined) {\n\t\t\t// 若传入值为null，则清空数据\n\t\t\tif (this._jdbMode === 'chooseMore') {\n\t\t\t\tthis.inputText = [];\n\t\t\t\tthis._chooseMoreArray = [];\n\t\t\t} else if (this._jdbMode === 'chooseNum') {\n\t\t\t\tthis.inputText = 0;\n\t\t\t\tthis._chooseMoreArray = [];\n\t\t\t} else {\n\t\t\t\tthis.inputText = '';\n\t\t\t}\n\t\t} else {\n\t\t\tif (this._jdbMode === 'chooseOne') {\n\t\t\t\tthis.forOneStart(value);\n\t\t\t} else if (this._jdbMode === 'chooseMore') {\n\t\t\t\tthis.forMoreStart(value);\n\t\t\t\tthis.setClassMap();\n\t\t\t} else if (this._jdbMode === 'chooseNum') {\n\t\t\t\tthis.forNumStart(value);\n\t\t\t}\n\t\t}\n\t}\n\tonChange: (value: any) => void = () => null;\n\n\tregisterOnChange(fn: (value: any) => void): void {\n\t\tthis.onChange = fn;\n\t}\n\n\tregisterOnTouched(fn: () => void): void { }\n\n\tsetDisabledState(isDisabled: boolean): void { }\n\n\t// 单选，若有初始选项，则遍历数组\n\tforOneStart(value) {\n\t\tthis._selectList.forEach((elem) => {\n\t\t\tif (elem[this._optionValue] === value) {\n\t\t\t\tthis.inputText = elem[this._optionText];\n\t\t\t}\n\t\t});\n\t}\n\n\t// 多选，若有初始值则遍历数组\n\tforMoreStart(value) {\n\t\t// 判断传入值类型 老版本为string,新版本为数组，兼容新老版本\n\t\tif (typeof value === 'string') {\n\t\t\tvalue = value.toString().split(',');\n\t\t}\n\t\tvalue.forEach((item) => {\n\t\t\tthis._selectList.forEach((elem) => {\n\t\t\t\tif (elem[this._optionValue] === item) {\n\t\t\t\t\t// inputText为输入框中展示的内容 判断是否有重新赋值text和value字段\n\t\t\t\t\tlet textName = this._optionText;\n\t\t\t\t\tlet valueName = this._optionValue;\n\t\t\t\t\tif (this.jdbOptionText) {\n\t\t\t\t\t\ttextName = this.jdbOptionText;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.jdbOptionValue) {\n\t\t\t\t\t\tvalueName = this.jdbOptionValue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// key为变量的赋值方法\n\t\t\t\t\tconst obj = {};\n\t\t\t\t\tobj[textName] = elem[this._optionText];\n\t\t\t\t\tobj[valueName] = elem[this._optionValue];\n\t\t\t\t\tthis.inputText.push(obj);\n\n\t\t\t\t\t// this._chooseMoreArray为传出去的数据\n\t\t\t\t\tthis._chooseMoreArray.push(elem[this._optionValue]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t// 选几项\n\tforNumStart(value) {\n\t\t// 判断传入值类型 老版本为string,新版本为数组，兼容新老版本\n\t\tif (typeof value === 'string') {\n\t\t\tvalue = value.toString().split(',');\n\t\t}\n\n\t\tvalue.forEach((item) => {\n\t\t\tthis._selectList.forEach((elem) => {\n\t\t\t\tif (elem[this._optionValue] === item) {\n\t\t\t\t\tthis.inputText++;\n\t\t\t\t\tthis._chooseMoreArray.push(elem[this._optionValue]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t// 单选某一元素点击\n\titem(e, item) {\n\t\t// 阻止事件冒泡\n\t\te.stopPropagation();\n\n\t\t// 判断show是否为true\n\t\tif (!this.show) {\n\t\t\treturn;\n\t\t}\n\t\t// 判断该项是否可点击\n\t\tif (item[this._jdbItemDisabled] === this._jdbSureDisabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.inputText = item[this._optionText];\n\t\tthis.show = !this.show;\n\t\tthis.renderer.setElementClass(this.inputDom.nativeElement, 'jdb-plg-select-active', this.show);\n\n\t\tthis.ngModelValue = item[this._optionValue];\n\t\tthis.onChange(item[this._optionValue]);\n\t}\n\n\t// 多选元素点击\n\tchooseMore(e, item) {\n\t\tlet flag = false;\n\t\t// 阻止事件冒泡\n\t\te.stopPropagation();\n\t\t// 判断show是否为true\n\t\tif (!this.show) {\n\t\t\treturn;\n\t\t}\n\n\t\t// 判断该项是否可点击\n\t\tif (item[this._jdbItemDisabled] === this._jdbSureDisabled) {\n\t\t\treturn;\n\t\t}\n\n\t\t// 判断是否存在\n\t\tthis.inputText.forEach((element, index) => {\n\t\t\tif (element[this._optionValue] === item[this._optionValue]) {\n\t\t\t\tflag = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\n\t\tif (flag) {\n\t\t\tthis.deleteMoreItem(e, item);\n\t\t\treturn;\n\t\t}\n\n\t\t// inputText为输入框中展示的内容\n\t\tlet textName = this._optionText;\n\t\tlet valueName = this._optionValue;\n\t\tif (this.jdbOptionText) {\n\t\t\ttextName = this.jdbOptionText;\n\t\t}\n\t\tif (this.jdbOptionValue) {\n\t\t\tvalueName = this.jdbOptionValue;\n\t\t}\n\t\tconst obj = {};\n\t\tobj[textName] = item[this._optionText];\n\t\tobj[valueName] = item[this._optionValue];\n\t\tthis.inputText.push(obj);\n\n\t\t// this._chooseMoreArray为传出去的数据\n\t\tthis._chooseMoreArray.push(item[this._optionValue]);\n\t\tthis.ngModelValue = this._chooseMoreArray; // 传出数据格式为数组\n\t\tthis.onChange(this._chooseMoreArray);\n\n\t\tthis.show = true;\n\t\tthis.setClassMap();\n\t}\n\n\t// 选中多少项li点击\n\tnumClick(e, item) {\n\t\tlet flag = false;\n\t\t// 阻止事件冒泡\n\t\te.stopPropagation();\n\n\t\t// 判断show是否为true\n\t\tif (!this.show) {\n\t\t\treturn;\n\t\t}\n\n\t\t// 判断该项是否可点击\n\t\tif (item[this._jdbItemDisabled] === this._jdbSureDisabled) {\n\t\t\treturn;\n\t\t}\n\n\t\t// 判断是否点击过\n\t\tthis._chooseMoreArray.forEach((element, index) => {\n\t\t\tif (element === item[this._optionValue]) {\n\t\t\t\tflag = true;\n\t\t\t\tthis._chooseMoreArray.splice(index, 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t\tif (flag) {\n\t\t\tthis.inputText--;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.inputText++;\n\t\tthis.show = true;\n\t\tthis._chooseMoreArray.push(item[this._optionValue]);\n\t\tthis.ngModelValue = this._chooseMoreArray; // 传出格式为数组\n\t\tthis.onChange(this._chooseMoreArray);\n\t}\n\n\t// 判断某一项是否存在于inputText中\n\tmoreIndex(item) {\n\t\tlet flag = false;\n\t\tthis._chooseMoreArray.forEach((element, index) => {\n\t\t\tif (element === item[this._optionValue]) {\n\t\t\t\tflag = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t\treturn flag;\n\t}\n\n\t// 删除某一项\n\tdeleteMoreItem(e, item) {\n\t\te.stopPropagation();\n\t\tif (this._jdbDisabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.inputText.forEach((element, index) => {\n\t\t\tif (element[this._optionValue] === item[this._optionValue]) {\n\t\t\t\tthis.inputText.splice(index, 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\n\t\tthis._chooseMoreArray.forEach((element, index) => {\n\t\t\tif (element === item[this._optionValue]) {\n\t\t\t\tthis._chooseMoreArray.splice(index, 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t\tthis.ngModelValue = this._chooseMoreArray; // 传出格式为数组\n\t\tthis.onChange(this._chooseMoreArray);\n\t\tthis.setClassMap();\n\t}\n\n\t// 转换为boolean,即实现有这个字段就认为为true,没有即为false\n\ttoBoolean(value: boolean | string): boolean {\n\t\treturn value === '' || (value && value !== 'false');\n\t}\n\n\t// 计算某元素的offetTop\n\tgetTop(e) {\n\t\tlet offset = e.offsetTop;\n\t\tif (e.offsetParent != null) {\n\t\t\toffset += this.getTop(e.offsetParent);\n\t\t}\n\t\treturn offset;\n\t}\n\n\t// 计算某元素的scrollTop\n\tgetScrollTop(e) {\n\t\tlet offset = e.scrollTop;\n\t\tif (e.parentElement != null) {\n\t\t\toffset += this.getScrollTop(e.parentElement);\n\t\t}\n\t\treturn offset;\n\t}\n}\n","import { Component, OnInit, EventEmitter, TemplateRef, Input, Output, ElementRef, ContentChild, forwardRef, HostListener, ViewEncapsulation, AfterViewInit, Renderer2, ViewChild } from '@angular/core';\nimport { NgModel, ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n    selector: 'app-jdb-plg-input',\n    template: `<span class=\"input-group-addon\" *ngIf=\"_addOnContentBefore\"> <ng-template [ngTemplateOutlet]=\"_addOnContentBefore\"> </ng-template> </span> <ng-template [ngIf]=\"_type=='text'\"> <div class=\"input-text-wrap\" [ngClass]=\"_inputWrapClass\"> <span class=\"input-prefix\" *ngIf=\"_prefixContent\"> <ng-template [ngTemplateOutlet]=\"_prefixContent\"> </ng-template> </span> <span class=\"input-content\"> <input (blur)=\"_emitBlur($event)\" (focus)=\"_emitFocus($event)\" [disabled]=\"_disabled\" [readonly]=\"_readonly\" [attr.id]=\"jdbId\" [attr.type]=\"_type\" class=\"input\" [ngClass]=\"_classMap\" [attr.placeholder]=\"_placeHolder\" [(ngModel)]=\"jdbValue\" [style.width]=\"width\" maxlength=\"{{jdbMaxLength}}\" #input /> <span class=\"input-clear\" *ngIf=\"_clear && _value && _type=='text'\" (click)=\"clearTxt()\"> <i class=\"close-icon icon-empty\"></i> </span> </span> <span class=\"ant-input-suffix\" *ngIf=\"_suffixContent\"> <i class=\"iconfont icon-guanbi2fill\"></i> <ng-template [ngTemplateOutlet]=\"_suffixContent\"> </ng-template> </span> <div class=\"input-error-tip\" *ngIf=\"jdbError && _errorContent\" [style.width]=\"width\"> <i class=\"icon-message-error error-tip\"></i> <p class=\"input-error-content\"> <ng-template [ngTemplateOutlet]=\"_errorContent\"> </ng-template> </p> </div> </div> </ng-template> <span class=\"input-group-addon\" *ngIf=\"_addOnContentAfter\"> <ng-template [ngTemplateOutlet]=\"_addOnContentAfter\"> </ng-template> </span> <ng-template [ngIf]=\"_type=='textarea'\"> <div class=\"input-text-wrap\"> <textarea (blur)=\"_emitBlur($event)\" (focus)=\"_emitFocus($event)\" (input)=\"textareaOnChange($event)\" [attr.id]=\"jdbId\" #inputTextarea [disabled]=\"_disabled\" [readonly]=\"_readonly\" type=\"textarea\" class=\"input input-textarea\" [ngClass]=\"_classMap\" [attr.placeholder]=\"jdbPlaceHolder\" [(ngModel)]=\"jdbValue\" maxlength=\"{{jdbMaxLength}}\" [style.width]=\"width\"></textarea> <span class=\"textarea-wc-tip\" [ngClass]=\"{'textarea-wc-tip-red': jdbValue&&jdbValue.length == jdbMaxLength}\" *ngIf=\"jdbMaxLength && !_disabled &&!_readonly\">{{(jdbValue&&jdbValue.length)||0}}/{{jdbMaxLength}}</span> </div> </ng-template>`,\n    // styleUrls: ['./jdb-plg-input.component.scss'],\n    encapsulation: ViewEncapsulation.None,\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => JdbPlgInputComponent),\n            multi: true\n        }\n    ],\n})\n\nexport class JdbPlgInputComponent implements OnInit, AfterViewInit, ControlValueAccessor {\n    _value = '';\n    _type = 'text';\n    _placeHolder = '';\n    _size = 'default';\n    _disabled = false;\n    _readonly = false;\n    _error = false;\n    _classMap: any;\n    _inputWrapClass: Array<string> = [];\n    _clear = false;\n    _maxlength: number;\n    _autoPromptData: Array<any> = [];\n    _composing = false;\n    @Input() width = '300px';\n    // ngModel Access\n    onChange: (value: string) => void = () => null;\n    @ContentChild('jdbErrorContent') _errorContent: TemplateRef<any>;\n    @ContentChild('addContentBefore') _addOnContentBefore: TemplateRef<any>;\n    @ContentChild('addContentAfter') _addOnContentAfter: TemplateRef<any>;\n    @ContentChild('prefixContent') _prefixContent: TemplateRef<any>;\n    @ContentChild('suffixContent') _suffixContent: TemplateRef<any>;\n    @Output() jdbBlur: EventEmitter<MouseEvent> = new EventEmitter();\n    @Output() jdbFocus: EventEmitter<MouseEvent> = new EventEmitter();\n\n    @ViewChild('input') inputEl: ElementRef;\n    @ViewChild('clearBtn') clearBtnEl: ElementRef;\n\n    constructor(private render: Renderer2) {\n\n    }\n\n    ngOnInit() {\n        // this._inputWrapClass =[`input-text-wrap-${this._size}`];\n        if (this._prefixContent) {\n            this._inputWrapClass.push('prefix');\n        }\n    }\n\n    ngAfterViewInit() {\n        if (this.clearBtnEl) {\n            this.render.setStyle(this.clearBtnEl.nativeElement, 'top', this.inputEl.nativeElement.height / 2);\n        }\n    }\n\n    @HostListener('compositionstart', ['$event'])\n    compositionStart(e: CompositionEvent): void {\n        this._composing = true;\n    }\n\n    @HostListener('compositionend', ['$event'])\n    compositionEnd(e: CompositionEvent): void {\n        this._composing = false;\n        this.onChange(this._value);\n    }\n\n    @Input()\n    set jdbType(type: string) {\n        this._type = type;\n    }\n    get jdbType(): string {\n        return this._type;\n    }\n\n    @Input()\n    set jdbPlaceHolder(placeHolder: string) {\n        this._placeHolder = placeHolder;\n    }\n    get jdbPlaceHolder(): string {\n        return this._placeHolder;\n    }\n\n    @Input()\n    set jdbSize(size: string) {\n        this._size = { large: 'lg', small: 'sm' }[size];\n        this.setClassMap();\n    }\n    get jdbSize(): string {\n        return this._size;\n    }\n\n    @Input()\n    set jdbDisabled(disabled: boolean) {\n        this._disabled = this.toBoolean(disabled);\n        this.setClassMap();\n    }\n    get jdbDisabled(): boolean {\n        return this._disabled;\n    }\n\n    @Input()\n    set jdbReadonly(readonly: boolean) {\n        this._readonly = this.toBoolean(readonly);\n    }\n    get jdbReadonly(): boolean {\n        return this._readonly;\n    }\n\n    @Input()\n    set jdbValue(value: string) {\n        if ((this._value === value) || ((this._value == null) && (value == null))) {\n            return;\n        }\n        this._value = value;\n        if (!this._composing) {\n            this.onChange(value);\n        }\n    }\n    get jdbValue(): string {\n        return this._value || '';\n    }\n    @Input()\n    set jdbError(value: boolean) {\n        this._error = this.toBoolean(value);\n        this.setClassMap();\n    }\n    get jdbError(): boolean {\n        return this._error;\n    }\n    @Input()\n    set jdbClear(value: boolean) {\n        this._clear = this.toBoolean(value);\n    }\n    get jdbClear(): boolean {\n        return this._clear;\n    }\n\n    @Input()\n    set jdbMaxLength(value: number) {\n        this._maxlength = value;\n    }\n    get jdbMaxLength(): number {\n        return this._maxlength;\n    }\n\n    @Input()\n    set jdbPromptData(value: Array<any>) {\n        this._autoPromptData = value;\n    }\n    get jdbPromptData(): Array<any> {\n        return this._autoPromptData;\n    }\n    writeValue(value: string): void {\n        this._value = value;\n    }\n    registerOnChange(fn: (_: string) => void): void {\n        this.onChange = fn;\n    }\n\n    registerOnTouched(fn: () => void): void {\n    }\n    _emitBlur($event) {\n        this.jdbBlur.emit($event);\n    }\n\n    _emitFocus($event) {\n        this.jdbFocus.emit($event);\n    }\n    textareaOnChange($event) {\n\n    }\n    setClassMap() {\n        this._classMap = {\n            [`input-${this._type}-${this._size}`]: true,\n            ['input-disabled']: this._disabled,\n            ['input-error']: this._error\n        };\n    }\n    clearTxt() {\n        this._value = '';\n        this.onChange('');\n    }\n\n    toBoolean(value: boolean | string): boolean {\n        return value === '' || (value && value !== 'false');\n    }\n}\n","export const keyCode = {\n    UP: 38,\n    DOWN: 40,\n    ENTER: 13\n\n}","import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  EventEmitter,\n  HostListener,\n  ElementRef,\n  Inject,\n  Renderer2,\n  AfterViewInit,\n  ViewChild,\n  forwardRef,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\nimport { NgModel, ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { AutoCompleteResult } from './autocomplete.result';\nimport { keyCode } from './keycode';\n@Component({\n  selector: 'app-jdb-plg-autocomplete',\n  template: `<div class=\"autoprompt\"> <app-jdb-plg-input [jdbType]=\"'text'\" [jdbPlaceHolder]=\"jdbPlaceHolder\" [jdbClear]=\"true\" [(ngModel)]=\"_searchWord\" [width]=\"width\" (ngModelChange)=\"changeInput()\"> </app-jdb-plg-input> <ul #resultele [hidden]=\"!_listShow\" [style.width]=\"width\"> <li *ngFor=\"let item of searchResult;index as i\" [ngClass]=\"{'selected': activeIndex == i}\" (click)=\"selectedItem(item,i)\"> <p> {{item.text}} </p> </li> </ul> </div> <!-- <div class=\"autoprompt-mask\" [hidden]=\"!_listShow\" (click)=\"closePop($event)\"></div> -->`,\n  // styleUrls: ['./jdb-plg-autocomplete.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => JdbPlgAutocompleteComponent),\n      multi: true\n    }\n  ]\n})\nexport class JdbPlgAutocompleteComponent implements OnInit, AfterViewInit, ControlValueAccessor, OnChanges {\n  _searchParam = 'key';    // 异步模式下，向后端传的搜索参数\n  _serverApi = '/';        // 异步模式下，接口URL\n  _searchWord = '';\n  searchResult: AutoCompleteResult[] = [];    // 存储搜索结果\n  _listShow = false;\n  activeIndex = 0;\n  selectOne: any;    // 存储选中数据\n  ngModelValue = '';\n  @ViewChild('resultele') resultEle: ElementRef;    // 盛放搜索结果的容器\n  @Input() jdbPlaceHolder = '';\n  @Input() width = '300px';\n  _dataSource = [];    // 同步模式下一次性传入搜索数据\n  @Input() dataKey = 'value';    // 自定义数据key的键值\n  @Input() dataVal = 'text';     // 自定义数据的value键值\n  @Input() jdbDataAsyn = false;    //  是否异步；默认同步处理\n  @Output() onSelected: EventEmitter<AutoCompleteResult> = new EventEmitter(); // 选中回调\n  onChange: (value: string) => void = () => null;\n  constructor(private el: ElementRef,\n              // @Inject('jdbPlgBaseApi') private jdbPlgBaseApi,\n              private render: Renderer2) { }\n  ngOnInit() {\n  }\n  ngAfterViewInit() {\n    this.render.listen(this.el.nativeElement, 'input', this.debounce(() => {\n      this.activeIndex = -1;\n      this.inputHandle();\n    }, 500, false));\n    // 处理搜索框点击事件\n    this.render.listen(this.el.nativeElement.querySelector('input[type=\"text\"]'), 'click', (evt) => {\n      this.activeIndex = -1;\n      if (!this._searchWord) {\n        this.searchResult = this.jdbDataSource;\n      } else {\n        this.searchResult = this.searchResult = this.jdbDataSource.filter((obj) => obj['text'].indexOf(this._searchWord) !== -1);\n      }\n      if (this.searchResult.length > 0) {\n        this._listShow = true;\n        setTimeout(_ => {\n          this.resetPopDirection(this.el.nativeElement);\n        }, 0);\n      }\n      evt.stopPropagation();\n    });\n    // 处理关闭搜索结果\n    this.render.listen('document', 'click', (evt) => {\n      this._listShow = false;\n    });\n    this.render.listen(this.el.nativeElement.querySelector('input[type=\"text\"]'), 'blur', () => {\n      if ( (this.selectOne && this._searchWord !== this.selectOne.text) || !this.selectOne ) {\n        this._searchWord = '';\n        this.ngModelValue = '';\n        this.selectOne = null;\n        this.onChange('');\n      }\n    });\n  }\n  ngOnChanges(simples: SimpleChanges) {\n  }\n  // 键盘事件\n  @HostListener('keydown', ['$event']) OnKeyDown(event: KeyboardEvent) {\n    switch (event.which) {\n      case keyCode.UP:\n        this.activeIndex--;\n        if (this.activeIndex < 0) {\n          this.activeIndex = this.searchResult.length - 1;\n        }\n        this.setSearchWord();\n        break;\n      case keyCode.DOWN:\n        this.activeIndex++;\n        if (this.activeIndex >= this.searchResult.length) {\n          this.activeIndex = 0;\n        }\n        this.setSearchWord();\n        break;\n      case keyCode.ENTER:\n        const item = <AutoCompleteResult>this.searchResult[this.activeIndex];\n        this.selectedItem(item, this.activeIndex);\n        break;\n      default:\n        this.activeIndex = -1;\n    }\n  }\n  // 粘贴事件\n  @HostListener('paste', ['$event']) OnPaste(event: Event) {\n    this.inputHandle();\n  }\n  // 处理input和paste事件\n  inputHandle() {\n    if (this._searchWord) {\n      if (this.jdbDataAsyn) { // 异步请求接口，返回数据\n        // this.popupList();\n      } else {    // 同步过滤处理\n        this.searchResult = this.jdbDataSource.filter((obj) => obj['text'].indexOf(this._searchWord) !== -1);\n        // if (this.searchResult.length > 0) {\n        //     this.selectOne = this.searchResult[this.activeIndex];\n        // }\n      }\n      // 显示结果\n      if (this.searchResult.length > 0) {\n        this._listShow = true;\n      } else {\n        this._listShow = false;\n      }\n      // 要先让搜索结果展示，才能获取到相关高度，处理显示位置\n      setTimeout(_ => {\n        this.resetPopDirection(this.el.nativeElement);\n      }, 0);\n    }\n  }\n  closePop(event) {\n    if (this.selectOne && this._searchWord && this._listShow) {\n      if (this._searchWord !== this.selectOne.text) {\n        this.ngModelValue = '';\n        this.onChange('');\n        this.selectOne = null;\n        this._searchWord = '';\n      } else {\n        this.onSelected.emit(this.selectOne.value);\n        this.ngModelValue = this.selectOne.value;\n        this.onChange(this.ngModelValue);\n      }\n    }\n    this._listShow = false;\n    // event.stopPropagation();\n  }\n  // 设置选中样式\n  setSelectClass(obj) {\n    if (obj) {\n      return this._searchWord === obj.text;\n    }\n    return;\n  }\n  // 设置文本框选中内容\n  setSearchWord() {\n    this.selectOne = <AutoCompleteResult>this.searchResult[this.activeIndex];\n    this._searchWord = this.selectOne.text;\n  }\n  // 选中单个条目\n  selectedItem(item, index) {\n    this.activeIndex = index;\n    this.selectOne = item;\n    this._searchWord = item.text;\n    this._listShow = false;\n    this.onSelected.emit(this.selectOne.value);\n    this.ngModelValue = this.selectOne.value;\n    this.onChange(this.ngModelValue);\n    event.stopPropagation();\n  }\n  // 查询接口\n  // popupList() {\n  //   this.searchResult = [];\n  //   this.jdbPlgBaseApi.post(this._serverApi,\n  //     { [this._searchParam]: this._searchWord }, false).subscribe(\n  //     (res) => {\n  //       if (+res.error.returnCode === 0) {\n  //         res.data = res.data.map((obj, index) => ({\n  //           value: obj[this.dataKey],\n  //           text: obj[this.dataVal]\n  //         }));\n  //         this.searchResult = <AutoCompleteResult[]>res.data;\n  //         this._listShow = true;\n  //         // if (this.searchResult.length > 0) {\n  //         //     this.selectOne = this.searchResult[this.activeIndex];\n  //         // }\n  //       }\n  //     });\n  // }\n  // 函数防抖\n  debounce(fn, wait, immediate) {\n    let timeout,\n      args,\n      context,\n      timestamp,\n      result;\n    const later = function () {\n      const last = new Date().getTime() - timestamp;\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = fn.apply(context, args);\n          if (!timeout) {\n            context = args = null;\n          }\n        }\n      }\n    };\n    return function () {\n      context = this;\n      args = arguments;\n      timestamp = new Date().getTime();\n      const callNow = immediate && !timeout;\n      if (!timeout) {\n        timeout = setTimeout(later, wait);\n      }\n      if (callNow) {\n        result = fn.apply(context, args);\n        context = args = null;\n      }\n      return result;\n    };\n  }\n  // 设置弹出位置\n  resetPopDirection(node) {\n    const getOffsetTop = function (ele) {\n      let top = ele.offsetTop;\n      if (!ele.offsetParent) {\n        top += getOffsetTop(ele.offsetParent);\n      }\n      return top;\n    };\n    const getScrollTop = function (ele) {\n      let top = ele.scrollTop;\n      if (!ele.parentElement) {\n        top += getScrollTop(ele.parentElement);\n      }\n      return top;\n    };\n    const nodeTop = getOffsetTop(node),\n      clientHeight = document.documentElement.clientHeight || document.body.clientHeight,\n      scrollTop = getScrollTop(node.parentElement),\n      popHeight = this.resultEle.nativeElement.offsetHeight || 250,\n      inputHeight = node.querySelector('input[type=\"text\"]').offsetHeight;\n    // console.log('clientHeight:' + clientHeight + 'nodeTop:' + nodeTop + 'nodeHeight:' + nodeHeight + 'scrollTop:' + scrollTop);\n    const lastDirect = clientHeight - (nodeTop - scrollTop) - popHeight - inputHeight;\n    if (lastDirect <= 0) {\n      this.render.addClass(this.resultEle.nativeElement, 'pop_top');\n    } else {\n      this.render.removeClass(this.resultEle.nativeElement, 'pop_top');\n    }\n  }\n  // 清空文本框处理\n  changeInput() {\n    if (this._searchWord === '') {\n      this.ngModelValue = '';\n      this.onChange('');\n    }\n  }\n  @Input()\n  set jdbDataSource(value) {\n    this._dataSource = value;\n    if (!this.jdbDataAsyn && this._dataSource.length > 0) {\n      if (typeof this._dataSource[0] === 'string') {\n        this._dataSource = this._dataSource.map((val, index) => ({\n          value: val,\n          text: val\n        }));\n      } else if (typeof this._dataSource[0] === 'object' && (this.dataKey !== 'value' || this.dataVal !== 'text')) {\n        this._dataSource = this._dataSource.map((obj, index) => ({\n          value: obj[this.dataKey],\n          text: obj[this.dataVal]\n        }));\n      }\n      this.searchResult = this._dataSource;\n    }\n  }\n  get jdbDataSource() {\n    return this._dataSource;\n  }\n  @Input()\n  set jdbSearchParam(val) {\n    this._searchParam = val;\n  }\n  get jdbSearchParam() {\n    return this._searchParam;\n  }\n  @Input()\n  set jdbServerApi(val) {\n    this._serverApi = val;\n  }\n  get jdbServerApi() {\n    return this._serverApi;\n  }\n  writeValue(value: string): void {\n    this.ngModelValue = value;\n    if (this.ngModelValue === '') {\n      this._searchWord = '';\n    }\n  }\n  registerOnChange(fn: (_: string) => void): void {\n    this.onChange = fn;\n  }\n  registerOnTouched(fn: () => void): void {\n  }\n}","import { Injectable, ComponentFactoryResolver, ViewContainerRef } from '@angular/core';\nimport { JdbPlgToastComponent } from '../../components/jdb-plg-toast/jdb-plg-toast.component';\n\n@Injectable()\nexport class CommonMethodService {\n\n  vRef;\n\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver,\n  ) {\n  }\n\n  /*常用公共方法*/\n\n  /*验证手机号是否合法\n  * number 校验的手机号码*/\n  testPhoneNumber(number: string) {\n    const phoneReg = /^[1][0-9]{10}$/;\n    return phoneReg.test(number);\n  }\n\n  /*验证姓名是否合法\n   name 校验的姓名*/\n  testName(name: string) {\n    const nameReg = /^[\\u4E00-\\u9FA5·]{2,20}$/;\n    return nameReg.test(name);\n  }\n\n  /*验证代偿金额是否为最大1亿，最小一元，只可以两位小数\n  num单位为分*/\n  testRepayAmount(num) {\n    const nameReg = /^([1-9][0-9]{2,9}|10000000000)$/;\n    return nameReg.test(num);\n  }\n\n  /*数字格式化为千位分隔\n  num单位为分*/\n  numFormat(num) {\n    num = num / 100;\n    return num.toFixed(2).replace(/\\d{1,3}(?=(\\d{3})+(\\.\\d*)?$)/g, '$&,');\n  }\n\n  /**\n   * @method 将'yyyy-MM-dd~yyyy-MM-dd'格式，转化为startTime、endTime（10位时间戳）\n   * @param value 'yyyy-MM-dd~yyyy-MM-dd'格式字符串\n   */\n  toTimestamp(value) {\n    const timeObj = {};\n    if (value) {\n      const arrDate = value.split('~');\n      timeObj['startTime'] = new Date(arrDate[0]).getTime() / 1000;\n      timeObj['endTime'] = new Date(arrDate[1]).getTime() / 1000;\n    } else {\n      timeObj['startTime'] = '';\n      timeObj['endTime'] = '';\n    }\n    return timeObj;\n  }\n\n\n  /* 将时间戳转化为不同时间格式\n  * @param time必传 10位的时间戳\n  * @param type选传 默认'yyyy-MM-dd HH:mm:ss'格式  type为1 'yyyy-MM-dd HH:mm:ss'; type为2 'yyyy-MM-dd HH:mm'; type为3 'yyyy-MM-dd'; type为4 'yyyy-MM'; type为5 'yyyy';\n  */\n  toDate(time, type = 1) {\n    const myDate = new Date(time * 1000);\n    const year = myDate.getFullYear();\n    const month = this.add0(myDate.getMonth() + 1);\n    const day = this.add0(myDate.getDate());\n    const hour = this.add0(myDate.getHours());\n    const minute = this.add0(myDate.getMinutes());\n    const second = this.add0(myDate.getSeconds());\n    switch (type) {\n      case 1:\n        return `${year}-${month}-${day} ${hour}:${minute}:${second}`;\n      case 2:\n        return `${year}-${month}-${day} ${hour}:${minute}`;\n      case 3:\n        return `${year}-${month}-${day}`;\n      case 4:\n        return `${year}-${month}`;\n      case 5:\n        return `${year}`;\n    }\n  }\n  add0(m) {\n    return m < 10 ? `0${+m}` : m;\n  }\n\n  /* \n    参数1: 当前日期的前/后几天，n<0是为当前日期的后几天，反之为当前日期的前几天,默认为0;\n    参数2: 拼接的符号，符号'-'(2018-07-16),符号'/'(2018/07/16),默认为'-';\n    参数3: 是否返回的是时间戳格式，默认是时间戳格式\n    返回值: n=0时，返回当前日期的数组，否则第一个元素为当前日期，第二个元素为目标日期。\n  */\n  getTarDate(n = 0, joinStr = '-', isTimeStamp = true) {\n    let date = new Date();\n    let tarYear, tarMonth, tarDay, curYear, curMonth, curDay, curDate, tarDate;\n    //获取当前年月日\n    curYear = date.getFullYear();\n    curMonth = date.getMonth() + 1;\n    curDay = date.getDate();\n    //获取当前前n天或后n天的年月日\n    date.setDate(date.getDate() - n);\n    tarYear = date.getFullYear();\n    tarMonth = date.getMonth() + 1;\n    tarDay = date.getDate();\n    curDate = curYear + joinStr + (curMonth < 10 ? ('0' + curMonth) : curMonth) + joinStr + (curDay < 10 ? ('0' + curDay) : curDay);\n    tarDate = tarYear + joinStr + (tarMonth < 10 ? ('0' + tarMonth) : tarMonth) + joinStr + (tarDay < 10 ? ('0' + tarDay) : tarDay);\n    if (!isTimeStamp) {\n      return n === 0 ? [curDate] : [curDate, tarDate];\n    }\n    if (joinStr !== '-') {\n      let reg = new RegExp(joinStr, \"g\");\n      curDate = curDate.replace(reg, '-');\n      tarDate = tarDate.replace(reg, '-');\n    }\n    return n === 0 ? [new Date(curDate + ' 00:00:00').getTime()] : [new Date(curDate + ' 00:00:00').getTime(), new Date(tarDate + ' 23:59:59').getTime()];\n  }\n\n\n  setRootViewContainerRef(vRef) {\n    this.vRef = vRef;\n  }\n\n  toast(msg, delayTime = 3000) {\n    // 通过ComponentFactoryResolver 创建出动态组件的实例\n    const childComponent = this.componentFactoryResolver.resolveComponentFactory(JdbPlgToastComponent);\n    const comInstance = this.vRef.createComponent(childComponent);\n    comInstance.instance.msg = msg;\n    comInstance.changeDetectorRef.detectChanges();\n    setTimeout(() => {\n      comInstance.destroy();\n    }, delayTime);\n  }\n  //方式丢失精度四种算法\n  //乘法\n  accMul(arg1, arg2) {\n    let m = 0, s1 = arg1.toString(), s2 = arg2.toString();\n    try { m += s1.split(\".\")[1].length } catch (e) { }\n    try { m += s2.split(\".\")[1].length } catch (e) { }\n    return Number(s1.replace(\".\", \"\")) * Number(s2.replace(\".\", \"\")) / Math.pow(10, m)\n  }\n  //除法\n  accDiv(arg1, arg2) {\n    let t1 = 0, t2 = 0, r1, r2;\n    try { t1 = arg1.toString().split(\".\")[1].length } catch (e) { }\n    try { t2 = arg2.toString().split(\".\")[1].length } catch (e) { }\n    r1 = Number(arg1.toString().replace(\".\", \"\"))\n    r2 = Number(arg2.toString().replace(\".\", \"\"))\n    return this.accMul((r1 / r2), Math.pow(10, t2 - t1));\n  }\n  //加法\n  accAdd(arg1, arg2) {\n    let r1, r2, m;\n    try { r1 = arg1.toString().split(\".\")[1].length } catch (e) { r1 = 0 }\n    try { r2 = arg2.toString().split(\".\")[1].length } catch (e) { r2 = 0 }\n    m = Math.pow(10, Math.max(r1, r2))\n    return (arg1 * m + arg2 * m) / m\n  }\n  //减法\n  accSubtr(arg1, arg2) {\n    let r1, r2, m, n;\n    try { r1 = arg1.toString().split(\".\")[1].length } catch (e) { r1 = 0 }\n    try { r2 = arg2.toString().split(\".\")[1].length } catch (e) { r2 = 0 }\n    m = Math.pow(10, Math.max(r1, r2));\n    n = (r1 >= r2) ? r1 : r2;\n    return ((arg1 * m - arg2 * m) / m).toFixed(n);\n  }\n\n}\n","'use strict';\nfunction isArray(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\n}\nfunction isObject(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Object]\";\n}\n\nfunction isDate(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Date]\";\n}\n\nfunction toJson(value) {\n    var jsonObj = {};\n    try {\n        jsonObj = JSON.parse(value);\n    } catch (e) {\n        console.log('to json parse error');\n    }\n    return jsonObj;\n}\nfunction serializeValue(v) {\n    if (isObject(v)) {\n        return isDate(v) ? v.toISOString() : toJson(v);\n    }\n    return v;\n}\nfunction encodeUriQuery(val, pctEncodeSpaces?) {\n    return encodeURIComponent(val).\n        replace(/%40/gi, '@').\n        replace(/%3A/gi, ':').\n        replace(/%24/g, '$').\n        replace(/%2C/gi, ',').\n        replace(/%20/g, (pctEncodeSpaces ? '%20' : '+'));\n}\n\nexport function jQueryLikeParamSerializer(params) {\n    if (!params) return '';\n    var parts = [];\n    serialize(params, '', true);\n    return parts.join('&');\n\n    function serialize(toSerialize: any, prefix: any, topLevel?: any) {\n        if (isArray(toSerialize)) {\n            toSerialize.forEach((value, index) => {\n                serialize(value, prefix + '[' + (isObject(value) ? index : '') + ']');\n            });\n        } else if (isObject(toSerialize) && !isDate(toSerialize)) {\n            for (let key in toSerialize) {\n                serialize(toSerialize[key], prefix +\n                    (topLevel ? '' : '.') +\n                    key +\n                    (topLevel ? '' : ''));\n\n                // serialize(toSerialize[key], prefix +\n                //     (topLevel ? '' : '[') +\n                //     key +\n                //     (topLevel ? '' : ']'));\n            }\n        } else {\n            parts.push(encodeUriQuery(prefix) + '=' +\n                (toSerialize == null ? '' : encodeUriQuery(serializeValue(toSerialize))));\n        }\n    }\n}\n","const hasOwnProperty = Object.prototype.hasOwnProperty;\nconst propIsEnumerable = Object.prototype.propertyIsEnumerable;\nexport function toObject(val: any) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n  return Object(val);\n}\nexport function objectAssign(target: any, ...source: any[]) {\n  let from: any;\n  const to = toObject(target);\n  let symbols: any;\n  for (let s = 1; s < arguments.length; s++) {\n    from = Object(arguments[s]);\n    for (const key in from) {\n      if (hasOwnProperty.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n    if ((<any>Object).getOwnPropertySymbols) {\n      symbols = (<any>Object).getOwnPropertySymbols(from);\n      for (let i = 0; i < symbols.length; i++) {\n        if (propIsEnumerable.call(from, symbols[i])) {\n          to[symbols[i]] = from[symbols[i]];\n        }\n      }\n    }\n  }\n  return to;\n}\n","import { Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\n\n@Injectable()\nexport class SendStatisticService {\n    private emitStatistic = new Subject();\n    StatisticOutPut$ = this.emitStatistic.asObservable();\n    constructor() {\n\n    }\n\n    emitStatisticData(value) {\n        if (value.length !== 0) {\n            this.emitStatistic.next(value);\n        }\n    }\n}","import { CommonMethodService } from './common-method.service';\n//import { Cookie } from 'ng2-cookies';\n// let Cookie = require('ng2-cookies');\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { filter, catchError } from 'rxjs/operators';\n// import 'rxjs/add/operator/filter';\n// import 'rxjs/add/operator/catch';\nimport { jQueryLikeParamSerializer } from './query-string';\nimport { objectAssign } from './object-assign';\n\nimport { StatisticData } from '../../config/statistic.config';\nimport { SendStatisticService } from './send-statistic.service';\n\nlet statisticList = [];\n@Injectable()\nexport class JdbPlgBaseService {\n  vRef;\n  timer: any = null;\n  //收集的每一个接口的数据结构\n  newStatisticData: StatisticData = {\n    from: '',\n    operator: '',\n    memberId: '',\n    service: {\n      apiException: {\n        requestTime: null,\n        url: '',\n        params: null,\n        resCode: null,\n        resMessage: '',\n        errorMessage: ''\n      }\n    }\n  };\n  //收集的每一个接口的公共信息\n  baseObj: any = {\n    from: null,\n    operator: null,\n    memberId: null,\n  };\n\n  constructor(\n    private http: HttpClient,\n    private commonService: CommonMethodService,\n    private sendStatisticService: SendStatisticService\n  ) {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n    //轮询去发送数据，并清空队列\n    this.timer = setInterval(() => {\n      this.sendStatisticService.emitStatisticData(statisticList);\n      statisticList = [];\n    }, 10000);\n  }\n\n  setRootViewContainerRef(vRef) {\n    this.vRef = vRef;\n    this.commonService.setRootViewContainerRef(this.vRef);\n  }\n\n  /**\n   *\n   * @param apiName\n   * @param dataObj\n   * @param isIntercept 是否拦截处理returnCode != 0 的情况\n   */\n  post(apiName, dataObj, options) {\n    let time = new Date().getTime();\n    let loginToken;\n    let loginWay;\n    let orgUid;\n    // 系统来源\n    let from;\n    // 获取接口的apiException\n    this.newStatisticData.service.apiException = {\n      requestTime: null,\n      url: '',\n      params: null,\n      resCode: null,\n      resMessage: '',\n      errorMessage: ''\n    };\n    let apiException = JSON.parse(JSON.stringify(this.newStatisticData.service.apiException));\n    this.newStatisticData.service.apiException = apiException;\n    if (options && options.tokenObj) {\n      loginToken = localStorage.getItem(options.tokenObj.loginToken);\n      loginWay = localStorage.getItem(options.tokenObj.loginWay);\n      orgUid = localStorage.getItem(options.tokenObj.orgUid);\n      from = localStorage.getItem(options.tokenObj.from);\n    }\n    let loginObj: any = {};\n    let data: any = {};\n    let currentRoute = location.hash.split('/')[1];\n    if (loginToken) {\n      if (orgUid) {\n        loginObj = {\n          'loginToken': loginToken,\n          'loginWay': loginWay,\n          'orgUid': orgUid,\n          'jdbDhTraceId': time + '-' + parseInt(Math.random() * (100000 + 1) + 1 + '')\n        };\n      } else {\n        loginObj = {\n          'loginToken': loginToken,\n          'loginWay': loginWay,\n          'jdbDhTraceId': time + '-' + parseInt(Math.random() * (100000 + 1) + 1 + '')\n        };\n      }\n      data = objectAssign({}, loginObj, dataObj);\n    } else {\n      data = objectAssign({}, dataObj);\n    }\n    // 請求參數\n    apiException.params = data;\n    data = jQueryLikeParamSerializer(data);\n    const headers = new HttpHeaders({ 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8' });\n    const requestoptions = {\n      headers: headers\n    };\n    let reqUrl = apiName;\n    //统计数据添加from和operator字段\n    this.baseObj.from = from;\n    this.baseObj.operator = localStorage.getItem('nickName');\n    this.baseObj.memberId = localStorage.getItem('memberId');\n    //统计数据添加请求url\n    apiException.url = reqUrl;\n    return this.http.post(reqUrl, data || {}, requestoptions)\n      .pipe(filter((res: any) => {\n        // 根据joinTraceId是否为true 判断是否需要拼接日志号 （目前只有电催系统需要）\n        if ( currentRoute != 'login' && options && options.joinTraceId) {\n          res.error.returnUserMessage = res.error.returnUserMessage + '<br/>(日志号:' + loginObj.jdbDhTraceId + ')';\n        }\n        const endTime = new Date().getTime();\n        //统计接口请求时长\n        apiException.requestTime = endTime - time;\n        //校验接口返回的数据结构格式\n        if (!(res.hasOwnProperty('data') && res.hasOwnProperty('error'))) {\n          this.commonService.toast('系统接口格式错误！');\n          options && options.reset && options.reset();\n          return false;\n        }\n        if (options.fns && options.fns.length != 0) {\n          let len = options.fns.length;\n          for (let i = 0; i < len; i++) {\n            let fn = options.fns[i];\n            if (res.error && res.error.returnCode * 1 === fn.returnCode && currentRoute != 'login') {\n              fn.callback();\n            }\n          }\n        }\n        if (res.error && res.error.returnCode * 1 == 0) {\n          //统计数据添加returnCode，returnUserMessage信息\n          apiException.resCode = res.error.returnCode;\n          apiException.resMessage = res.error.returnUserMessage;\n          //拷贝公共信息\n          this.newStatisticData = Object.assign(this.newStatisticData, this.baseObj);\n          //去除logDataApi、loginApi、qrcodeApi三个接口\n          if (options && !options.noLog) {\n            statisticList.push(this.newStatisticData);\n          }\n          return true;\n        }\n        // 统计数据添加returnCode，returnUserMessage信息\n        apiException.resCode = res.error.returnCode;\n        apiException.resMessage = res.error.returnUserMessage;\n        this.newStatisticData = Object.assign(this.newStatisticData, this.baseObj);\n        if (options && !options.noLog ) {\n          statisticList.push(this.newStatisticData);\n        }\n        //兼容登录组件中qrcodeApi和loginApi两个接口老的写法\n        if (typeof (options) === 'boolean') {\n          if (options) {\n            this.commonService.toast(res && res.error && res.error.returnUserMessage);\n            return false;\n          } else {\n            return true;\n          }\n        }\n        //是否拦截处理\n        if (options.isIntercept) {\n          this.commonService.toast(res && res.error && res.error.returnUserMessage);\n          return false;\n        } else {\n          return true;\n        }\n      }))\n      .pipe(catchError((error: any) => {\n        // 统计错误信息\n        apiException.errorMessage = error;\n        this.newStatisticData = Object.assign(this.newStatisticData, this.baseObj);\n        if (options && !options.noLog ) {\n          statisticList.push(this.newStatisticData);\n        }\n        return Observable.throw(error || 'Server error');\n      }));\n  }\n\n\n\n  stamp2string(stamp) {\n    if (stamp) {\n      let date = new Date(stamp).toJSON();\n      return date.split('T')[0];\n    }\n    return null;\n  }\n\n  download(apiName, params) {\n    // let cookieStr = Cookie.get('loginInfo');\n    let cookieObj: any = {};\n    let cookieData: any = {};\n    // if (cookieStr) {\n    //   try {\n    //     cookieObj = JSON.parse(cookieStr);\n    //     cookieData = {\n    //       loginToken: cookieObj.loginToken,\n    //       employeeId: cookieObj.empId\n    //     };\n    //   }\n    //   catch (e) {\n    //     console.log('parse cookie error...');\n    //   }\n    // }\n\n    let paramsObj = objectAssign({}, cookieData, params);\n    let url = apiName + '?';\n    for (let key in paramsObj) {\n      if (paramsObj[key]) {\n        url += key + '=' + encodeURIComponent(paramsObj[key]) + '&';\n      }\n    }\n    window.location.href = url;\n  }\n\n  getPicSize(file) {\n    let arr = {};\n    let reader = new FileReader();\n    reader.onload = function (e: any) {\n      let data = e.target.result;\n      //加载图片获取图片真实宽度和高度\n      let image = new Image();\n      image.onload = function () {\n        let width = image.width;\n        let height = image.height;\n        arr = {\n          height: height,\n          width: width\n        };\n        return arr;\n      };\n      image.src = data;\n    };\n    reader.readAsDataURL(file);\n  }\n}\n","import { Injectable, ComponentFactoryResolver } from '@angular/core';\n@Injectable()\nexport class FillTableService {\n    constructor() {\n    }\n    /*\n        lines:number  表格展示的行数\n        lists:Array<any>  异步获取的数据\n        flag:boolean  是否在空白行栏展示操作按钮,默认取unShowOpt字段\n    */\n    fillTable(lines: number, lists:Array<any>, flag?:boolean) {\n        lines = lines || 10;\n        lists = lists || [];\n        flag = flag || true;\n        let aLength = lists.length;\n        let mLength = lines - aLength;\n        let fillObj = {unShowOpt:flag};\n        let keys;\n        if (aLength !== 0) {\n            lists.forEach(element => {\n                element.unShowOpt = !flag;\n            });\n            keys = Object.keys(lists[0]);\n            if (keys.length !== 0) {\n                keys.forEach(element => {\n                    if(element !== \"unShowOpt\"){\n                        fillObj[element] = Object.prototype.toString.call(lists[0][element]) == \"[object Array]\" ? [] : '';\n                    }\n                });\n            }\n        }\n        if (aLength !== 0 && mLength>0) {\n            for(let i=0;i<mLength;i++){\n                lists.push(fillObj);\n            }\n        }\n        return lists;\n    }\n}\n","import { Injectable, ComponentFactoryResolver, ComponentRef, EmbeddedViewRef, Type, ViewContainerRef } from '@angular/core';\nimport { JdbPlgDialogComponent } from '../../components/jdb-plg-dialog/jdb-plg-dialog.component';\n\nexport interface Options {\n    /**\n     * 自定义父容器类，可选\n     */\n    customClass?: string;\n    /**\n     * 自定义遮罩类，可选\n     */\n    maskClass?: string;\n    /**\n     * 自定义模态框主体样式，可选\n     */\n    bodyStyle?: any;\n    /**\n     * 控制模态框显示/隐藏\n     * true隐藏 fasle显示\n     * 可选\n     */\n    visible?: boolean;\n    /**\n     * 弹框标题，可选\n     */\n    title?: string;\n\n    /**\n     * 是否显示右上角关闭按钮，默认显示\n     * true隐藏 false不显示\n     * 可选\n     */\n    closeable?: boolean;\n    /**\n     * 模态框内容模板，必选\n     */\n    component?: Type<any>;\n    /**\n     * 默认内容为文本\n     * 组件模板component和文本模板同时配置\n     * 优先显示组件模板\n     */\n    text?:string;\n    /**\n     * 当默认内容为文本时，设置文本的类名\n    */\n    class?:string;\n    /**\n     * 当默认内容为文本时，设置文本的样式\n     * class和style同时配置\n     * 优先显示style\n    */\n    style?:Object;\n    /**\n     * 模板参数\n     */\n    componentParams?:Object;\n    /**\n     * 模态框宽度\n     * 默认400px\n     */\n    width?: number;\n    /**\n     * 是否显示/隐藏底部按钮，默认显示\n     * true显示 false隐藏\n     */\n    footer?: boolean;\n    /**\n     * 是否是确认模态框，默认不是\n     * true是 false不是\n     */\n    isConfirm?: boolean;\n    /**\n     * 确认按钮文案\n     */\n    okText?: string;\n    /**\n     * 取消按钮文案\n     */\n    cancelText?: string;\n    /**\n     * 自定义弹框关闭类型，默认为mask\n     * mask:点击除模态框区域以外的位置关闭模态框\n     * custom:自主触发关闭操作\n     * 可选\n     */\n    closeType?: string;\n    /**\n     * 视图容器\n     * 必选\n     */\n    container:ViewContainerRef;\n    /**\n     * 监听右上角关闭事件，默认为关闭模态框，没有额外的动作\n     * 可选\n     */\n    onClose?: () => void;\n    /**\n     * 监听确认事件，默认为关闭模态框，没有额外的动作\n     * 可选\n     */\n    onOk?: () => void;\n    /**\n     * 监听取消事件，默认为关闭模态框，没有额外的动作\n     * 可选\n     */\n    onCancel?: () => void;\n\n}\n\n@Injectable()\nexport class JdbModalService {\n    componentRef: ComponentRef<JdbPlgDialogComponent>;\n    _componentRefList = [];\n    _options: Options = {\n        customClass: '',\n        maskClass: '',\n        bodyStyle: null,\n        visible: false,\n        title: '',\n        closeable: true,\n        component: null,\n        text:'',\n        componentParams:{},\n        width: null,\n        footer: true,\n        container:null,\n        isConfirm: false,\n        okText: '',\n        cancelText: '',\n        class:'',\n        style:null,\n        onClose: () => {\n            this.destroy();\n        },\n        onOk: () => {\n            this.destroy();\n        },\n        onCancel: () => {\n            this.destroy();\n        }\n    }\n    constructor(\n        private componentFactoryResolver: ComponentFactoryResolver\n    ) { \n\n\n    }\n\n    //动态创建模态框,返回模态框实例\n    create(options: Options): ComponentRef<JdbPlgDialogComponent> {\n        let componentFactory = this.componentFactoryResolver.resolveComponentFactory(JdbPlgDialogComponent);\n        let componentRef = options.container.createComponent(componentFactory);\n        this._componentRefList.push(componentRef);\n        //assign配置\n        if (options) {\n            Object.assign(this._options, options);\n        }\n        this.assignProps(componentRef);\n        //获取组件实例的根节点并append到body上\n        window.document.body.appendChild((componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement);\n        return componentRef;\n    }\n\n    //模态框实例上添加属性\n    assignProps(componentRef: ComponentRef<JdbPlgDialogComponent>): void {\n        let _options = this._options;\n        let ins = componentRef.instance;\n        ins.visible = _options.visible || true;\n        ins._title = _options.title || '提示';\n        ins._width = _options.width ? `${_options.width}px` : '400px';\n        ins._state = 'showM';\n        ins._contentTpl = _options.component;\n        ins._componentParams = _options.componentParams;\n        ins._customClass = _options.customClass;\n        ins._maskClass = _options.maskClass;\n        ins._isConfirm = _options.isConfirm;\n        ins._okText = _options.okText || '确认';\n        ins._cancelText = _options.cancelText || '取消';\n        ins._footer = _options.footer;\n        ins._closeable = _options.closeable;\n        ins._closeType = _options.closeType || 'mask';\n        ins._text = _options.text || 'hello';\n        ins._class = _options.class || 'defaultTextClass';\n        ins._style = _options.style;\n        ins.onClose.subscribe((e) => {\n            _options.onClose();\n        })\n        ins.onOk.subscribe((e) => {\n            _options.onOk();\n        })\n        ins.onCancel.subscribe((e) => {\n            _options.onCancel();\n        })\n    }\n\n    //销毁模态框\n    destroy(): void {\n        console.log(this._componentRefList);\n        let len = this._componentRefList.length-1;\n        this._componentRefList[len].destroy();\n        this._componentRefList.pop();\n        //this.componentRef.destroy();\n    }\n\n    //triggerOk\n    triggerOk():void{\n        this._options.onOk();\n    }\n\n    //triggerClose\n    triggerClose():void{\n        this._options.onClose();\n    }\n\n    //triggerCancel\n    triggerCancel():void{\n        this._options.onCancel();\n    }\n}\n\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-jdb-plg-table-error',\n  template: `<div class=\"jdb-plg-table-error\"> {{tableErrorText}} </div>`,\n  // styleUrls: ['./jdb-plg-table-error.component.scss']\n})\nexport class JdbPlgTableErrorComponent implements OnInit {\n\n  /*\n    功能：实现表格报错文案水平居中\n  */\n\n  @Input() tableErrorText = '暂无数据';\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Pipe,PipeTransform } from '@angular/core';\n\n@Pipe({name:'provinceReformPipe'})\nexport class ProvinceReformPipe implements PipeTransform{\n    transform(val:any):any{\n        if(val.length === 0){\n            return '';\n        }\n        return val.join('、');\n    }\n}","import { Pipe,PipeTransform } from '@angular/core';\n\n@Pipe({name:'amountReformPipe'})\nexport class AmountReformPipe implements PipeTransform{\n    transform(val:any):string{\n        if(val === 0){\n            return '0.00';\n        }\n        if(!val){\n            return '';\n        }\n        return (val/100).toFixed(2);\n    }\n}","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-jdb-plg-timeline-item',\n  template: `<div class=\"timeline-item\"> <div class=\"timeline-item-tail\" [ngClass]=\"{'timeline-item-tail-last': isLast}\"></div> <div class=\"timeline-item-circle\"></div> <div class=\"timeline-item-content\"> <div class=\"timeline-cardBox\" [ngStyle]=\"{'width': cardBoxWidth,'background': cardBgc}\"> <div class=\"timeline-arrow\"> <em></em> <span [ngStyle]=\"{'border-right-color': cardBgc}\"></span> </div> <ng-content></ng-content> </div> <p [ngStyle]=\"{'width': cardBoxWidth}\" class=\"timeline-buttom_time\" *ngIf=\"optTime\">{{optTime*1000 | date: \"y-MM-dd HH:mm:ss\"}}</p> </div> </div>`,\n  // styleUrls: ['./jdb-plg-timeline-item.component.scss']\n})\nexport class JdbPlgTimelineItemComponent implements OnInit {\n\n  constructor() { }\n\n  isLast: boolean;\n  optTime = 0;\n  @Input() cardBoxWidth;\n  @Input() cardBgc;\n\n  @Input()\n  get timeNum() {\n    return this.optTime;\n  }\n  set timeNum(time) {\n    if (!time) {\n      time = 0;\n    }\n    this.optTime = time;\n  }\n  @Input()\n  get lastItem() {\n    return this.isLast;\n  }\n  set lastItem(item) {\n    this.isLast = item;\n  }\n  ngOnInit() {\n  }\n\n}\n","import {Component, forwardRef, HostListener, Input, OnInit} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\n\nexport type JdbSwitchSizeType = 'default' | 'small';\n\n@Component({\n  selector: 'app-jdb-plg-switch',\n  template: `<span [ngClass]=\"outBoxClass\"> <span class=\"inner-content\"> <ng-container *ngIf=\"checked\"> {{jdbCheckedText}} </ng-container> <ng-container *ngIf=\"!checked\"> {{jdbUncheckedText}} </ng-container> </span> </span> `,\n  // styleUrls: ['./jdb-plg-switch.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => JdbPlgSwitchComponent),\n      multi: true\n    }\n  ]\n})\nexport class JdbPlgSwitchComponent implements OnInit, ControlValueAccessor {\n\n  @Input()\n  set jdbCheckedText(value: string) {\n    this._jdbCheckedText = value;\n  }\n\n  get jdbCheckedText(): string {\n    return this._jdbCheckedText;\n  }\n\n  @Input()\n  set jdbUncheckedText(value: string) {\n    this._jdbUncheckedText = value;\n  }\n\n  get jdbUncheckedText(): string {\n    return this._jdbUncheckedText;\n  }\n\n  @Input()\n  set jdbLoading(value: boolean) {\n    this._jdbLoading = Boolean(value);\n    this.setClassMap();\n  }\n\n  get jdbLoading(): boolean {\n    return this._jdbLoading;\n  }\n\n  @Input()\n  set jdbDisabled(value: boolean) {\n    this._jdbDisabled = Boolean(value);\n    this.setClassMap();\n  }\n\n  get jdbDisabled(): boolean {\n    return this._jdbDisabled;\n  }\n\n  @Input()\n  set jdbSize(value: JdbSwitchSizeType) {\n    this._jdbSize = value;\n    this.setClassMap();\n  }\n\n  get jdbSize(): JdbSwitchSizeType {\n    return this._jdbSize;\n  }\n\n  @Input()\n  set jdbControl(value: boolean) {\n    this._jdbControl = Boolean(value);\n  }\n\n  get jdbControl(): boolean {\n    return this._jdbControl;\n  }\n\n  outBoxClass: object;  // 外层容器class\n  checked = false; // 是否打开。默认关闭\n  prefixCls = 'jdb-switch';  // class前缀\n\n\n  private _jdbCheckedText: string;  // 打开时展示的文字\n  private _jdbUncheckedText: string;  // 关闭时展示的文字\n  private _jdbLoading = false;  // 是否显示加载圈\n  private _jdbDisabled = false;  // 是否禁用\n  private _jdbControl = false;  // 是否完全控制\n  private _jdbSize: JdbSwitchSizeType = 'default';  // 尺寸\n\n  onChange: (value: boolean) => void = () => null;\n  onTouched: () => void = () => null;\n\n  @HostListener('click', ['$event'])\n  onClick(ev: MouseEvent): void {\n    if (!this.jdbDisabled && !this.jdbLoading && !this.jdbControl) {\n      this.updateSwitchStatus(!this.checked, true);\n    }\n  }\n\n  /**\n   * 更新开关状态\n   * @param {boolean} value\n   * @param {boolean} isEmit\n   */\n  updateSwitchStatus(value: boolean, isEmit: boolean): void {\n    if (this.checked === value) {\n      return;\n    }\n    this.checked = value;\n    this.setClassMap();\n    if (isEmit) {\n      this.onChange(this.checked);\n    }\n  }\n\n  setClassMap(): void {\n    this.outBoxClass = {\n      [this.prefixCls]: true,\n      [`${this.prefixCls}-checked`]: this.checked,\n      [`${this.prefixCls}-loading`]: this.jdbLoading,\n      [`${this.prefixCls}-disabled`]: this.jdbDisabled,\n      [`${this.prefixCls}-small`]: this.jdbSize === 'small'\n    };\n  }\n\n  // 实现ControlValueAccessor接口方法\n  writeValue(value: boolean): void {\n    this.updateSwitchStatus(value, false);\n  }\n\n  registerOnChange(fn: (_: boolean) => void): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.jdbDisabled = isDisabled;\n  }\n\n  ngOnInit() {\n    this.setClassMap();\n  }\n\n}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { JdbPlgToastComponent } from './components/jdb-plg-toast/jdb-plg-toast.component';\nimport { JdbTabComponent } from './components/jdb-plg-tab/jdb-tab.component';\nimport { ShowPictureComponent } from './components/show-picture/show-picture.component';\nimport { PictureViewerComponent } from './components/picture-viewer/picture-viewer.component';\nimport { DragDirective } from './directive/drag.directive';\nimport { JdbPlgPaginationComponent } from './components/jdb-plg-pagination/jdb-plg-pagination.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { JdbPlgButtonComponent } from './components/jdb-plg-button/jdb-plg-button.component';\nimport { JdbPlgDialogComponent } from './components/jdb-plg-dialog/jdb-plg-dialog.component';\n\nimport { OnlyNumberDirective } from './directive/only-number.directive';\nimport { WatermarkDirective } from './directive/watermark.directive';\nimport { JdbPlgSelectComponent } from './components/jdb-plg-select/jdb-plg-select.component';\nimport { JdbPlgInputComponent } from './components/jdb-plg-input/jdb-plg-input.component';\n// import { JdbPlgAutocompleteDirective } from './components/jdb-plg-autocomplete/jdb-plg-autocomplete.directive';\nimport { JdbPlgAutocompleteComponent } from './components/jdb-plg-autocomplete/jdb-plg-autocomplete.component';\nimport { JdbPlgBaseService } from './services/jdb-plg-base/jdb-plg-base.service';\nimport { FillTableService } from './services/jdb-plg-base/fill-table.service';\nimport { CommonMethodService } from './services/jdb-plg-base/common-method.service';\nimport { SendStatisticService } from './services/jdb-plg-base/send-statistic.service';\nimport { JdbModalService } from './services/jdb-plg-base/jdb-modal.service';\n\nimport { JdbPlgTableErrorComponent } from './components/jdb-plg-table-error/jdb-plg-table-error.component';\nimport { ProvinceReformPipe } from './pipe/province-reform.pipe';\nimport { AmountReformPipe } from './pipe/amount-reform.pipe';\nimport { JdbPlgTimelineItemComponent } from './components/jdb-plg-timeline-item/jdb-plg-timeline-item.component';\nimport { JdbPlgSwitchComponent } from './components/jdb-plg-switch/jdb-plg-switch.component';\n\n\nconst MDL_MODULES = [\n  ShowPictureComponent,\n  PictureViewerComponent,\n  DragDirective,\n  WatermarkDirective,\n  JdbPlgPaginationComponent,\n  JdbPlgButtonComponent,\n  JdbPlgDialogComponent,\n  JdbPlgSelectComponent,\n  JdbPlgInputComponent,\n  JdbPlgTimelineItemComponent,\n  // JdbPlgAutocompleteDirective,\n  JdbPlgAutocompleteComponent,\n  JdbTabComponent,\n  JdbPlgTableErrorComponent,\n  ProvinceReformPipe,\n  AmountReformPipe,\n  JdbPlgSwitchComponent\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule\n  ],\n  exports: MDL_MODULES,\n  declarations: [\n    JdbPlgToastComponent,\n    JdbTabComponent,\n    ShowPictureComponent,\n    PictureViewerComponent,\n    DragDirective,\n    JdbPlgPaginationComponent,\n    OnlyNumberDirective,\n    WatermarkDirective,\n    JdbPlgSelectComponent,\n    JdbPlgButtonComponent,\n    JdbPlgDialogComponent,\n    JdbPlgInputComponent,\n    JdbPlgTimelineItemComponent,\n    // JdbPlgAutocompleteDirective,\n    JdbPlgAutocompleteComponent,\n    JdbPlgTableErrorComponent,\n    ProvinceReformPipe,\n    AmountReformPipe,\n    JdbPlgSwitchComponent,\n  ],\n  providers: [JdbPlgBaseService, CommonMethodService, FillTableService, SendStatisticService, JdbModalService],\n  entryComponents: [JdbPlgToastComponent,JdbPlgDialogComponent],\n  schemas: [\n    CUSTOM_ELEMENTS_SCHEMA\n  ]\n\n})\nexport class JdbPlgUiModule {\n}\n\nexport { JdbPlgBaseService } from './services/jdb-plg-base/jdb-plg-base.service';\nexport { FillTableService } from './services/jdb-plg-base/fill-table.service';\n\nexport { CommonMethodService } from './services/jdb-plg-base/common-method.service';\n\nexport { SendStatisticService } from './services/jdb-plg-base/send-statistic.service';\nexport { JdbModalService } from './services/jdb-plg-base/jdb-modal.service';\n"],"names":["JdbPlgToastComponent","Component","selector","template","Input","componentFactoryResolver","_injector","this","EventEmitter","JdbTabComponent","ChildComponent","attrs","title","comId","isCloseFlag","tabIdComMap","childComponent","resolveComponentFactory","comInstance","target","createComponent","keys","Object","items","push","theme","name","style","height","borderLength","forEach","value","instance","tabComs","length","setOneComHide","curTabIndex","tabSubs","subscribe","_this","onTopComMsg","emit","index","com","tabChange","tabIndex","location","nativeElement","display","setOneComShow","onTabChange","tabRefresh","destroy","splice","onTabRemove","key","id","removeTab","clear","ComponentFactoryResolver","Injector","ViewChild","read","ViewContainerRef","Output","ShowPictureComponent","update","status","renderer","num","degnum","PictureViewerComponent","_jdbMaster","toBoolean","_jdbClear","current","pictureList","elem","imgBox","children","element","resetPosition","imgContent","setElementStyle","maxHeight","maxWidth","jdbShowType","image","Image","onload","hRatio","wRatio","w","width","h","imgRate","src","imgUrl","resetImgData","imgOperate","rate","animations","trigger","state","z-index","transform","transition","animate","Renderer","render","DragDirective","event","localStorage","getItem","isDown","disLeft","offsetLeft","disTop","offsetTop","disX","clientX","disY","clientY","cursor","preventDefault","newdisX","newdisY","left","top","Directive","ElementRef","HostListener","el","renderer2","Infinity","text","JdbPlgPaginationComponent","_showTotal","_total","setPageNo","_current","_lastIndex","_firstIndex","Number","_showPageSize","_pageSize","_options","prototype","toString","call","optionsArr_1","obj","_showQuickJump","jdbSimple","_jdbSimple","Math","ceil","tmpPages","i","max","right","min","pages","quickJumpPage","jdbPageIndex","jdbPageIndexChange","jdbPageSize","jdbPageSizeChange","inputJump","focus","pageSize","dataChange","round","test","Renderer2","_elementRef","_renderer","_el","addClass","_prefixCls","JdbPlgButtonComponent","size","_setClassMap","loading","type","removeClass","resolver","JdbPlgDialogComponent","_visible","_state","_bodyStyleMap","_contentTpl","Type","createDynamicComponent","createDynamicDom","insertDiv","createElement","createText","_text","_class","appendChild","_style","setStyle","document","querySelector","component","factory","contentComponentRef","bodyEl","_componentParams","changeDetectorRef","detectChanges","insert","hostView","e","onClose","onOk","onCancel","flag","isChildOf","contentEl","_closeType","child","parent","parentNode","opacity","OnlyNumberDirective","appOnlyNumber","indexOf","keyCode","ctrlKey","ch","String","fromCharCode","RegExp","regexStr","replace","WatermarkDirective","drawSubject","asObservable","callback","next","node","ctx","getContext","rotate","PI","font","fillStyle","textAlign","textBaseline","fillText","toDataURL","draw$","draw","Subject","JdbPlgSelectComponent","_jdbItemDisabled","_jdbError","_jdbSureDisabled","_placeHolder","_selectList","arr_1","_showImgBox","_size","_width","_optionText","_optionValue","_jdbDisabled","_jdbMode","listen","show","setElementClass","inputDom","inputText","isShowClear","ngModelValue","undefined","_chooseMoreArray","forOneStart","forMoreStart","setClassMap","forNumStart","_classMap","_a","jdbClassName","_b","stopPropagation","onChange","optionPosition","optionList","clientHeight","listHeight","paddingHeight","offetTop","getTop","scrollTop","getScrollTop","parentElement","documentElement","body","elemHeight","jdbSize","spaceFlex","fn","isDisabled","split","item","textName","valueName","jdbOptionText","jdbOptionValue","deleteMoreItem","offset","offsetParent","providers","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","JdbPlgInputComponent","_prefixContent","_inputWrapClass","clearBtnEl","inputEl","_composing","_value","_type","placeHolder","large","small","_disabled","disabled","_readonly","readonly","_error","_clear","_maxlength","_autoPromptData","$event","jdbBlur","jdbFocus","encapsulation","ViewEncapsulation","None","ContentChild","JdbPlgAutocompleteComponent","debounce","activeIndex","inputHandle","evt","_searchWord","searchResult","jdbDataSource","filter","_listShow","setTimeout","_","resetPopDirection","selectOne","simples","which","setSearchWord","selectedItem","jdbDataAsyn","onSelected","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","getTime","apply","arguments","callNow","getOffsetTop","ele","nodeTop","resultEle","offsetHeight","_dataSource","map","val","dataKey","dataVal","_searchParam","_serverApi","CommonMethodService","number","toFixed","timeObj","arrDate","time","myDate","year","getFullYear","month","add0","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","m","n","joinStr","isTimeStamp","tarMonth","tarDay","curYear","curMonth","curDay","curDate","tarDate","date","setDate","reg","vRef","msg","delayTime","arg1","arg2","s1","s2","pow","r1","r2","t1","t2","accMul","Injectable","v","isObject","isDate","toISOString","jsonObj","JSON","parse","console","log","toJson","pctEncodeSpaces","encodeURIComponent","params","parts","toSerialize","prefix","topLevel","serialize","encodeUriQuery","serializeValue","join","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","from","_i","source","symbols","to","TypeError","toObject","s","getOwnPropertySymbols","emitStatistic","SendStatisticService","statisticList","http","commonService","sendStatisticService","operator","memberId","service","apiException","requestTime","url","resCode","resMessage","errorMessage","timer","clearInterval","setInterval","emitStatisticData","JdbPlgBaseService","setRootViewContainerRef","apiName","dataObj","options","loginToken","loginWay","orgUid","newStatisticData","stringify","tokenObj","loginObj","data","currentRoute","hash","objectAssign","jdbDhTraceId","parseInt","random","jQueryLikeParamSerializer","requestoptions","headers","HttpHeaders","Content-Type","reqUrl","baseObj","post","pipe","res","joinTraceId","error","returnUserMessage","endTime","toast","reset","fns","len","returnCode","assign","noLog","isIntercept","catchError","Observable","throw","stamp","toJSON","paramsObj","window","href","file","reader","FileReader","readAsDataURL","HttpClient","FillTableService","lines","lists","aLength","mLength","fillObj","unShowOpt","customClass","maskClass","bodyStyle","visible","closeable","componentParams","footer","container","isConfirm","okText","cancelText","class","JdbModalService","componentFactory","componentRef","_componentRefList","assignProps","rootNodes","ins","_title","_customClass","_maskClass","_isConfirm","_okText","_cancelText","_footer","_closeable","closeType","pop","JdbPlgTableErrorComponent","ProvinceReformPipe","Pipe","AmountReformPipe","JdbPlgTimelineItemComponent","optTime","isLast","JdbPlgSwitchComponent","_jdbCheckedText","_jdbUncheckedText","_jdbLoading","Boolean","_jdbSize","_jdbControl","ev","jdbDisabled","jdbLoading","jdbControl","updateSwitchStatus","checked","isEmit","outBoxClass","prefixCls","onTouched","MDL_MODULES","NgModule","imports","CommonModule","FormsModule","ReactiveFormsModule","exports","declarations","entryComponents","schemas","CUSTOM_ELEMENTS_SCHEMA"],"mappings":"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"}