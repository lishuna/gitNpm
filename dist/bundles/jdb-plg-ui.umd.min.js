!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/animations"),require("@angular/forms"),require("rxjs/Observable"),require("@angular/platform-browser"),require("ng2-cookies/ng2-cookies"),require("rxjs/Rx"),require("@angular/router"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/animations","@angular/forms","rxjs/Observable","@angular/platform-browser","ng2-cookies/ng2-cookies","rxjs/Rx","@angular/router","@angular/common"],t):t(e["jdb-plg-ui"]={},e.ng.core,e.ng.animations,e.ng.forms,e.Observable,e.ng.platformBrowser,e.Cookie,e.Observable,e.ng.router,e.ng.common)}(this,function(e,c,t,n,o,i,p,d,r,s){"use strict";var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function l(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return(u=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},h=function(){function e(){this.msg=""}return e.prototype.ngOnInit=function(){},e.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-toast",template:'<div class="toast-wraper"> {{msg}} </div> '}]}],e.ctorParameters=function(){return[]},e.propDecorators={msg:[{type:c.Input}]},e}(),f=function(){function e(e,t){this.componentFactoryResolver=e,this._injector=t,this.onTabChange=new c.EventEmitter,this.onTabRemove=new c.EventEmitter,this.onTopComMsg=new c.EventEmitter,this.items=[],this.tabComs=[],this.curTabIndex=0,this.tabIdComMap={}}return e.prototype.ngOnInit=function(){},e.prototype.addItem=function(e,t,n,o,i){var r=this;if(void 0===o&&(o=""),void 0===i&&(i=!1),!o||!this.tabIdComMap[o]){var s=this.componentFactoryResolver.resolveComponentFactory(e),a=this.target.createComponent(s),p=Object.keys(t);return this.items.push({title:n,isCloseFlag:i}),p.forEach(function(e){a.instance[e]=t[e]}),this.tabComs.push(a),1<this.items.length&&this.setOneComHide(this.curTabIndex),this.tabSubs=a.instance.onTopComMsg=new c.EventEmitter,this.tabSubs.subscribe(function(e){r.onTopComMsg.emit(e)}),this.curTabIndex=this.items.length-1,o&&(this.tabIdComMap[o]={index:this.curTabIndex,comInstance:a.instance}),a}var l=this.tabIdComMap[o];this.tabChange(l.index)},e.prototype.setOneComHide=function(e){this.tabComs[e].location.nativeElement.style.display="none"},e.prototype.setOneComShow=function(e){this.tabComs[e].location.nativeElement.style.display="block"},e.prototype.tabChange=function(e){this.curTabIndex!==e&&(this.setOneComHide(this.curTabIndex),this.setOneComShow(e),this.curTabIndex=e,this.onTabChange.emit(e),this.tabComs[e].instance.tabRefresh&&this.tabComs[e].instance.tabRefresh({}))},e.prototype.setOneTabShow=function(e){this.tabChange(e)},e.prototype.removeTab=function(e){this.tabComs[e].destroy(),this.tabComs.splice(e,1),this.items.splice(e,1),e<=this.curTabIndex&&this.curTabIndex--,this.curTabIndex<0&&(this.curTabIndex=0),this.setOneComShow(this.curTabIndex),this.onTabRemove.emit(e);var t=this.tabIdComMap;for(var n in t)if(t[n].index==e){delete t[n];break}},e.prototype.removeTabById=function(e){var t=this.tabIdComMap;for(var n in t)if(n==e){this.removeTab(t[n].index);break}},e.prototype.ngOnDestroy=function(){this.target&&this.target.clear()},e.decorators=[{type:c.Component,args:[{selector:"jdb-tab",template:'<div class="tab-wraper"> <div class="tab-nav-wraper"> <div class="tab-item" *ngFor="let item of items;let i = index;" [ngClass]="{\'tab-selected\':i == curTabIndex}" title=\'{{item.title}}\'> <div (click)="tabChange(i)" class="tab-text"> {{item.title}}</div> <span class="close-btn" (click)="removeTab(i)" *ngIf="i !== 0 && item.isCloseFlag != true">&times;</span> </div> </div> <div class="tab-content-wraper"> <div #tabContent class="place-holder"></div> </div> </div> '}]}],e.ctorParameters=function(){return[{type:c.ComponentFactoryResolver},{type:c.Injector}]},e.propDecorators={target:[{type:c.ViewChild,args:["tabContent",{read:c.ViewContainerRef}]}],onTabChange:[{type:c.Output}],onTabRemove:[{type:c.Output}],onTopComMsg:[{type:c.Output}]},e}(),g=function(){function e(){this.update=new c.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.closeModel=function(){this.update.emit({status:!1})},e.decorators=[{type:c.Component,args:[{selector:"app-show-picture",template:'<div> <div class="img-mask" (click)="closeModel()"> \x3c!-- 遮罩层 --\x3e </div> <div class="img-content"> <span class="close" (click)="closeModel()"> <img src="/assets/images/close-x.png" alt=""> </span> <img [src]="pictureUrl" alt="" style="max-height: 600px;max-width: 800px;"> </div> </div> '}]}],e.ctorParameters=function(){return[]},e.propDecorators={pictureUrl:[{type:c.Input}],update:[{type:c.Output}]},e}(),m=function(){function e(e){this.renderer=e,this.pictureList=[],this.update=new c.EventEmitter,this.maxWidth=800,this.maxHeight=600,this.jdbShowType=1,this._jdbMaster=!0,this._jdbClear=!0,this.dragStatus=!1,this.current=0,this.imgOperate={num:1,degnum:0}}return Object.defineProperty(e.prototype,"jdbMaster",{get:function(){return this._jdbMaster},set:function(e){this._jdbMaster=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbClear",{get:function(){return this._jdbClear},set:function(e){this._jdbClear=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbCurrent",{get:function(){return this.current},set:function(e){e>this.pictureList.length||e<0?this.current=0:this.current=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.elem=this.imgBox.nativeElement.children},e.prototype.ngOnChanges=function(){var n=this;this.pictureList&&this.pictureList.forEach(function(e,t){n.resetPosition(t)})},e.prototype.ngAfterViewInit=function(){var e=this.imgContent.nativeElement;this.renderer.setElementStyle(e,"height",this.maxHeight+"px"),this.renderer.setElementStyle(e,"width",this.maxWidth+"px"),1==this.jdbShowType&&(this.renderer.setElementStyle(e,"margin-left",-this.maxWidth/2+"px"),this.renderer.setElementStyle(e,"margin-top",-this.maxHeight/2+"px"))},e.prototype.resetPosition=function(r){var s=this,a=new Image;a.onload=function(){var e,t,n=a.width,o=a.height,i=n/o;t=s.maxWidth/n,e=s.maxHeight/o,1<t&&1<e?(n=n,o=o):t<1&&e<1?1<i?o=(n=s.maxWidth)/i:i<1&&(n=(o=s.maxHeight)*i):1<t&&e<1?(o=s.maxHeight,n*=e):t<1&&1<e&&(o*=t,n=s.maxWidth),s.renderer.setElementStyle(s.elem[r].children[0],"height",o+"px"),s.renderer.setElementStyle(s.elem[r].children[0],"width",n+"px"),n===s.maxWidth&&o===s.maxHeight?(s.renderer.setElementStyle(s.elem[r].children[0],"top","0px"),s.renderer.setElementStyle(s.elem[r].children[0],"left","0px")):(s.renderer.setElementStyle(s.elem[r].children[0],"top",(s.maxHeight-o)/2+"px"),s.renderer.setElementStyle(s.elem[r].children[0],"left",(s.maxWidth-n)/2+"px"))},a.src=this.pictureList[r].imgUrl},e.prototype.ImgState=function(e){if(!this.pictureList||!this.pictureList.length)return"off";if(0===this.current)return 0===e?"on":1===e?"next":e===this.pictureList.length-1?"prev":"off";if(this.current===this.pictureList.length-1)return e===this.pictureList.length-1?"on":e===this.pictureList.length-2?"prev":0===e?"next":"off";switch(e-this.current){case 0:return"on";case 1:return"next";case-1:return"prev";default:return"off"}},e.prototype.Next=function(){this.resetImgData(),this.current=(this.current+1)%this.pictureList.length,this.resetPosition(this.current-1)},e.prototype.Prev=function(){this.resetImgData(),this.current=this.current-1<0?this.pictureList.length-1:this.current-1,this.resetPosition(this.current+1)},e.prototype.closeModel=function(){this.resetImgData(),this.update.emit({status:!1})},e.prototype.scaleBig=function(){this.imgOperate.num=2*this.imgOperate.num,4<this.imgOperate.num&&(this.imgOperate.num=4);var e="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",e)},e.prototype.scaleSmall=function(){this.imgOperate.num=this.imgOperate.num/2,this.imgOperate.num<1&&(this.imgOperate.num=.5);var e="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",e)},e.prototype.routateNi=function(){this.imgOperate.degnum++;var e="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",e)},e.prototype.routateShun=function(){this.imgOperate.degnum--;var e="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",e)},e.prototype.resetImgData=function(){this.imgOperate={num:1,degnum:0};this.renderer.setElementStyle(this.elem[this.current].children[0],"transition","transform 0.2s linear 0.4s"),this.renderer.setElementStyle(this.elem[this.current].children[0],"transform","scale(1,1) rotate(0deg)")},e.prototype.toBoolean=function(e){return""===e||e&&"false"!==e},e.prototype.ngOnDestroy=function(){this.pictureList=null,this.imgBox=null,this.imgContent=null,this.current=null},e.decorators=[{type:c.Component,args:[{selector:"app-picture-viewer",template:'<div class="picture-viewer"> <div class="img-mask" *ngIf="_jdbMaster" (click)="closeModel()"> \x3c!-- 遮罩层 --\x3e </div> <div #imgContent [ngClass]="{\'img-content-componet\':jdbShowType==2}" class="img-content"> \x3c!-- 右上角关闭按钮 --\x3e <div class="close" *ngIf="_jdbClear" (click)="closeModel()"> <span class="icon-close"></span> </div> \x3c!-- 图片box --\x3e <ul class="img-box" #img> \x3c!-- <li *ngFor="let item of pictureList;let i=index" [@imgMove]="ImgState(i)"> <img appDragDirective  [src]="item.imgUrl" alt="" style="max-height: 600px;max-width: 800px;"> </li> --\x3e </ul> \x3c!-- 上一页下一页 --\x3e <div [hidden]="current==0" class="prev-page" (click)="Prev()"> <span class="icon-pagination-prev"></span> </div> <div [hidden]="current==pictureList.length-1" class="next-page" (click)="Next()"> <span class="icon-pagination-next"></span> </div> \x3c!-- 右下角页码 --\x3e <div class="img-index">{{current+1}}/{{pictureList.length}}</div> \x3c!-- 缩放旋转按钮组 --\x3e <div class="btn-box"> <span [ngClass]="{\'hover-disabled\':imgOperate.num===4}" class="icon-picture-zoom-in scale-big" (click)="scaleBig()"></span> <span [ngClass]="{\'hover-disabled\':imgOperate.num==0.5}" class="icon-picture-zoom-out  scale-small" (click)="scaleSmall()"></span> <span class="icon-picture-counterclockwise routate-ni" (click)="routateNi()"></span> <span class="icon-picture-clockwise routate-shun" (click)="routateShun()"></span> </div> </div> </div>',animations:[c.trigger("imgMove",[c.state("off",c.style({display:"none","z-index":"0",transform:"translateX(0)"})),c.state("prev",c.style({"z-index":"1",transform:"translateX(-100%)"})),c.state("next",c.style({"z-index":"2",transform:"translateX(100%)"})),c.state("on",c.style({"z-index":"3",transform:"translateX(0)"})),c.transition("prev=>on",[c.animate("0.3s ease-in")]),c.transition("next=>on",[c.animate("0.3s ease-in")]),c.transition("on=>prev",[c.animate("0.3s ease-in")]),c.transition("on=>next",[c.animate("0.3s ease-in")])])]}]}],e.ctorParameters=function(){return[{type:c.Renderer}]},e.propDecorators={pictureList:[{type:c.Input}],update:[{type:c.Output}],imgBox:[{type:c.ViewChild,args:["img"]}],imgContent:[{type:c.ViewChild,args:["imgContent"]}],maxWidth:[{type:c.Input}],maxHeight:[{type:c.Input}],jdbShowType:[{type:c.Input}],jdbMaster:[{type:c.Input}],jdbClear:[{type:c.Input}],jdbCurrent:[{type:c.Input}]},e}(),b=function(){function e(e,t){this.elem=e,this.render=t,this.isDown=!1}return e.prototype.onMousedown=function(e){localStorage.getItem("dragWidth"),localStorage.getItem("dragHeight");this.isDown=!0,this.disLeft=this.elem.nativeElement.offsetLeft,this.disTop=this.elem.nativeElement.offsetTop,this.disX=e.clientX,this.disY=e.clientY,e.target.style.cursor="move"},e.prototype.onMousemove=function(e){if(e.preventDefault(),this.isDown){var t=e.clientX-this.disX,n=e.clientY-this.disY;this.elem.nativeElement.style.left=t+this.disLeft+"px",this.elem.nativeElement.style.top=n+this.disTop+"px"}return!1},e.prototype.onMouseup=function(){this.isDown&&(this.isDown=!1,this.disLeft=this.elem.nativeElement.offsetLeft,this.disTop=this.elem.nativeElement.offsetTop)},e.prototype.onMouseleave=function(){this.isDown=!1},e.prototype.ngOnDestroy=function(){},e.decorators=[{type:c.Directive,args:[{selector:"img[appDragDirective]"}]}],e.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer}]},e.propDecorators={onMousedown:[{type:c.HostListener,args:["mousedown",["$event"]]}],onMousemove:[{type:c.HostListener,args:["mousemove",["$event"]]}],onMouseup:[{type:c.HostListener,args:["mouseup",["$event"]]}],onMouseleave:[{type:c.HostListener,args:["mouseleave",["$event"]]}]},e}(),y=function(){function e(e,t){this.el=e,this.renderer2=t,this._current=1,this._pageSize=10,this._firstIndex=1,this._lastIndex=1/0,this._showTotal=!1,this._showPageSize=!1,this._showQuickJump=!1,this.pages=[],this._options=[{value:10,text:"10条/页"},{value:20,text:"20条/页"},{value:30,text:"30条/页"},{value:40,text:"40条/页"},{value:50,text:"50条/页"}],this._jdbSimple=!1,this.jdbPageSizeChange=new c.EventEmitter,this.jdbPageIndexChange=new c.EventEmitter}return Object.defineProperty(e.prototype,"jdbShowTotal",{get:function(){return this._showTotal},set:function(e){this._showTotal=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbTotal",{get:function(){return this._total},set:function(e){e!==this._total&&(this._total=e,this.setPageNo())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbPageIndex",{get:function(){return this._current},set:function(e){this._current!==e&&(e>this._lastIndex||e<this._firstIndex||(this._current=Number(e),this.setPageNo()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbShowPageSize",{get:function(){return this._showPageSize},set:function(e){this._showPageSize=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbPageSize",{get:function(){return this._pageSize},set:function(e){e!==this._pageSize&&(this._pageSize=e,this.setPageNo())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbSizeOptions",{get:function(){return this._options},set:function(e){if(e!==this._options&&"[object Array]"===Object.prototype.toString.call(e)){var n=[];e.forEach(function(e){var t={value:e,text:e+"条/页"};n.push(t)}),this._options=n}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbShowQuickJump",{get:function(){return this._showQuickJump},set:function(e){this._showQuickJump=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbSimple",{get:function(){return this.jdbSimple},set:function(e){this._jdbSimple=this.toBoolean(e)},enumerable:!0,configurable:!0}),e.prototype.setPageNo=function(){this._lastIndex=Math.ceil(this._total/this._pageSize);var e=[];if(this._lastIndex<=9)for(var t=2;t<=this._lastIndex-1;t++)e.push({index:t});else{var n=+this._current,o=Math.max(2,n-2),i=Math.min(n+2,this._lastIndex-1);5===n?o=2:n===this._lastIndex-4&&(i=this._lastIndex-1),n-1<=3&&(i=7),this._lastIndex-n<=3&&(o=this._lastIndex-6);for(t=o;t<=i;t++)e.push({index:t})}this.pages=e},e.prototype.dataChange=function(e,t){if(e){if(t===this._firstIndex-1||t===this._lastIndex+1)return;this.quickJumpPage="",this.jdbPageIndex=t,this.jdbPageIndexChange.emit(this.jdbPageIndex)}else this.quickJumpPage="",this.jdbPageSize=t,this.jdbPageSizeChange.emit(t),this.jdbPageIndex=1,this.jdbPageIndexChange.emit(this.jdbPageIndex),this.setPageNo()},e.prototype.quickJump=function(){if(this.quickJumpPage>this._lastIndex)return this.inputJump.nativeElement.focus(),void(this.quickJumpPage="");this.quickJumpPage&&(this.jdbPageIndex=this.quickJumpPage,this.jdbPageIndexChange.emit(this.jdbPageIndex))},e.prototype.jumpBefore=function(e){this.dataChange(!0,this._current-Math.round(e/2))},e.prototype.jumpAfter=function(e){this.dataChange(!0,this._current+Math.round(e/2))},e.prototype.toBoolean=function(e){return""===e||e&&"false"!==e},e.prototype.isNumber=function(e){return/^[0-9]*$/.test(e)},e.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-pagination",template:'<div class="jdb-plg-pagination"> \x3c!-- 总条数 --\x3e <span *ngIf="_showTotal" class="total-box"> 共{{_total}}条 </span> <div class="operate-box"> \x3c!-- 条数切换 --\x3e <div class="jdb-plg-pagination-options" *ngIf="_showPageSize"> <app-jdb-plg-select (ngModelChange)="dataChange(false,$event)" [jdbSize]="\'small\'" [jdbWidth]="\'90px\'" [(ngModel)]="_pageSize" [jdbSelectList]="_options"></app-jdb-plg-select> </div> \x3c!-- 基本分页样式 --\x3e <ul *ngIf="!_jdbSimple" class="base-pagination"> \x3c!-- 上一页按钮 --\x3e <li class="jdb-plg-pagination-prev" title="上一页" [ngClass]="{\'disabled\':_current===_firstIndex}" (click)="dataChange(true,_current-1)"> <span class="jdbIcon icon-pagination-prev"></span> </li> \x3c!-- 首页按钮 --\x3e <li class="jdb-plg-pagination-first" title="首页" [ngClass]="{\'active\':_current===_firstIndex}" (click)="dataChange(true,_firstIndex)"> {{_firstIndex}} </li> \x3c!-- 省略号 --\x3e <li class="jdb-plg-pagination-forward" *ngIf="(_lastIndex >9)&&(_current-4>_firstIndex)" (click)="jumpBefore(_pageSize)"> <span class="icon-pagination-more"></span> <span class="icon-pagination-jump-prev"></span> </li> \x3c!-- 按钮 --\x3e <li class="jdb-plg-pagination-pager" *ngFor="let page of pages" [ngClass]="{\'active\':_current===page.index}" (click)="dataChange(true,page.index)"> {{page.index}} </li> \x3c!-- 省略号 --\x3e <li class="jdb-plg-pagination-backward" *ngIf="(_lastIndex >9)&&(_current+4<_lastIndex)" (click)="jumpAfter(_pageSize)"> <span class="icon-pagination-more"></span> <span class="icon-pagination-jump-next"></span> </li> \x3c!-- 尾页按钮 --\x3e <li class="jdb-plg-pagination-last" *ngIf="(_lastIndex>0)&&(_lastIndex!==_firstIndex)" title="尾页" [ngClass]="{\'active\':_current===_lastIndex}" (click)="dataChange(true,_lastIndex)"> {{_lastIndex}} </li> \x3c!-- 下一页按钮 --\x3e <li class="jdb-plg-pagination-next" title="下一页" [ngClass]="{\'disabled\':_current===_lastIndex}" (click)="dataChange(true,_current+1)"> <span class="jdbIcon icon-pagination-next"></span> </li> </ul> \x3c!-- 简单分页样式 --\x3e <div class="simple-pagination" *ngIf="_jdbSimple"> <div class="left-box"> <span class="icon-pagination-first" [ngClass]="{\'disabled\':_current===_firstIndex}" (click)="dataChange(true,_firstIndex)"></span> <span class="icon-pagination-prev" [ngClass]="{\'disabled\':_current===_firstIndex}" (click)="dataChange(true,_current-1)"></span> </div> <div class="center-box"> {{_current}} / {{_lastIndex}} </div> <div class="right-box"> <span class="icon-pagination-next" [ngClass]="{\'disabled\':_current===_lastIndex}" (click)="dataChange(true,_current+1)"></span> <span class="icon-pagination-last" [ngClass]="{\'disabled\':_current===_lastIndex}" (click)="dataChange(true,_lastIndex)"></span> </div> </div> \x3c!-- 快速跳转 --\x3e <div *ngIf="_showQuickJump" class="quick-jumper"> 第 <input #inputJump type="text" [(ngModel)]="quickJumpPage" (keyup.enter)="quickJump()" appOnlyNumber="true"> 页 <button (click)="quickJump()">跳转</button> </div> </div> </div>'}]}],e.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2}]},e.propDecorators={jdbPageSizeChange:[{type:c.Output}],jdbPageIndexChange:[{type:c.Output}],inputJump:[{type:c.ViewChild,args:["inputJump"]}],jdbShowTotal:[{type:c.Input}],jdbTotal:[{type:c.Input}],jdbPageIndex:[{type:c.Input}],jdbShowPageSize:[{type:c.Input}],jdbPageSize:[{type:c.Input}],jdbSizeOptions:[{type:c.Input}],jdbShowQuickJump:[{type:c.Input}],jdbSimple:[{type:c.Input}]},e}(),_=function(){function e(e,t){this._elementRef=e,this._renderer=t,this._prefixCls="jdb-plg-btn",this._el=this._elementRef.nativeElement,this.nativeElement=this._elementRef.nativeElement,this._renderer.addClass(this._el,this._prefixCls)}return Object.defineProperty(e.prototype,"jdbSize",{get:function(){return this.size},set:function(e){e||(e="default"),this.size=e,this._setClassMap(this.loading)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbType",{get:function(){return this.type},set:function(e){e||(e="primary"),this.type=e,this._setClassMap(this.loading)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbLoading",{get:function(){return this.loading},set:function(e){e=""===e||e&&"false"!==e,this.loading=e,this._setClassMap(this.loading)},enumerable:!0,configurable:!0}),e.prototype._setClassMap=function(e){this._renderer.removeClass(this._el,"undefined"),this._renderer.addClass(this._el,this.size),this._renderer.addClass(this._el,this.type),e?this._renderer.addClass(this._el,"loading_disable"):this._renderer.removeClass(this._el,"loading_disable")},e.prototype.ngOnInit=function(){},e.decorators=[{type:c.Component,args:[{selector:"[app-jdb-plg-button]",template:'<i class="jdb-icon-loading action" *ngIf="loading"></i> <ng-content></ng-content>'}]}],e.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2}]},e.propDecorators={jdbSize:[{type:c.Input}],jdbType:[{type:c.Input}],jdbLoading:[{type:c.Input}]},e}(),v=function(){function e(e){this.resolver=e,this._customClass="",this._maskClass="",this._visible=!1,this._title="",this._closeable=!0,this._animationStatus="11",this._width="400px",this._footerHide=!1,this._isConfirm=!1,this._okText="",this._cancelText="",this._RogerText="",this._state="hideM",this.MvisibileChange=new c.EventEmitter,this.MOnOk=new c.EventEmitter,this.MOnCancel=new c.EventEmitter}return Object.defineProperty(e.prototype,"Mvisible",{get:function(){return this._visible},set:function(e){var t=this.toBoolean(e);this._visible!==t&&(this._visible=t,this.MvisibileChange.emit(this._visible))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MfooterHiden",{get:function(){return this._footerHide},set:function(e){var t=this.toBoolean(e);this._visible!==t&&(this._footerHide=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Mtitle",{set:function(e){e instanceof c.TemplateRef?this._titleTpl=e:this._title=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Mcontent",{set:function(e){e instanceof c.TemplateRef?this._contentTpl=e:this._content=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Mfooter",{set:function(e){e instanceof c.TemplateRef&&(this._footerTpl=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Mwidth",{set:function(e){this._width="number"==typeof e?e+"px":e},enumerable:!0,configurable:!0}),e.prototype.setStyle=function(){this.contentEl.nativeElement;this._bodyStyleMap=u({width:this._width})},e.prototype.onEsc=function(e){this.clickCancel(e)},Object.defineProperty(e.prototype,"Mclass",{set:function(e){this._customClass=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MOkText",{set:function(e){this._okText=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"McancelText",{set:function(e){this._cancelText=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MRogerText",{set:function(e){this._isConfirm=!0,this._RogerText=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.setStyle()},e.prototype.createDynamicComponent=function(e){var t=this.resolver.resolveComponentFactory(this._content);this.bodyEl.createComponent(t)},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnChanges=function(e){var t=this;this._visible?(this._state="showM",setTimeout(function(){t.contentEl.nativeElement.parentNode.focus()},200)):this._state="hideM"},e.prototype.clickCancel=function(e){this._visible=!1,this._state="hideM",this.MOnCancel.emit(e)},e.prototype.clickOk=function(e){this.MOnOk?this.MOnOk.emit(e):(this._visible=!1,this._state="hideM")},e.prototype.closeModal=function(e){"dialog"===e.target.getAttribute("role")&&(this.clickCancel(e),this._state="hideM")},e.prototype.toBoolean=function(e){return""===e||e&&!1!==e},e.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-dialog",template:'<div [ngClass]="_customClass"> <div class="_maskClass" [ngClass]="{\'hid\':!_visible}" [style.zIndex]="1000"></div> <div class="jdb-modal" tabindex="-1" role="dialog" [ngClass]="{\'hid\':!_visible}" [ngStyle]="{\'dispaly\':!_visible}" (click)="closeModal($event)" class="_wrapClass" [ngClass]="_wrapClass" [style.zIndex]="1000" [attr.aria-modalId]="modalId"> <div #modal_content class="modal" [@optionsState]="_state" [ngStyle]="_bodyStyleMap"> <div class="modal-content"> <ng-template [ngIf]="_closeable"> <button class="modal-close" (click)="clickCancel($event)"> \x3c!-- <span class="modal-close-x"></span> --\x3e <span class="icon-close"></span> </button> </ng-template> <div class="modal-header" *ngIf="_title||_titleTpl"> <div class="modal-title" [attr.id]="modalId"> <ng-template #defaultTitle> {{_title}} </ng-template> <ng-template [ngTemplateOutlet]="_titleTpl||defaultTitle"> </ng-template> </div> </div> <div class="modal-body"> <ng-template #defaultContent>{{_content}}</ng-template> <ng-template [ngTemplateOutlet]="_contentTpl||defaultContent"></ng-template> <ng-template #modal_component></ng-template> </div> <div class="modal-footer" *ngIf="!_footerHide"> <ng-template #defalutFooter> <button *ngIf="!_isConfirm" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'white\'" (click)="clickCancel($event)"><span>{{_cancelText||\'取消\'}}</span></button> <button *ngIf="!_isConfirm" class="right-btn" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'primary\'" (click)="clickOk($event)"><span>{{_okText||\'确认\'}}</span></button> <button *ngIf="_isConfirm" class="right-btn" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'primary\'" (click)="clickOk($event)" (click)="clickOk($event)"><span>{{_RogerText}}</span></button> </ng-template> <ng-template [ngTemplateOutlet]="_footerTpl||defalutFooter"></ng-template> </div> <div tabindex="0" style="width:0px;height:0px;overflow:hidden;">aaa</div> </div> </div> </div> </div>',animations:[t.trigger("optionsState",[t.state("showM",t.style({transform:"translate(-50%, -50%)",opacity:"1"})),t.state("hideM",t.style({transform:"translate(-50%, -80%)",opacity:"0"})),t.transition("showM <=> hideM",t.animate("200ms ease-out"))])]}]}],e.ctorParameters=function(){return[{type:c.ComponentFactoryResolver}]},e.propDecorators={contentEl:[{type:c.ViewChild,args:["modal_content"]}],bodyEl:[{type:c.ViewChild,args:["modal_component",{read:c.ViewContainerRef}]}],MvisibileChange:[{type:c.Output}],MOnOk:[{type:c.Output}],MOnCancel:[{type:c.Output}],Mvisible:[{type:c.Input}],MfooterHiden:[{type:c.Input}],Mtitle:[{type:c.Input}],Mcontent:[{type:c.Input}],Mfooter:[{type:c.Input}],Mwidth:[{type:c.Input}],onEsc:[{type:c.HostListener,args:["keydown.esc",["$event"]]}],Mclass:[{type:c.Input}],MOkText:[{type:c.Input}],McancelText:[{type:c.Input}],MRogerText:[{type:c.Input}]},e}(),x=function(){function e(e){this.el=e,this.regexStr="^[0-9]*$"}return e.prototype.onKeyDown=function(e){var t=e;if(this.appOnlyNumber){if(-1!==[46,8,9,27,13,110,190].indexOf(t.keyCode)||65===t.keyCode&&!0===t.ctrlKey||67===t.keyCode&&!0===t.ctrlKey||86===t.keyCode&&!0===t.ctrlKey||88===t.keyCode&&!0===t.ctrlKey||35<=t.keyCode&&t.keyCode<=39)return;var n=String.fromCharCode(t.keyCode);if(new RegExp(this.regexStr).test(n))return;t.preventDefault()}},e.prototype.onKeyUp=function(e){this.el.nativeElement.value=this.el.nativeElement.value.replace(/\D/g,"")},e.decorators=[{type:c.Directive,args:[{selector:"[appOnlyNumber]"}]}],e.ctorParameters=function(){return[{type:c.ElementRef}]},e.propDecorators={appOnlyNumber:[{type:c.Input}],onKeyDown:[{type:c.HostListener,args:["keydown",["$event"]]}],onKeyUp:[{type:c.HostListener,args:["keyup",["$event"]]}]},e}(),C=function(){function e(e,t){this.renderer2=e,this.renderer=t,this._size="middle",this._optionText="text",this._optionValue="value",this.isShowClear=!1,this._jdbClear=!1,this._jdbDisabled=!1,this._jdbMode="chooseOne",this._placeHolder="请选择",this._chooseMoreArray=[],this._classMap={},this.savaHeight=!0,this.spaceFlex=!0,this._showImgBox=!1,this._jdbItemDisabled="disabled",this._jdbSureDisabled=2,this._jdbNoDisabled=1,this.jdbClassName="",this.show=!1,this.ngModelValue="",this.onChange=function(){return null}}return Object.defineProperty(e.prototype,"jdbItemDisabled",{get:function(){return this._jdbItemDisabled},set:function(e){this._jdbItemDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbSureDisabled",{get:function(){return this._jdbSureDisabled},set:function(e){this._jdbSureDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbPlaceHolder",{get:function(){return this._placeHolder},set:function(e){this._placeHolder=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbClear",{get:function(){return this._jdbClear},set:function(e){this._jdbClear=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbSelectList",{get:function(){return this._selectList},set:function(e){var t=this;this._selectList=e,this._selectList&&this._selectList.forEach(function(e){e.imgUrl&&(t._showImgBox=!0)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbSize",{get:function(){return this._size},set:function(e){this._size=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbWidth",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbOptionText",{get:function(){return this._optionText},set:function(e){this._optionText=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbOptionValue",{get:function(){return this._optionValue},set:function(e){this._optionValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbDisabled",{get:function(){return this._jdbDisabled},set:function(e){this._jdbDisabled=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbMode",{get:function(){return this._jdbMode},set:function(e){this._jdbMode=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this;this.renderer2.listen("document","click",function(){e.show=!1,e.renderer.setElementClass(e.inputDom.nativeElement,"jdb-plg-select-active",e.show)}),this._jdbClear&&!this._jdbDisabled&&(this.renderer2.listen(this.inputDom.nativeElement,"mouseenter",function(){if("chooseOne"===e._jdbMode||"chooseNum"===e._jdbMode){if(!e.inputText||e.show)return}else if("chooseMore"===e._jdbMode&&(0===e.inputText.length||e.show))return;e.isShowClear=!0,e.renderer.setElementClass(e.inputDom.nativeElement,"jdb-plg-select-active",e.show)}),this.renderer2.listen(this.inputDom.nativeElement,"mouseleave",function(){if("chooseOne"===e._jdbMode||"chooseNum"===e._jdbMode){if(!e.inputText||e.show)return}else if("chooseMore"===e._jdbMode&&(0===e.inputText.length||e.show))return;e.isShowClear=!1,e.renderer.setElementClass(e.inputDom.nativeElement,"jdb-plg-select-active",e.show)}))},e.prototype.ngOnChanges=function(){"chooseOne"===this._jdbMode?this.inputText="":"chooseMore"===this._jdbMode?this.inputText=[]:"chooseNum"===this._jdbMode&&(this.inputText=0),this.setClassMap()},e.prototype.setClassMap=function(){var e,t;"chooseMore"===this._jdbMode?this._classMap=((e={})[""+this._size]=!0,e["jdb-plg-select-bottom-"+this._size]=0!==this.inputText.length,e["jdb-plg-select-disabled"]=this._jdbDisabled,e[this.jdbClassName]=!0,e):this._classMap=((t={})[""+this._size]=!0,t["jdb-plg-select-disabled"]=this._jdbDisabled,t[this.jdbClassName]=!0,t)},e.prototype.clearInputText=function(e){e.stopPropagation(),"chooseOne"===this._jdbMode?this.inputText="":"chooseMore"===this._jdbMode?(this.inputText=[],this._chooseMoreArray=[]):"chooseNum"===this._jdbMode&&(this.inputText=0,this._chooseMoreArray=[]),this.isShowClear=!this.isShowClear,this.ngModelValue="",this.onChange(""),this.setClassMap()},e.prototype.dialogShow=function(e){e.stopPropagation(),this._jdbDisabled||(this.isShowClear=!1,this.show=!this.show,this.renderer.setElementClass(this.inputDom.nativeElement,"jdb-plg-select-active",this.show),this.optionPosition(this.optionList.nativeElement.clientHeight))},e.prototype.optionPosition=function(e){var t,n=this.getTop(this.inputDom.nativeElement),o=this.getScrollTop(this.inputDom.nativeElement.parentElement),i=document.documentElement.clientHeight||document.body.clientHeight,r=this.inputDom.nativeElement.clientHeight;"small"===this.jdbSize?t=2:"large"===this.jdbSize?t=9:"middle"===this.jdbSize&&(t=5),i-n-r-t+o<e?(this.spaceFlex=!1,this.renderer.setElementStyle(this.optionList.nativeElement,"transform-origin","100% 100%"),e<188?this.renderer.setElementStyle(this.optionList.nativeElement,"top",-e-5+"px"):this.renderer.setElementStyle(this.optionList.nativeElement,"top",-190-t+"px")):(this.spaceFlex=!0,this.renderer.setElementStyle(this.optionList.nativeElement,"top",""),this.renderer.setElementStyle(this.optionList.nativeElement,"transform-origin","0% 0%"))},e.prototype.writeValue=function(e){null===(this.ngModelValue=e)||""===e||void 0===e?"chooseMore"===this._jdbMode?this.inputText=[]:this.inputText="":"chooseOne"===this._jdbMode?this.forOneStart(e):"chooseMore"===this._jdbMode?(this.forMoreStart(e),this.setClassMap()):"chooseNum"===this._jdbMode&&this.forNumStart(e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){},e.prototype.forOneStart=function(t){var n=this;this._selectList.forEach(function(e){e[n._optionValue]===t&&(n.inputText=e[n._optionText])})},e.prototype.forMoreStart=function(e){var n=this;(e=e.split(",")).forEach(function(t){n._selectList.forEach(function(e){if(e[n._optionValue]===t){n._optionText,n._optionValue;return n.inputText.push({text:e[n._optionText],value:e[n._optionValue]}),void n._chooseMoreArray.push(e[n._optionValue])}})})},e.prototype.forNumStart=function(e){var n=this;(e=e.split(",")).forEach(function(t){n._selectList.forEach(function(e){if(e[n._optionValue]===t)return n.inputText++,void n._chooseMoreArray.push(e[n._optionValue])})})},e.prototype.item=function(e,t){e.stopPropagation(),this.show&&t[this._jdbItemDisabled]!==this._jdbSureDisabled&&(this.inputText=t[this._optionText],this.show=!this.show,this.renderer.setElementClass(this.inputDom.nativeElement,"jdb-plg-select-active",this.show),this.ngModelValue=t[this._optionValue],this.onChange(t[this._optionValue]))},e.prototype.chooseMore=function(e,n){var o=this,i=!1;if(e.stopPropagation(),this.show&&n[this._jdbItemDisabled]!==this._jdbSureDisabled)if(this.inputText.forEach(function(e,t){e[o._optionValue]!==n[o._optionValue]||(i=!0)}),i)this.deleteMoreItem(e,n);else{this._optionText,this._optionValue;this.inputText.push({text:n[this._optionText],value:n[this._optionValue]}),this._chooseMoreArray.push(n[this._optionValue]),this.ngModelValue=this._chooseMoreArray.toString(),this.onChange(this._chooseMoreArray),this.show=!0,this.setClassMap()}},e.prototype.numClick=function(e,n){var o=this,i=!1;e.stopPropagation(),this.show&&n[this._jdbItemDisabled]!==this._jdbSureDisabled&&(this._chooseMoreArray.forEach(function(e,t){if(e===n[o._optionValue])return i=!0,void o._chooseMoreArray.splice(t,1)}),i?this.inputText--:(this.inputText++,this.show=!0,this._chooseMoreArray.push(n[this._optionValue]),this.ngModelValue=this._chooseMoreArray.toString(),this.onChange(this._chooseMoreArray)))},e.prototype.moreIndex=function(n){var o=this,i=!1;return this._chooseMoreArray.forEach(function(e,t){e!==n[o._optionValue]||(i=!0)}),i},e.prototype.deleteMoreItem=function(e,n){var o=this;e.stopPropagation(),this._jdbDisabled||(this.inputText.forEach(function(e,t){e[o._optionValue]!==n[o._optionValue]||o.inputText.splice(t,1)}),this._chooseMoreArray.forEach(function(e,t){e!==n[o._optionValue]||o._chooseMoreArray.splice(t,1)}),this.ngModelValue=this._chooseMoreArray.toString(),this.onChange(this._chooseMoreArray),this.setClassMap())},e.prototype.toBoolean=function(e){return""===e||e&&"false"!==e},e.prototype.getTop=function(e){var t=e.offsetTop;if(null!=e.offsetParent){if(e.style.transform){var n=this.parseTranslateY(e.style.transform);t+=n.isPercent?e.clientHeight*n.translateY/100:n.translateY}t+=this.getTop(e.offsetParent)}return t},e.prototype.getScrollTop=function(e){var t=e.scrollTop;return null!=e.parentElement&&(t+=this.getScrollTop(e.parentElement)),t},e.prototype.parseTranslateY=function(e){var t,n,o=/\(([^()]+)\)/g.exec(e)[1],i=o.split(",");return-1===e.indexOf("translate")?{isPercent:!1,translateY:0}:(2===i.length?t=o.split(",")[1]:1===i.length&&-1!==e.indexOf("translateY")&&(t=o),-1!==t.indexOf("px")?(n=!1,t=Number(t.slice(0,-2))):-1!==t.indexOf("%")&&(n=!0,t=Number(t.slice(0,-1))),{isPercent:n,translateY:t})},e.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-select",template:'\x3c!-- 单选 --\x3e <div *ngIf="_jdbMode==\'chooseOne\'" #inputDom class="jdb-plg-select-one" (click)="dialogShow($event)" [ngClass]="_classMap" [ngStyle]="{\'width\':_width}"> \x3c!-- placeHolder --\x3e <div class="jdb-plg-select-placeholder" [hidden]="inputText!=\'\'">{{_placeHolder}}</div> \x3c!-- 单选 --\x3e \x3c!-- <span class="chooseOne" [hidden]="inputText==\'\'">{{inputText}}</span> --\x3e <input class="chooseOne chooseOneInput" [hidden]="inputText==\'\'" type="text" [(ngModel)]="inputText" readonly> <ul #optionList [ngClass]="{ \'options-show\':show, \'options-no-margin\':!spaceFlex} " class="options "> \x3c!-- 单选 --\x3e <li *ngFor="let option of _selectList " (click)="item($event,option) " [ngClass]="{active:ngModelValue===option[_optionValue],disabled:option[_jdbItemDisabled] === _jdbSureDisabled} "> <img class="img-box" *ngIf="_showImgBox&&option.imgUrl" [src]="option.imgUrl" alt=""> <span class="img-box" *ngIf="_showImgBox&&!option.imgUrl"></span> <span class="text-box">{{_optionText==\'option\'?option:option[_optionText]}}</span> </li> </ul> \x3c!-- 清空图标 --\x3e <span class="close-icon icon-empty " [hidden]="!isShowClear " (click)="clearInputText($event) "></span> \x3c!-- 单选时下拉图标 --\x3e <span class="select-icon icon-select-arrow " [hidden]="isShowClear "></span> </div> \x3c!-- 多选 --\x3e <div *ngIf="_jdbMode==\'chooseMore\' " #inputDom class="jdb-plg-select-more " (click)="dialogShow($event) " [ngClass]="_classMap " [ngStyle]="{ \'width\':_width} "> \x3c!-- placeHolder --\x3e <div class="jdb-plg-select-placeholder " [hidden]="inputText.length !=0 ">{{_placeHolder}}</div> \x3c!-- 多选item --\x3e <ul class="chooseMore "> <li *ngFor="let item of inputText "> {{item.text}} <span class="item-delete icon-close " (click)="deleteMoreItem($event,item) "></span> </li> </ul> <ul #optionList [ngClass]="{ \'options-show\':show, \'options-no-margin\':!spaceFlex} " class="options "> <li class="choose-more " *ngFor="let option of _selectList " (click)="chooseMore($event,option) " [ngClass]="{ \'active\':moreIndex(option),disabled:option[_jdbItemDisabled] === _jdbSureDisabled} "> \x3c!-- {{_optionText==\'option\'?option:option[_optionText]}} --\x3e <img class="img-box" *ngIf="_showImgBox&&option.imgUrl" [src]="option.imgUrl" alt=""> <span class="img-box" *ngIf="_showImgBox&&!option.imgUrl"></span> <span class="text-box">{{_optionText==\'option\'?option:option[_optionText]}}</span> <span [hidden]="!moreIndex(option) " class="choose-right icon-selected "></span> </li> </ul> \x3c!-- 清空图标 --\x3e <span class="close-icon icon-empty " [hidden]="!isShowClear " (click)="clearInputText($event) "></span> </div> \x3c!-- 选中几项 --\x3e <div *ngIf="_jdbMode==\'chooseNum\' " #inputDom class="jdb-plg-select-num " (click)="dialogShow($event) " [ngClass]="_classMap " [ngStyle]="{ \'width\':_width} "> \x3c!-- placeHolder --\x3e <div class="jdb-plg-select-placeholder " [hidden]="inputText!=0 ">{{_placeHolder}}</div> <span class="choose-tip " [hidden]="inputText==0 ">已选中{{inputText}}项</span> <ul #optionList [ngClass]="{ \'options-show\':show, \'options-no-margin\':!spaceFlex} " class="options "> <li class="choose-more " *ngFor="let option of _selectList " (click)="numClick($event,option) " [ngClass]="{ \'active\':moreIndex(option),disabled:option[_jdbItemDisabled] === _jdbSureDisabled} "> \x3c!-- {{_optionText==\'option\'?option:option[_optionText]}} --\x3e <img class="img-box" *ngIf="_showImgBox&&option.imgUrl" [src]="option.imgUrl" alt=""> <span class="img-box" *ngIf="_showImgBox&&!option.imgUrl"></span> <span class="text-box">{{_optionText==\'option\'?option:option[_optionText]}}</span> <span [hidden]="!moreIndex(option) " class="choose-right icon-selected "></span> </li> </ul> \x3c!-- 清空图标 --\x3e <span class="close-icon icon-empty " [hidden]="!isShowClear " (click)="clearInputText($event) "></span> <span class="select-icon icon-select-arrow " [hidden]="isShowClear "></span> </div> \x3c!-- 遮罩层 --\x3e <div class="jdb-plg-select-master " *ngIf="show "></div>',providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return e}),multi:!0}]}]}],e.ctorParameters=function(){return[{type:c.Renderer2},{type:c.Renderer}]},e.propDecorators={jdbClassName:[{type:c.Input}],jdbItemDisabled:[{type:c.Input}],jdbSureDisabled:[{type:c.Input}],jdbPlaceHolder:[{type:c.Input}],jdbClear:[{type:c.Input}],jdbSelectList:[{type:c.Input}],jdbSize:[{type:c.Input}],jdbWidth:[{type:c.Input}],jdbOptionText:[{type:c.Input}],jdbOptionValue:[{type:c.Input}],jdbDisabled:[{type:c.Input}],jdbMode:[{type:c.Input}],inputDom:[{type:c.ViewChild,args:["inputDom"]}],optionList:[{type:c.ViewChild,args:["optionList"]}]},e}(),j=function(){function e(){this._value="",this._type="text",this._placeHolder="",this._size="default",this._disabled=!1,this._readonly=!1,this._error=!1,this._inputWrapClass=[],this._clear=!1,this._autoPromptData=[],this._composing=!1,this.width="300px",this.onChange=function(){return null},this.jdbBlur=new c.EventEmitter,this.jdbFocus=new c.EventEmitter}return e.prototype.ngOnInit=function(){this._prefixContent&&this._inputWrapClass.push("prefix")},e.prototype.compositionStart=function(e){this._composing=!0},e.prototype.compositionEnd=function(e){this._composing=!1,this.onChange(this._value)},Object.defineProperty(e.prototype,"jdbType",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbPlaceHolder",{get:function(){return this._placeHolder},set:function(e){this._placeHolder=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbSize",{get:function(){return this._size},set:function(e){this._size={large:"lg",small:"sm"}[e],this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbDisabled",{get:function(){return this._disabled},set:function(e){this._disabled=this.toBoolean(e),this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbReadonly",{get:function(){return this._readonly},set:function(e){this._readonly=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbValue",{get:function(){return"0"==this._value?"0":this._value||""},set:function(e){this._value===e||null==this._value&&null==e||(this._value=e,this._composing||this.onChange(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbError",{get:function(){return this._error},set:function(e){this._error=this.toBoolean(e),this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbClear",{get:function(){return this._clear},set:function(e){this._clear=this.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbMaxLength",{get:function(){return this._maxlength},set:function(e){this._maxlength=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jdbPromptData",{get:function(){return this._autoPromptData},set:function(e){this._autoPromptData=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){this._value=e},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){},e.prototype._emitBlur=function(e){this.jdbBlur.emit(e)},e.prototype._emitFocus=function(e){this.jdbFocus.emit(e)},e.prototype.textareaOnChange=function(e){},e.prototype.setClassMap=function(){var e;this._classMap=((e={})["input-"+this._type+"-"+this._size]=!0,e["input-disabled"]=this._disabled,e["input-error"]=this._error,e)},e.prototype.clearTxt=function(){this._value="",this.onChange("")},e.prototype.toBoolean=function(e){return""===e||e&&"false"!==e},e.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-input",template:'<span class="input-group-addon" *ngIf="_addOnContentBefore"> <ng-template [ngTemplateOutlet]="_addOnContentBefore"> </ng-template> </span> <ng-template [ngIf]="_type==\'text\'"> <div class="input-text-wrap" [ngClass]="_inputWrapClass"> <span class="input-prefix" *ngIf="_prefixContent"> <ng-template [ngTemplateOutlet]="_prefixContent"> </ng-template> </span> <input (blur)="_emitBlur($event)" (focus)="_emitFocus($event)" [disabled]="_disabled" [readonly]="_readonly" [attr.type]="_type" class="input" [ngClass]="_classMap" [attr.placeholder]="_placeHolder" [(ngModel)]="jdbValue" [style.width]="width" maxlength="{{jdbMaxLength}}" /> <span class="input-clear" *ngIf="_clear && _value && _type==\'text\'" (click)="clearTxt()"> <i class="close-icon icon-empty"></i> </span> <span class="ant-input-suffix" *ngIf="_suffixContent"> <i class="iconfont icon-guanbi2fill"></i> <ng-template [ngTemplateOutlet]="_suffixContent"> </ng-template> </span> </div> <div class="input-error-tip" *ngIf="jdbError && _errorContent"> <i class="icon-message-error error-tip"></i> <span> <ng-template [ngTemplateOutlet]="_errorContent"> </ng-template> </span> </div> </ng-template> <span class="input-group-addon" *ngIf="_addOnContentAfter"> <ng-template [ngTemplateOutlet]="_addOnContentAfter"> </ng-template> </span> <ng-template [ngIf]="_type==\'textarea\'"> <div class="input-text-wrap"> <textarea (blur)="_emitBlur($event)" (focus)="_emitFocus($event)" (input)="textareaOnChange($event)" #inputTextarea [disabled]="_disabled" [readonly]="_readonly" type="textarea" class="input input-textarea" [ngClass]="_classMap" [attr.placeholder]="jdbPlaceHolder" [(ngModel)]="jdbValue" maxlength="{{jdbMaxLength}}" [style.width]="width"></textarea> <span class="textarea-wc-tip" [ngClass]="{\'textarea-wc-tip-red\': jdbValue&&jdbValue.length == jdbMaxLength}" *ngIf="jdbMaxLength && !_disabled &&!_readonly">{{(jdbValue&&jdbValue.length)||0}}/{{jdbMaxLength}}</span> </div> </ng-template>',encapsulation:c.ViewEncapsulation.None,providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return e}),multi:!0}]}]}],e.propDecorators={width:[{type:c.Input}],_errorContent:[{type:c.ContentChild,args:["jdbErrorContent"]}],_addOnContentBefore:[{type:c.ContentChild,args:["addContentBefore"]}],_addOnContentAfter:[{type:c.ContentChild,args:["addContentAfter"]}],_prefixContent:[{type:c.ContentChild,args:["prefixContent"]}],_suffixContent:[{type:c.ContentChild,args:["suffixContent"]}],jdbBlur:[{type:c.Output}],jdbFocus:[{type:c.Output}],compositionStart:[{type:c.HostListener,args:["compositionstart",["$event"]]}],compositionEnd:[{type:c.HostListener,args:["compositionend",["$event"]]}],jdbType:[{type:c.Input}],jdbPlaceHolder:[{type:c.Input}],jdbSize:[{type:c.Input}],jdbDisabled:[{type:c.Input}],jdbReadonly:[{type:c.Input}],jdbValue:[{type:c.Input}],jdbError:[{type:c.Input}],jdbClear:[{type:c.Input}],jdbMaxLength:[{type:c.Input}],jdbPromptData:[{type:c.Input}]},e}(),w=(function(){function e(){}e.prototype.build=function(){return new XMLHttpRequest},e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[]}}(),{Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6});w[w.Get]="Get",w[w.Post]="Post",w[w.Put]="Put",w[w.Delete]="Delete",w[w.Options]="Options",w[w.Head]="Head",w[w.Patch]="Patch";var O={Unsent:0,Open:1,HeadersReceived:2,Loading:3,Done:4,Cancelled:5};O[O.Unsent]="Unsent",O[O.Open]="Open",O[O.HeadersReceived]="HeadersReceived",O[O.Loading]="Loading",O[O.Done]="Done",O[O.Cancelled]="Cancelled";var I={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};I[I.Basic]="Basic",I[I.Cors]="Cors",I[I.Default]="Default",I[I.Error]="Error",I[I.Opaque]="Opaque";var T={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};T[T.NONE]="NONE",T[T.JSON]="JSON",T[T.FORM]="FORM",T[T.FORM_DATA]="FORM_DATA",T[T.TEXT]="TEXT",T[T.BLOB]="BLOB",T[T.ARRAY_BUFFER]="ARRAY_BUFFER";var M=function(){function t(n){var o=this;this._headers=new Map,this._normalizedNames=new Map,n&&(n instanceof t?n.forEach(function(e,t){e.forEach(function(e){return o.append(t,e)})}):Object.keys(n).forEach(function(t){var e=Array.isArray(n[t])?n[t]:[n[t]];o.delete(t),e.forEach(function(e){return o.append(t,e)})}))}return t.fromResponseHeaderString=function(e){var i=new t;return e.split("\n").forEach(function(e){var t=e.indexOf(":");if(0<t){var n=e.slice(0,t),o=e.slice(t+1).trim();i.set(n,o)}}),i},t.prototype.append=function(e,t){var n=this.getAll(e);null===n?this.set(e,t):n.push(t)},t.prototype.delete=function(e){var t=e.toLowerCase();this._normalizedNames.delete(t),this._headers.delete(t)},t.prototype.forEach=function(n){var o=this;this._headers.forEach(function(e,t){return n(e,o._normalizedNames.get(t),o._headers)})},t.prototype.get=function(e){var t=this.getAll(e);return null===t?null:0<t.length?t[0]:null},t.prototype.has=function(e){return this._headers.has(e.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(e,t){Array.isArray(t)?t.length&&this._headers.set(e.toLowerCase(),[t.join(",")]):this._headers.set(e.toLowerCase(),[t]),this.mayBeSetNormalizedName(e)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var o=this,i={};return this._headers.forEach(function(e,t){var n=[];e.forEach(function(e){return n.push.apply(n,e.split(","))}),i[o._normalizedNames.get(t)]=n}),i},t.prototype.getAll=function(e){return this.has(e)&&this._headers.get(e.toLowerCase())||null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(e){var t=e.toLowerCase();this._normalizedNames.has(t)||this._normalizedNames.set(t,e)},t}(),S=function(){function t(e){void 0===e&&(e={});var t=e.body,n=e.status,o=e.headers,i=e.statusText,r=e.type,s=e.url;this.body=null!=t?t:null,this.status=null!=n?n:null,this.headers=null!=o?o:null,this.statusText=null!=i?i:null,this.type=null!=r?r:null,this.url=null!=s?s:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),E=(function(e){function t(){return e.call(this,{status:200,statusText:"Ok",type:I.Default,headers:new M})||this}l(t,e),t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[]}}(S),function(){});function P(e){if("string"!=typeof e)return e;switch(e.toUpperCase()){case"GET":return w.Get;case"POST":return w.Post;case"PUT":return w.Put;case"DELETE":return w.Delete;case"OPTIONS":return w.Options;case"HEAD":return w.Head;case"PATCH":return w.Patch}throw new Error('Invalid request method. The method "'+e+'" is not supported.')}var k=function(){function e(){}return e.prototype.encodeKey=function(e){return D(e)},e.prototype.encodeValue=function(e){return D(e)},e}();function D(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var R=function(){function t(e,t){void 0===e&&(e=""),void 0===t&&(t=new k),this.rawParams=e,this.queryEncoder=t,this.paramsMap=function(e){void 0===e&&(e="");var s=new Map;return 0<e.length&&e.split("&").forEach(function(e){var t=e.indexOf("="),n=-1==t?[e,""]:[e.slice(0,t),e.slice(t+1)],o=n[0],i=n[1],r=s.get(o)||[];r.push(i),s.set(o,r)}),s}(e)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(e){return this.paramsMap.has(e)},t.prototype.get=function(e){var t=this.paramsMap.get(e);return Array.isArray(t)?t[0]:null},t.prototype.getAll=function(e){return this.paramsMap.get(e)||[]},t.prototype.set=function(e,t){if(null!=t){var n=this.paramsMap.get(e)||[];n.length=0,n.push(t),this.paramsMap.set(e,n)}else this.delete(e)},t.prototype.setAll=function(e){var o=this;e.paramsMap.forEach(function(e,t){var n=o.paramsMap.get(t)||[];n.length=0,n.push(e[0]),o.paramsMap.set(t,n)})},t.prototype.append=function(e,t){if(null!=t){var n=this.paramsMap.get(e)||[];n.push(t),this.paramsMap.set(e,n)}},t.prototype.appendAll=function(e){var i=this;e.paramsMap.forEach(function(e,t){for(var n=i.paramsMap.get(t)||[],o=0;o<e.length;++o)n.push(e[o]);i.paramsMap.set(t,n)})},t.prototype.replaceAll=function(e){var i=this;e.paramsMap.forEach(function(e,t){for(var n=i.paramsMap.get(t)||[],o=n.length=0;o<e.length;++o)n.push(e[o]);i.paramsMap.set(t,n)})},t.prototype.toString=function(){var n=this,o=[];return this.paramsMap.forEach(function(e,t){e.forEach(function(e){return o.push(n.queryEncoder.encodeKey(t)+"="+n.queryEncoder.encodeValue(e))})}),o.join("&")},t.prototype.delete=function(e){this.paramsMap.delete(e)},t}(),A=function(){function e(){}return e.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},e.prototype.text=function(e){if(void 0===e&&(e="legacy"),this._body instanceof R)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(e){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+e)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},e.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:function(e){for(var t=new Uint16Array(e.length),n=0,o=e.length;n<o;n++)t[n]=e.charCodeAt(n);return t.buffer}(this.text())},e.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},e}(),L=function(n){function e(e){var t=n.call(this)||this;return t._body=e.body,t.status=e.status,t.ok=200<=t.status&&t.status<=299,t.statusText=e.statusText,t.headers=e.headers,t.type=e.type,t.url=e.url,t}return l(e,n),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(A),B=0,N="__ng_jsonp__",F=null;function z(){var e="object"==typeof window?window:{};return null===F&&(F=e[N]={}),F}var H=function(){function e(){}return e.prototype.build=function(e){var t=document.createElement("script");return t.src=e,t},e.prototype.nextRequestID=function(){return"__req"+B++},e.prototype.requestCallback=function(e){return N+"."+e+".finished"},e.prototype.exposeConnection=function(e,t){z()[e]=t},e.prototype.removeConnection=function(e){z()[e]=null},e.prototype.send=function(e){document.body.appendChild(e)},e.prototype.cleanup=function(e){e.parentNode&&e.parentNode.removeChild(e)},e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[]},e}(),V=function(){function e(a,p,l){var c=this;if(this._dom=p,this.baseResponseOptions=l,this._finished=!1,a.method!==w.Get)throw new TypeError("JSONP requests must use GET request method.");this.request=a,this.response=new o.Observable(function(o){c.readyState=O.Loading;var e=c._id=p.nextRequestID();p.exposeConnection(e,c);var t=p.requestCallback(c._id),i=a.url;-1<i.indexOf("=JSONP_CALLBACK&")?i=i.replace("=JSONP_CALLBACK&","="+t+"&"):i.lastIndexOf("=JSONP_CALLBACK")===i.length-"=JSONP_CALLBACK".length&&(i=i.substring(0,i.length-"=JSONP_CALLBACK".length)+"="+t);var r=c._script=p.build(i),n=function(e){if(c.readyState!==O.Cancelled){if(c.readyState=O.Done,p.cleanup(r),!c._finished){var t=new S({body:"JSONP injected script did not invoke callback.",type:I.Error,url:i});return l&&(t=l.merge(t)),void o.error(new L(t))}var n=new S({body:c._responseData,url:i});c.baseResponseOptions&&(n=c.baseResponseOptions.merge(n)),o.next(new L(n)),o.complete()}},s=function(e){if(c.readyState!==O.Cancelled){c.readyState=O.Done,p.cleanup(r);var t=new S({body:e.message,type:I.Error});l&&(t=l.merge(t)),o.error(new L(t))}};return r.addEventListener("load",n),r.addEventListener("error",s),p.send(r),function(){c.readyState=O.Cancelled,r.removeEventListener("load",n),r.removeEventListener("error",s),c._dom.cleanup(r)}})}return e.prototype.finished=function(e){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==O.Cancelled&&(this._responseData=e)},e}(),J=(function(o){function e(e,t){var n=o.call(this)||this;return n._browserJSONP=e,n._baseResponseOptions=t,n}l(e,o),e.prototype.createConnection=function(e){return new V(e,this._browserJSONP,this._baseResponseOptions)},e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[{type:H},{type:S}]}}(E),function(){function t(e){void 0===e&&(e={});var t=e.method,n=e.headers,o=e.body,i=e.url,r=e.search,s=e.params,a=e.withCredentials,p=e.responseType;this.method=null!=t?P(t):null,this.headers=null!=n?n:null,this.body=null!=o?o:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(s||r),this.withCredentials=null!=a?a:null,this.responseType=null!=p?p:null}return Object.defineProperty(t.prototype,"search",{get:function(){return this.params},set:function(e){this.params=e},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new M(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(e){return e?e instanceof R?e.clone():"string"==typeof e?new R(e):this._parseParams(e):this.params},t.prototype._parseParams=function(n){var o=this;void 0===n&&(n={});var i=new R;return Object.keys(n).forEach(function(t){var e=n[t];Array.isArray(e)?e.forEach(function(e){return o._appendParam(t,e,i)}):o._appendParam(t,e,i)}),i},t.prototype._appendParam=function(e,t,n){"string"!=typeof t&&(t=JSON.stringify(t)),n.append(e,t)},t}()),q=(function(e){function t(){return e.call(this,{method:w.Get,headers:new M})||this}l(t,e),t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[]}}(J),function(p){function e(e){var t=p.call(this)||this,n=e.url;t.url=e.url;var o,i,r=e.params||e.search;if(r){var s=void 0;if(0<(s="object"!=typeof r||r instanceof R?r.toString():(o=r,i=new R,Object.keys(o).forEach(function(t){var e=o[t];e&&Array.isArray(e)?e.forEach(function(e){return i.append(t,e.toString())}):i.append(t,e.toString())}),i).toString()).length){var a="?";-1!=t.url.indexOf("?")&&(a="&"==t.url[t.url.length-1]?"":"&"),t.url=n+a+s}}return t._body=e.body,t.method=P(e.method),t.headers=new M(e.headers),t.contentType=t.detectContentType(),t.withCredentials=e.withCredentials,t.responseType=e.responseType,t}return l(e,p),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return T.JSON;case"application/x-www-form-urlencoded":return T.FORM;case"multipart/form-data":return T.FORM_DATA;case"text/plain":case"text/html":return T.TEXT;case"application/octet-stream":return this._body instanceof G?T.ARRAY_BUFFER:T.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?T.NONE:this._body instanceof R?T.FORM:this._body instanceof W?T.FORM_DATA:this._body instanceof Y?T.BLOB:this._body instanceof G?T.ARRAY_BUFFER:this._body&&"object"==typeof this._body?T.JSON:T.TEXT},e.prototype.getBody=function(){switch(this.contentType){case T.JSON:case T.FORM:return this.text();case T.FORM_DATA:return this._body;case T.TEXT:return this.text();case T.BLOB:return this.blob();case T.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(A));var U=function(){},$="object"==typeof window?window:U,W=$.FormData||U,Y=$.Blob||U,G=$.ArrayBuffer||U;function K(e,t){return e.createConnection(t).response}function X(e,t,n,o){var i=e;return t?i.merge(new J({method:t.method||n,url:t.url||o,search:t.search,params:t.params,headers:t.headers,body:t.body,withCredentials:t.withCredentials,responseType:t.responseType})):i.merge(new J({method:n,url:o}))}var Q=function(){function e(e,t){this._backend=e,this._defaultOptions=t}return e.prototype.request=function(e,t){var n;if("string"==typeof e)n=K(this._backend,new q(X(this._defaultOptions,t,w.Get,e)));else{if(!(e instanceof q))throw new Error("First argument must be a url string or Request instance.");n=K(this._backend,e)}return n},e.prototype.get=function(e,t){return this.request(new q(X(this._defaultOptions,t,w.Get,e)))},e.prototype.post=function(e,t,n){return this.request(new q(X(this._defaultOptions.merge(new J({body:t})),n,w.Post,e)))},e.prototype.put=function(e,t,n){return this.request(new q(X(this._defaultOptions.merge(new J({body:t})),n,w.Put,e)))},e.prototype.delete=function(e,t){return this.request(new q(X(this._defaultOptions,t,w.Delete,e)))},e.prototype.patch=function(e,t,n){return this.request(new q(X(this._defaultOptions.merge(new J({body:t})),n,w.Patch,e)))},e.prototype.head=function(e,t){return this.request(new q(X(this._defaultOptions,t,w.Head,e)))},e.prototype.options=function(e,t){return this.request(new q(X(this._defaultOptions,t,w.Options,e)))},e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[{type:E},{type:J}]},e}();(function(n){function e(e,t){return n.call(this,e,t)||this}l(e,n),e.prototype.request=function(e,t){if("string"==typeof e&&(e=new q(X(this._defaultOptions,t,w.Get,e))),!(e instanceof q))throw new Error("First argument must be a url string or Request instance.");if(e.method!==w.Get)throw new Error("JSONP requests must use GET request method.");return K(this._backend,e)},e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[{type:E},{type:J}]}})(Q),new c.Version("5.2.11");function Z(e){return"[object Object]"===Object.prototype.toString.call(e)}function ee(e){return"[object Date]"===Object.prototype.toString.call(e)}function te(e){return Z(e)?ee(e)?e.toISOString():function(e){var t={};try{t=JSON.parse(e)}catch(e){console.log("to json parse error")}return t}(e):e}function ne(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function oe(e){if(!e)return"";var s=[];return function n(e,o,t){if(r=e,"[object Array]"===Object.prototype.toString.call(r))e.forEach(function(e,t){n(e,o+"["+(Z(e)?t:"")+"]")});else if(Z(e)&&!ee(e))for(var i in e)n(e[i],o+(t?"":".")+i);else s.push(ne(o)+"="+(null==e?"":ne(te(e))));var r}(e,"",!0),s.join("&")}var ie=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;function se(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];for(var i,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var a in t=Object(arguments[s]))ie.call(t,a)&&(r[a]=t[a]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(t);for(var p=0;p<i.length;p++)re.call(t,i[p])&&(r[i[p]]=t[i[p]])}}return r}var ae=function(){function e(e,t,n){this.http=e,this.componentFactoryResolver=t,this.route=n}return e.prototype.setRootViewContainerRef=function(e){this.vRef=e},e.prototype.toast=function(e,t){void 0===t&&(t=3e3);var n=this.componentFactoryResolver.resolveComponentFactory(h),o=this.vRef.createComponent(n);o.instance.msg=e,o.changeDetectorRef.detectChanges(),setTimeout(function(){o.destroy()},t)},e.prototype.test=function(){alert("jdb services....")},e.prototype.post=function(e,t,i){var n,o,r,s=this,a=(new Date).getTime();i&&i.tokenObj&&(n=localStorage.getItem(i.tokenObj.loginToken),o=localStorage.getItem(i.tokenObj.loginWay),r=localStorage.getItem(i.tokenObj.orgUid));var p={},l=location.hash.split("/")[1];p=oe(p=n?se({},r?{loginToken:n,loginWay:o,orgUid:r,jdbDhTraceId:a+"-"+parseInt(Math.random()*(1e5+1)+1+"")}:{loginToken:n,loginWay:o,jdbDhTraceId:a+"-"+parseInt(Math.random()*(1e5+1)+1+"")},t):se({},t));var c=new M;c.append("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u=e,h=new J({headers:c,method:"post",body:p||{}});return console.log(this.http),this.http.request(u,h).map(function(e){return e.json()}).filter(function(e){if(!e.hasOwnProperty("data")||!e.hasOwnProperty("error"))return s.toast("系统接口格式错误！"),i&&i.reset&&i.reset(),!1;if(i.fns&&0!=i.fns.length)for(var t=i.fns.length,n=0;n<t;n++){var o=i.fns[n];e.error&&1*e.error.returnCode===o.returnCode&&"login"!=l&&o.callback()}return!(!e.error||1*e.error.returnCode!=0)||("boolean"==typeof i?!i||(s.toast(e&&e.error&&e.error.returnUserMessage),!1):!i.isIntercept||(s.toast(e&&e.error&&e.error.returnUserMessage),!1))}).catch(function(e){return d.Observable.throw(e||"Server error")})},e.prototype.postJSON=function(e,t){var n=new M;n.append("Content-Type","application/json;charset=utf-8");var o=e,i=new J({headers:n,method:"post",url:o,body:t||{}});return this.http.request(o,i).map(function(e){return e.json()}).filter(function(e){return!(!e.error||1*e.error.returnCode!=0)}).catch(function(e){return d.Observable.throw(e||"Server error")})},e.prototype.stamp2string=function(e){return e?new Date(e).toJSON().split("T")[0]:null},e.prototype.export=function(e,t){var n=p.Cookie.get("loginInfo"),o={},i={};if(n)try{i={loginToken:(o=JSON.parse(n)).loginToken,employeeId:o.empId}}catch(e){console.log("parse cookie error...")}var r=se({},i,t),s=e+"?";for(var a in r)r[a]&&(s+=a+"="+encodeURIComponent(r[a])+"&");window.location.href=s},e.prototype.getPicSize=function(e){var t=new FileReader;t.onload=function(e){var t=e.target.result,n=new Image;n.onload=function(){var e=n.width,t=n.height;return{height:t,width:e}},n.src=t},t.readAsDataURL(e)},e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[{type:Q},{type:c.ComponentFactoryResolver},{type:r.Router}]},e}(),pe=function(){function e(){}return e.prototype.fillTable=function(e,t,n){e=e||10,n=n||!0;var o,i=(t=t||[]).length,r=e-i,s={unShowOpt:n};if(0!==i&&(t.forEach(function(e){e.unShowOpt=!n}),0!==(o=Object.keys(t[0])).length&&o.forEach(function(e){"unShowOpt"!==e&&(s[e]="[object Array]"==Object.prototype.toString.call(t[0][e])?[]:"")})),0!==i&&0<r)for(var a=0;a<r;a++)t.push(s);return t},e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[]},e}(),le=function(){function e(e){this.componentFactoryResolver=e}return e.prototype.testPhoneNumber=function(e){return/^[1][3,4,5,7,8][0-9]{9}$/.test(e)},e.prototype.setRootViewContainerRef=function(e){this.vRef=e},e.prototype.toast=function(e,t){void 0===t&&(t=3e3);var n=this.componentFactoryResolver.resolveComponentFactory(h),o=this.vRef.createComponent(n);o.instance.msg=e,o.changeDetectorRef.detectChanges(),setTimeout(function(){o.destroy()},t)},e.prototype.removeNodeFromArray=function(e,t){if(!t)return e;e:for(var n=0,o=e.length;n<o;n++)if(e[n]===t){e.splice(n,1);break e}return e},e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[{type:c.ComponentFactoryResolver}]},e}(),ce=function(){function e(){this.tableErrorText="暂无数据"}return e.prototype.ngOnInit=function(){},e.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-table-error",template:'<div class="jdb-plg-table-error"> {{tableErrorText}} </div>'}]}],e.ctorParameters=function(){return[]},e.propDecorators={tableErrorText:[{type:c.Input}]},e}(),ue=function(){function e(){}return e.prototype.transform=function(e){return 0===e.length?"":e.join("、")},e.decorators=[{type:c.Pipe,args:[{name:"provinceReformPipe"}]}],e}(),he=function(){function e(){}return e.prototype.transform=function(e){return 0===e?"0.00":e?(e/100).toFixed(2):""},e.decorators=[{type:c.Pipe,args:[{name:"amountReformPipe"}]}],e}(),de=[g,m,b,y,_,v,C,j,f,ce,ue,he],fe=function(){function e(){}return e.decorators=[{type:c.NgModule,args:[{imports:[s.CommonModule,n.FormsModule,n.ReactiveFormsModule],exports:de,declarations:[h,f,g,m,b,y,x,C,_,v,j,ce,ue,he],providers:[ae,le,pe],entryComponents:[h]}]}],e}();e.JdbPlgUiModule=fe,e.CommonMethodService=le,e.FillTableService=pe,e.JdbPlgBaseService=ae,e.JdbPlgButtonComponent=_,e.JdbPlgDialogComponent=v,e.JdbPlgInputComponent=j,e.JdbPlgPaginationComponent=y,e.JdbPlgSelectComponent=C,e.JdbTabComponent=f,e.JdbPlgTableErrorComponent=ce,e.JdbPlgToastComponent=h,e.PictureViewerComponent=m,e.ShowPictureComponent=g,e.ɵa=b,e.ɵd=x,e.ɵc=he,e.ɵb=ue,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=jdb-plg-ui.umd.min.js.map
