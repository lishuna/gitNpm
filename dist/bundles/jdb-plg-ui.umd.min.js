!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/animations"),require("@angular/forms"),require("rxjs/Observable"),require("@angular/platform-browser"),require("ng2-cookies/ng2-cookies"),require("rxjs/Rx"),require("@angular/router"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/animations","@angular/forms","rxjs/Observable","@angular/platform-browser","ng2-cookies/ng2-cookies","rxjs/Rx","@angular/router","@angular/common"],e):e(t["jdb-plg-ui"]={},t.ng.core,t.ng.animations,t.ng.forms,t.Observable,t.ng.platformBrowser,t.Cookie,t.Observable,t.ng.router,t.ng.common)}(this,function(t,c,e,n,o,i,p,d,r,s){"use strict";var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function l(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var u=function(){return(u=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},h=function(){function t(){this.msg=""}return t.prototype.ngOnInit=function(){},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-toast",template:'<div class="toast-wraper"> {{msg}} </div> ',styleUrls:["./jdb-plg-toast.component.scss"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={msg:[{type:c.Input}]},t}(),f=function(){function t(t,e){this.componentFactoryResolver=t,this._injector=e,this.onTabChange=new c.EventEmitter,this.onTabRemove=new c.EventEmitter,this.onTopComMsg=new c.EventEmitter,this.items=[],this.tabComs=[],this.curTabIndex=0,this.tabIdComMap={}}return t.prototype.ngOnInit=function(){},t.prototype.addItem=function(t,e,n,o,i){var r=this;if(void 0===o&&(o=""),void 0===i&&(i=!1),!o||!this.tabIdComMap[o]){var s=this.componentFactoryResolver.resolveComponentFactory(t),a=this.target.createComponent(s),p=Object.keys(e);return this.items.push({title:n,isCloseFlag:i}),p.forEach(function(t){a.instance[t]=e[t]}),this.tabComs.push(a),1<this.items.length&&this.setOneComHide(this.curTabIndex),this.tabSubs=a.instance.onTopComMsg=new c.EventEmitter,this.tabSubs.subscribe(function(t){r.onTopComMsg.emit(t)}),this.curTabIndex=this.items.length-1,o&&(this.tabIdComMap[o]={index:this.curTabIndex,comInstance:a.instance}),a}var l=this.tabIdComMap[o];this.tabChange(l.index)},t.prototype.setOneComHide=function(t){this.tabComs[t].location.nativeElement.style.display="none"},t.prototype.setOneComShow=function(t){this.tabComs[t].location.nativeElement.style.display="block"},t.prototype.tabChange=function(t){this.curTabIndex!==t&&(this.setOneComHide(this.curTabIndex),this.setOneComShow(t),this.curTabIndex=t,this.onTabChange.emit(t),this.tabComs[t].instance.tabRefresh&&this.tabComs[t].instance.tabRefresh({}))},t.prototype.setOneTabShow=function(t){this.tabChange(t)},t.prototype.removeTab=function(t){this.tabComs[t].destroy(),this.tabComs.splice(t,1),this.items.splice(t,1),t<=this.curTabIndex&&this.curTabIndex--,this.curTabIndex<0&&(this.curTabIndex=0),this.setOneComShow(this.curTabIndex),this.onTabRemove.emit(t);var e=this.tabIdComMap;for(var n in e)if(e[n].index==t){delete e[n];break}},t.prototype.removeTabById=function(t){var e=this.tabIdComMap;for(var n in e)if(n==t){this.removeTab(e[n].index);break}},t.prototype.ngOnDestroy=function(){this.target&&this.target.clear()},t.decorators=[{type:c.Component,args:[{selector:"jdb-tab",template:'<div class="tab-wraper"> <div class="tab-nav-wraper"> <div class="tab-item" *ngFor="let item of items;let i = index;" [ngClass]="{\'tab-selected\':i == curTabIndex}" title=\'{{item.title}}\'> <div (click)="tabChange(i)" class="tab-text"> {{item.title}}</div> <span class="close-btn" (click)="removeTab(i)" *ngIf="i !== 0 && item.isCloseFlag != true">&times;</span> </div> </div> <div class="tab-content-wraper"> <div #tabContent class="place-holder"></div> </div> </div> ',styleUrls:["./jdb-tab.component.scss"]}]}],t.ctorParameters=function(){return[{type:c.ComponentFactoryResolver},{type:c.Injector}]},t.propDecorators={target:[{type:c.ViewChild,args:["tabContent",{read:c.ViewContainerRef}]}],onTabChange:[{type:c.Output}],onTabRemove:[{type:c.Output}],onTopComMsg:[{type:c.Output}]},t}(),g=function(){function t(){this.update=new c.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.closeModel=function(){this.update.emit({status:!1})},t.decorators=[{type:c.Component,args:[{selector:"app-show-picture",template:'<div> <div class="img-mask" (click)="closeModel()"> \x3c!-- 遮罩层 --\x3e </div> <div class="img-content"> <span class="close" (click)="closeModel()"> <img src="/assets/images/close-x.png" alt=""> </span> <img [src]="pictureUrl" alt="" style="max-height: 600px;max-width: 800px;"> </div> </div> ',styleUrls:["./show-picture.component.scss"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={pictureUrl:[{type:c.Input}],update:[{type:c.Output}]},t}(),m=function(){function t(t){this.renderer=t,this.pictureList=[],this.update=new c.EventEmitter,this.maxWidth=800,this.maxHeight=600,this.jdbShowType=1,this._jdbMaster=!0,this._jdbClear=!0,this.dragStatus=!1,this.current=0,this.imgOperate={num:1,degnum:0}}return Object.defineProperty(t.prototype,"jdbMaster",{get:function(){return this._jdbMaster},set:function(t){this._jdbMaster=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbClear",{get:function(){return this._jdbClear},set:function(t){this._jdbClear=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbCurrent",{get:function(){return this.current},set:function(t){t>this.pictureList.length||t<0?this.current=0:this.current=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.elem=this.imgBox.nativeElement.children},t.prototype.ngOnChanges=function(){var n=this;this.pictureList&&this.pictureList.forEach(function(t,e){n.resetPosition(e)})},t.prototype.ngAfterViewInit=function(){var t=this.imgContent.nativeElement;this.renderer.setElementStyle(t,"height",this.maxHeight+"px"),this.renderer.setElementStyle(t,"width",this.maxWidth+"px"),1==this.jdbShowType&&(this.renderer.setElementStyle(t,"margin-left",-this.maxWidth/2+"px"),this.renderer.setElementStyle(t,"margin-top",-this.maxHeight/2+"px"))},t.prototype.resetPosition=function(r){var s=this,a=new Image;a.onload=function(){var t,e,n=a.width,o=a.height,i=n/o;e=s.maxWidth/n,t=s.maxHeight/o,1<e&&1<t?(n=n,o=o):e<1&&t<1?1<i?o=(n=s.maxWidth)/i:i<1&&(n=(o=s.maxHeight)*i):1<e&&t<1?(o=s.maxHeight,n*=t):e<1&&1<t&&(o*=e,n=s.maxWidth),s.renderer.setElementStyle(s.elem[r].children[0],"height",o+"px"),s.renderer.setElementStyle(s.elem[r].children[0],"width",n+"px"),n===s.maxWidth&&o===s.maxHeight?(s.renderer.setElementStyle(s.elem[r].children[0],"top","0px"),s.renderer.setElementStyle(s.elem[r].children[0],"left","0px")):(s.renderer.setElementStyle(s.elem[r].children[0],"top",(s.maxHeight-o)/2+"px"),s.renderer.setElementStyle(s.elem[r].children[0],"left",(s.maxWidth-n)/2+"px"))},a.src=this.pictureList[r].imgUrl},t.prototype.ImgState=function(t){if(!this.pictureList||!this.pictureList.length)return"off";if(0===this.current)return 0===t?"on":1===t?"next":t===this.pictureList.length-1?"prev":"off";if(this.current===this.pictureList.length-1)return t===this.pictureList.length-1?"on":t===this.pictureList.length-2?"prev":0===t?"next":"off";switch(t-this.current){case 0:return"on";case 1:return"next";case-1:return"prev";default:return"off"}},t.prototype.Next=function(){this.resetImgData(),this.current=(this.current+1)%this.pictureList.length,this.resetPosition(this.current-1)},t.prototype.Prev=function(){this.resetImgData(),this.current=this.current-1<0?this.pictureList.length-1:this.current-1,this.resetPosition(this.current+1)},t.prototype.closeModel=function(){this.resetImgData(),this.update.emit({status:!1})},t.prototype.scaleBig=function(){this.imgOperate.num=2*this.imgOperate.num,4<this.imgOperate.num&&(this.imgOperate.num=4);var t="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",t)},t.prototype.scaleSmall=function(){this.imgOperate.num=this.imgOperate.num/2,this.imgOperate.num<1&&(this.imgOperate.num=.5);var t="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",t)},t.prototype.routateNi=function(){this.imgOperate.degnum++;var t="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",t)},t.prototype.routateShun=function(){this.imgOperate.degnum--;var t="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",t)},t.prototype.resetImgData=function(){this.imgOperate={num:1,degnum:0};this.renderer.setElementStyle(this.elem[this.current].children[0],"transition","transform 0.2s linear 0.4s"),this.renderer.setElementStyle(this.elem[this.current].children[0],"transform","scale(1,1) rotate(0deg)")},t.prototype.toBoolean=function(t){return""===t||t&&"false"!==t},t.prototype.ngOnDestroy=function(){this.pictureList=null,this.imgBox=null,this.imgContent=null,this.current=null},t.decorators=[{type:c.Component,args:[{selector:"app-picture-viewer",template:'<div class="picture-viewer"> <div class="img-mask" *ngIf="_jdbMaster" (click)="closeModel()"> \x3c!-- 遮罩层 --\x3e </div> <div #imgContent [ngClass]="{\'img-content-componet\':jdbShowType==2}" class="img-content"> \x3c!-- 右上角关闭按钮 --\x3e <div class="close" *ngIf="_jdbClear" (click)="closeModel()"> <span class="icon-close"></span> </div> \x3c!-- 图片box --\x3e <ul class="img-box" #img> \x3c!-- <li *ngFor="let item of pictureList;let i=index" [@imgMove]="ImgState(i)"> <img appDragDirective  [src]="item.imgUrl" alt="" style="max-height: 600px;max-width: 800px;"> </li> --\x3e </ul> \x3c!-- 上一页下一页 --\x3e <div [hidden]="current==0" class="prev-page" (click)="Prev()"> <span class="icon-pagination-prev"></span> </div> <div [hidden]="current==pictureList.length-1" class="next-page" (click)="Next()"> <span class="icon-pagination-next"></span> </div> \x3c!-- 右下角页码 --\x3e <div class="img-index">{{current+1}}/{{pictureList.length}}</div> \x3c!-- 缩放旋转按钮组 --\x3e <div class="btn-box"> <span [ngClass]="{\'hover-disabled\':imgOperate.num===4}" class="icon-picture-zoom-in scale-big" (click)="scaleBig()"></span> <span [ngClass]="{\'hover-disabled\':imgOperate.num==0.5}" class="icon-picture-zoom-out  scale-small" (click)="scaleSmall()"></span> <span class="icon-picture-counterclockwise routate-ni" (click)="routateNi()"></span> <span class="icon-picture-clockwise routate-shun" (click)="routateShun()"></span> </div> </div> </div>',styleUrls:["./picture-viewer.component.scss"],animations:[c.trigger("imgMove",[c.state("off",c.style({display:"none","z-index":"0",transform:"translateX(0)"})),c.state("prev",c.style({"z-index":"1",transform:"translateX(-100%)"})),c.state("next",c.style({"z-index":"2",transform:"translateX(100%)"})),c.state("on",c.style({"z-index":"3",transform:"translateX(0)"})),c.transition("prev=>on",[c.animate("0.3s ease-in")]),c.transition("next=>on",[c.animate("0.3s ease-in")]),c.transition("on=>prev",[c.animate("0.3s ease-in")]),c.transition("on=>next",[c.animate("0.3s ease-in")])])]}]}],t.ctorParameters=function(){return[{type:c.Renderer}]},t.propDecorators={pictureList:[{type:c.Input}],update:[{type:c.Output}],imgBox:[{type:c.ViewChild,args:["img"]}],imgContent:[{type:c.ViewChild,args:["imgContent"]}],maxWidth:[{type:c.Input}],maxHeight:[{type:c.Input}],jdbShowType:[{type:c.Input}],jdbMaster:[{type:c.Input}],jdbClear:[{type:c.Input}],jdbCurrent:[{type:c.Input}]},t}(),y=function(){function t(t,e){this.elem=t,this.render=e,this.isDown=!1}return t.prototype.onMousedown=function(t){localStorage.getItem("dragWidth"),localStorage.getItem("dragHeight");this.isDown=!0,this.disLeft=this.elem.nativeElement.offsetLeft,this.disTop=this.elem.nativeElement.offsetTop,this.disX=t.clientX,this.disY=t.clientY,t.target.style.cursor="move"},t.prototype.onMousemove=function(t){if(t.preventDefault(),this.isDown){var e=t.clientX-this.disX,n=t.clientY-this.disY;this.elem.nativeElement.style.left=e+this.disLeft+"px",this.elem.nativeElement.style.top=n+this.disTop+"px"}return!1},t.prototype.onMouseup=function(){this.isDown&&(this.isDown=!1,this.disLeft=this.elem.nativeElement.offsetLeft,this.disTop=this.elem.nativeElement.offsetTop)},t.prototype.onMouseleave=function(){this.isDown=!1},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:c.Directive,args:[{selector:"img[appDragDirective]"}]}],t.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer}]},t.propDecorators={onMousedown:[{type:c.HostListener,args:["mousedown",["$event"]]}],onMousemove:[{type:c.HostListener,args:["mousemove",["$event"]]}],onMouseup:[{type:c.HostListener,args:["mouseup",["$event"]]}],onMouseleave:[{type:c.HostListener,args:["mouseleave",["$event"]]}]},t}(),b=function(){function t(t,e){this.el=t,this.renderer2=e,this._current=1,this._pageSize=10,this._firstIndex=1,this._lastIndex=1/0,this._showTotal=!1,this._showPageSize=!1,this._showQuickJump=!1,this.pages=[],this._options=[{value:10,text:"10条/页"},{value:20,text:"20条/页"},{value:30,text:"30条/页"},{value:40,text:"40条/页"},{value:50,text:"50条/页"}],this._jdbSimple=!1,this.jdbPageSizeChange=new c.EventEmitter,this.jdbPageIndexChange=new c.EventEmitter}return Object.defineProperty(t.prototype,"jdbShowTotal",{get:function(){return this._showTotal},set:function(t){this._showTotal=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbTotal",{get:function(){return this._total},set:function(t){t!==this._total&&(this._total=t,this.setPageNo())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbPageIndex",{get:function(){return this._current},set:function(t){this._current!==t&&(t>this._lastIndex||t<this._firstIndex||(this._current=Number(t),this.setPageNo()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbShowPageSize",{get:function(){return this._showPageSize},set:function(t){this._showPageSize=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbPageSize",{get:function(){return this._pageSize},set:function(t){t!==this._pageSize&&(this._pageSize=t,this.setPageNo())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSizeOptions",{get:function(){return this._options},set:function(t){if(t!==this._options&&"[object Array]"===Object.prototype.toString.call(t)){var n=[];t.forEach(function(t){var e={value:t,text:t+"条/页"};n.push(e)}),this._options=n}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbShowQuickJump",{get:function(){return this._showQuickJump},set:function(t){this._showQuickJump=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSimple",{get:function(){return this.jdbSimple},set:function(t){this._jdbSimple=this.toBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.setPageNo=function(){this._lastIndex=Math.ceil(this._total/this._pageSize);var t=[];if(this._lastIndex<=9)for(var e=2;e<=this._lastIndex-1;e++)t.push({index:e});else{var n=+this._current,o=Math.max(2,n-2),i=Math.min(n+2,this._lastIndex-1);5===n?o=2:n===this._lastIndex-4&&(i=this._lastIndex-1),n-1<=3&&(i=7),this._lastIndex-n<=3&&(o=this._lastIndex-6);for(e=o;e<=i;e++)t.push({index:e})}this.pages=t},t.prototype.dataChange=function(t,e){if(t){if(e===this._firstIndex-1||e===this._lastIndex+1)return;this.quickJumpPage="",this.jdbPageIndex=e,this.jdbPageIndexChange.emit(this.jdbPageIndex)}else this.quickJumpPage="",this.jdbPageSize=e,this.jdbPageSizeChange.emit(e),this.jdbPageIndex=1,this.jdbPageIndexChange.emit(this.jdbPageIndex),this.setPageNo()},t.prototype.quickJump=function(){if(this.quickJumpPage>this._lastIndex)return this.inputJump.nativeElement.focus(),void(this.quickJumpPage="");this.quickJumpPage&&(this.jdbPageIndex=this.quickJumpPage,this.jdbPageIndexChange.emit(this.jdbPageIndex))},t.prototype.jumpBefore=function(t){this.dataChange(!0,this._current-Math.round(t/2))},t.prototype.jumpAfter=function(t){this.dataChange(!0,this._current+Math.round(t/2))},t.prototype.toBoolean=function(t){return""===t||t&&"false"!==t},t.prototype.isNumber=function(t){return/^[0-9]*$/.test(t)},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-pagination",template:'<div class="jdb-plg-pagination"> \x3c!-- 总条数 --\x3e <span *ngIf="_showTotal" class="total-box"> 共{{_total}}条 </span> <div class="operate-box"> \x3c!-- 条数切换 --\x3e <div class="jdb-plg-pagination-options" *ngIf="_showPageSize"> <app-jdb-plg-select (ngModelChange)="dataChange(false,$event)" [jdbSize]="\'small\'" [jdbWidth]="\'90px\'" [(ngModel)]="_pageSize" [jdbSelectList]="_options"></app-jdb-plg-select> </div> \x3c!-- 基本分页样式 --\x3e <ul *ngIf="!_jdbSimple" class="base-pagination"> \x3c!-- 上一页按钮 --\x3e <li class="jdb-plg-pagination-prev" title="上一页" [ngClass]="{\'disabled\':_current===_firstIndex}" (click)="dataChange(true,_current-1)"> <span class="jdbIcon icon-pagination-prev"></span> </li> \x3c!-- 首页按钮 --\x3e <li class="jdb-plg-pagination-first" title="首页" [ngClass]="{\'active\':_current===_firstIndex}" (click)="dataChange(true,_firstIndex)"> {{_firstIndex}} </li> \x3c!-- 省略号 --\x3e <li class="jdb-plg-pagination-forward" *ngIf="(_lastIndex >9)&&(_current-4>_firstIndex)" (click)="jumpBefore(_pageSize)"> <span class="icon-pagination-more"></span> <span class="icon-pagination-jump-prev"></span> </li> \x3c!-- 按钮 --\x3e <li class="jdb-plg-pagination-pager" *ngFor="let page of pages" [ngClass]="{\'active\':_current===page.index}" (click)="dataChange(true,page.index)"> {{page.index}} </li> \x3c!-- 省略号 --\x3e <li class="jdb-plg-pagination-backward" *ngIf="(_lastIndex >9)&&(_current+4<_lastIndex)" (click)="jumpAfter(_pageSize)"> <span class="icon-pagination-more"></span> <span class="icon-pagination-jump-next"></span> </li> \x3c!-- 尾页按钮 --\x3e <li class="jdb-plg-pagination-last" *ngIf="(_lastIndex>0)&&(_lastIndex!==_firstIndex)" title="尾页" [ngClass]="{\'active\':_current===_lastIndex}" (click)="dataChange(true,_lastIndex)"> {{_lastIndex}} </li> \x3c!-- 下一页按钮 --\x3e <li class="jdb-plg-pagination-next" title="下一页" [ngClass]="{\'disabled\':_current===_lastIndex}" (click)="dataChange(true,_current+1)"> <span class="jdbIcon icon-pagination-next"></span> </li> </ul> \x3c!-- 简单分页样式 --\x3e <div class="simple-pagination" *ngIf="_jdbSimple"> <div class="left-box"> <span class="icon-pagination-first" [ngClass]="{\'disabled\':_current===_firstIndex}" (click)="dataChange(true,_firstIndex)"></span> <span class="icon-pagination-prev" [ngClass]="{\'disabled\':_current===_firstIndex}" (click)="dataChange(true,_current-1)"></span> </div> <div class="center-box"> {{_current}} / {{_lastIndex}} </div> <div class="right-box"> <span class="icon-pagination-next" [ngClass]="{\'disabled\':_current===_lastIndex}" (click)="dataChange(true,_current+1)"></span> <span class="icon-pagination-last" [ngClass]="{\'disabled\':_current===_lastIndex}" (click)="dataChange(true,_lastIndex)"></span> </div> </div> \x3c!-- 快速跳转 --\x3e <div *ngIf="_showQuickJump" class="quick-jumper"> 第 <input #inputJump type="text" [(ngModel)]="quickJumpPage" (keyup.enter)="quickJump()" appOnlyNumber="true"> 页 <button (click)="quickJump()">跳转</button> </div> </div> </div>',styleUrls:["./jdb-plg-pagination.component.scss"]}]}],t.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2}]},t.propDecorators={jdbPageSizeChange:[{type:c.Output}],jdbPageIndexChange:[{type:c.Output}],inputJump:[{type:c.ViewChild,args:["inputJump"]}],jdbShowTotal:[{type:c.Input}],jdbTotal:[{type:c.Input}],jdbPageIndex:[{type:c.Input}],jdbShowPageSize:[{type:c.Input}],jdbPageSize:[{type:c.Input}],jdbSizeOptions:[{type:c.Input}],jdbShowQuickJump:[{type:c.Input}],jdbSimple:[{type:c.Input}]},t}(),_=function(){function t(t,e){this._elementRef=t,this._renderer=e,this._prefixCls="jdb-plg-btn",this._el=this._elementRef.nativeElement,this.nativeElement=this._elementRef.nativeElement,this._renderer.addClass(this._el,this._prefixCls)}return Object.defineProperty(t.prototype,"jdbSize",{get:function(){return this.size},set:function(t){t||(t="default"),this.size=t,this._setClassMap(this.loading)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbType",{get:function(){return this.type},set:function(t){t||(t="primary"),this.type=t,this._setClassMap(this.loading)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbLoading",{get:function(){return this.loading},set:function(t){t=""===t||t&&"false"!==t,this.loading=t,this._setClassMap(this.loading)},enumerable:!0,configurable:!0}),t.prototype._setClassMap=function(t){this._renderer.removeClass(this._el,"undefined"),this._renderer.addClass(this._el,this.size),this._renderer.addClass(this._el,this.type),t?this._renderer.addClass(this._el,"loading_disable"):this._renderer.removeClass(this._el,"loading_disable")},t.prototype.ngOnInit=function(){},t.decorators=[{type:c.Component,args:[{selector:"[app-jdb-plg-button]",template:'<i class="jdb-icon-loading action" *ngIf="loading"></i> <ng-content></ng-content>',styleUrls:["./jdb-plg-button.component.scss"]}]}],t.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2}]},t.propDecorators={jdbSize:[{type:c.Input}],jdbType:[{type:c.Input}],jdbLoading:[{type:c.Input}]},t}(),v=function(){function t(t){this.resolver=t,this._customClass="",this._maskClass="",this._visible=!1,this._title="",this._closeable=!0,this._animationStatus="11",this._width="400px",this._footerHide=!1,this._isConfirm=!1,this._okText="",this._cancelText="",this._RogerText="",this._state="hideM",this.MvisibileChange=new c.EventEmitter,this.MOnOk=new c.EventEmitter,this.MOnCancel=new c.EventEmitter}return Object.defineProperty(t.prototype,"Mvisible",{get:function(){return this._visible},set:function(t){var e=this.toBoolean(t);this._visible!==e&&(this._visible=e,this.MvisibileChange.emit(this._visible))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MfooterHiden",{get:function(){return this._footerHide},set:function(t){var e=this.toBoolean(t);this._visible!==e&&(this._footerHide=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Mtitle",{set:function(t){t instanceof c.TemplateRef?this._titleTpl=t:this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Mcontent",{set:function(t){t instanceof c.TemplateRef?this._contentTpl=t:this._content=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Mfooter",{set:function(t){t instanceof c.TemplateRef&&(this._footerTpl=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Mwidth",{set:function(t){this._width="number"==typeof t?t+"px":t},enumerable:!0,configurable:!0}),t.prototype.setStyle=function(){this.contentEl.nativeElement;this._bodyStyleMap=u({width:this._width})},t.prototype.onEsc=function(t){this.clickCancel(t)},Object.defineProperty(t.prototype,"Mclass",{set:function(t){this._customClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MOkText",{set:function(t){this._okText=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"McancelText",{set:function(t){this._cancelText=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MRogerText",{set:function(t){this._isConfirm=!0,this._RogerText=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.setStyle()},t.prototype.createDynamicComponent=function(t){var e=this.resolver.resolveComponentFactory(this._content);this.bodyEl.createComponent(e)},t.prototype.ngAfterViewInit=function(){},t.prototype.ngOnChanges=function(t){var e=this;this._visible?(this._state="showM",setTimeout(function(){e.contentEl.nativeElement.parentNode.focus()},200)):this._state="hideM"},t.prototype.clickCancel=function(t){this._visible=!1,this._state="hideM",this.MOnCancel.emit(t)},t.prototype.clickOk=function(t){this.MOnOk?this.MOnOk.emit(t):(this._visible=!1,this._state="hideM")},t.prototype.closeModal=function(t){"dialog"===t.target.getAttribute("role")&&(this.clickCancel(t),this._state="hideM")},t.prototype.toBoolean=function(t){return""===t||t&&!1!==t},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-dialog",template:'<div [ngClass]="_customClass"> <div class="_maskClass" [ngClass]="{\'hid\':!_visible}" [style.zIndex]="1000"></div> <div class="jdb-modal" tabindex="-1" role="dialog" [ngClass]="{\'hid\':!_visible}" [ngStyle]="{\'dispaly\':!_visible}" (click)="closeModal($event)" class="_wrapClass" [ngClass]="_wrapClass" [style.zIndex]="1000" [attr.aria-modalId]="modalId"> <div #modal_content class="modal" [@optionsState]="_state" [ngStyle]="_bodyStyleMap"> <div class="modal-content"> <ng-template [ngIf]="_closeable"> <button class="modal-close" (click)="clickCancel($event)"> \x3c!-- <span class="modal-close-x"></span> --\x3e <span class="icon-close"></span> </button> </ng-template> <div class="modal-header" *ngIf="_title||_titleTpl"> <div class="modal-title" [attr.id]="modalId"> <ng-template #defaultTitle> {{_title}} </ng-template> <ng-template [ngTemplateOutlet]="_titleTpl||defaultTitle"> </ng-template> </div> </div> <div class="modal-body"> <ng-template #defaultContent>{{_content}}</ng-template> <ng-template [ngTemplateOutlet]="_contentTpl||defaultContent"></ng-template> <ng-template #modal_component></ng-template> </div> <div class="modal-footer" *ngIf="!_footerHide"> <ng-template #defalutFooter> <button *ngIf="!_isConfirm" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'white\'" (click)="clickCancel($event)"><span>{{_cancelText||\'取消\'}}</span></button> <button *ngIf="!_isConfirm" class="right-btn" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'primary\'" (click)="clickOk($event)"><span>{{_okText||\'确认\'}}</span></button> <button *ngIf="_isConfirm" class="right-btn" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'primary\'" (click)="clickOk($event)" (click)="clickOk($event)"><span>{{_RogerText}}</span></button> </ng-template> <ng-template [ngTemplateOutlet]="_footerTpl||defalutFooter"></ng-template> </div> <div tabindex="0" style="width:0px;height:0px;overflow:hidden;">aaa</div> </div> </div> </div> </div>',styleUrls:["./jdb-plg-dialog.component.scss"],animations:[e.trigger("optionsState",[e.state("showM",e.style({transform:"translate(-50%, -50%)",opacity:"1"})),e.state("hideM",e.style({transform:"translate(-50%, -80%)",opacity:"0"})),e.transition("showM <=> hideM",e.animate("200ms ease-out"))])]}]}],t.ctorParameters=function(){return[{type:c.ComponentFactoryResolver}]},t.propDecorators={contentEl:[{type:c.ViewChild,args:["modal_content"]}],bodyEl:[{type:c.ViewChild,args:["modal_component",{read:c.ViewContainerRef}]}],MvisibileChange:[{type:c.Output}],MOnOk:[{type:c.Output}],MOnCancel:[{type:c.Output}],Mvisible:[{type:c.Input}],MfooterHiden:[{type:c.Input}],Mtitle:[{type:c.Input}],Mcontent:[{type:c.Input}],Mfooter:[{type:c.Input}],Mwidth:[{type:c.Input}],onEsc:[{type:c.HostListener,args:["keydown.esc",["$event"]]}],Mclass:[{type:c.Input}],MOkText:[{type:c.Input}],McancelText:[{type:c.Input}],MRogerText:[{type:c.Input}]},t}(),x=function(){function t(t){this.el=t,this.regexStr="^[0-9]*$"}return t.prototype.onKeyDown=function(t){var e=t;if(this.appOnlyNumber){if(-1!==[46,8,9,27,13,110,190].indexOf(e.keyCode)||65===e.keyCode&&!0===e.ctrlKey||67===e.keyCode&&!0===e.ctrlKey||86===e.keyCode&&!0===e.ctrlKey||88===e.keyCode&&!0===e.ctrlKey||35<=e.keyCode&&e.keyCode<=39)return;var n=String.fromCharCode(e.keyCode);if(new RegExp(this.regexStr).test(n))return;e.preventDefault()}},t.prototype.onKeyUp=function(t){this.el.nativeElement.value=this.el.nativeElement.value.replace(/\D/g,"")},t.decorators=[{type:c.Directive,args:[{selector:"[appOnlyNumber]"}]}],t.ctorParameters=function(){return[{type:c.ElementRef}]},t.propDecorators={appOnlyNumber:[{type:c.Input}],onKeyDown:[{type:c.HostListener,args:["keydown",["$event"]]}],onKeyUp:[{type:c.HostListener,args:["keyup",["$event"]]}]},t}(),j=function(){function t(t,e){this.renderer2=t,this.renderer=e,this._size="middle",this._optionText="text",this._optionValue="value",this.isShowClear=!1,this._jdbClear=!1,this._jdbDisabled=!1,this._jdbMode="chooseOne",this._placeHolder="请选择",this._chooseMoreArray=[],this._classMap={},this.savaHeight=!0,this.spaceFlex=!0,this._showImgBox=!1,this._jdbItemDisabled="disabled",this._jdbSureDisabled=2,this._jdbNoDisabled=1,this.jdbClassName="",this.show=!1,this.ngModelValue="",this.onChange=function(){return null}}return Object.defineProperty(t.prototype,"jdbItemDisabled",{get:function(){return this._jdbItemDisabled},set:function(t){this._jdbItemDisabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSureDisabled",{get:function(){return this._jdbSureDisabled},set:function(t){this._jdbSureDisabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbPlaceHolder",{get:function(){return this._placeHolder},set:function(t){this._placeHolder=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbClear",{get:function(){return this._jdbClear},set:function(t){this._jdbClear=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSelectList",{get:function(){return this._selectList},set:function(t){var e=this;this._selectList=t,this._selectList&&this._selectList.forEach(function(t){t.imgUrl&&(e._showImgBox=!0)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSize",{get:function(){return this._size},set:function(t){this._size=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbWidth",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbOptionText",{get:function(){return this._optionText},set:function(t){this._optionText=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbOptionValue",{get:function(){return this._optionValue},set:function(t){this._optionValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbDisabled",{get:function(){return this._jdbDisabled},set:function(t){this._jdbDisabled=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbMode",{get:function(){return this._jdbMode},set:function(t){this._jdbMode=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var t=this;this.renderer2.listen("document","click",function(){t.show=!1,t.renderer.setElementClass(t.inputDom.nativeElement,"jdb-plg-select-active",t.show)}),this._jdbClear&&!this._jdbDisabled&&(this.renderer2.listen(this.inputDom.nativeElement,"mouseenter",function(){if("chooseOne"===t._jdbMode||"chooseNum"===t._jdbMode){if(!t.inputText||t.show)return}else if("chooseMore"===t._jdbMode&&(0===t.inputText.length||t.show))return;t.isShowClear=!0,t.renderer.setElementClass(t.inputDom.nativeElement,"jdb-plg-select-active",t.show)}),this.renderer2.listen(this.inputDom.nativeElement,"mouseleave",function(){if("chooseOne"===t._jdbMode||"chooseNum"===t._jdbMode){if(!t.inputText||t.show)return}else if("chooseMore"===t._jdbMode&&(0===t.inputText.length||t.show))return;t.isShowClear=!1,t.renderer.setElementClass(t.inputDom.nativeElement,"jdb-plg-select-active",t.show)}))},t.prototype.ngOnChanges=function(){"chooseOne"===this._jdbMode?this.inputText="":"chooseMore"===this._jdbMode?this.inputText=[]:"chooseNum"===this._jdbMode&&(this.inputText=0),this.setClassMap()},t.prototype.setClassMap=function(){var t,e;"chooseMore"===this._jdbMode?this._classMap=((t={})[""+this._size]=!0,t["jdb-plg-select-bottom-"+this._size]=0!==this.inputText.length,t["jdb-plg-select-disabled"]=this._jdbDisabled,t[this.jdbClassName]=!0,t):this._classMap=((e={})[""+this._size]=!0,e["jdb-plg-select-disabled"]=this._jdbDisabled,e[this.jdbClassName]=!0,e)},t.prototype.clearInputText=function(t){t.stopPropagation(),"chooseOne"===this._jdbMode?this.inputText="":"chooseMore"===this._jdbMode?(this.inputText=[],this._chooseMoreArray=[]):"chooseNum"===this._jdbMode&&(this.inputText=0,this._chooseMoreArray=[]),this.isShowClear=!this.isShowClear,this.ngModelValue="",this.onChange(""),this.setClassMap()},t.prototype.dialogShow=function(t){t.stopPropagation(),this._jdbDisabled||(this.isShowClear=!1,this.show=!this.show,this.renderer.setElementClass(this.inputDom.nativeElement,"jdb-plg-select-active",this.show),this.optionPosition(this.optionList.nativeElement.clientHeight))},t.prototype.optionPosition=function(t){var e,n=this.getTop(this.inputDom.nativeElement),o=this.getScrollTop(this.inputDom.nativeElement.parentElement),i=document.documentElement.clientHeight||document.body.clientHeight,r=this.inputDom.nativeElement.clientHeight;"small"===this.jdbSize?e=2:"large"===this.jdbSize?e=9:"middle"===this.jdbSize&&(e=5),i-n-r-e+o<t?(this.spaceFlex=!1,this.renderer.setElementStyle(this.optionList.nativeElement,"transform-origin","100% 100%"),t<188?this.renderer.setElementStyle(this.optionList.nativeElement,"top",-t-5+"px"):this.renderer.setElementStyle(this.optionList.nativeElement,"top",-190-e+"px")):(this.spaceFlex=!0,this.renderer.setElementStyle(this.optionList.nativeElement,"top",""),this.renderer.setElementStyle(this.optionList.nativeElement,"transform-origin","0% 0%"))},t.prototype.writeValue=function(t){null===(this.ngModelValue=t)||""===t||void 0===t?"chooseMore"===this._jdbMode?this.inputText=[]:this.inputText="":"chooseOne"===this._jdbMode?this.forOneStart(t):"chooseMore"===this._jdbMode?(this.forMoreStart(t),this.setClassMap()):"chooseNum"===this._jdbMode&&this.forNumStart(t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.forOneStart=function(e){var n=this;this._selectList.forEach(function(t){t[n._optionValue]===e&&(n.inputText=t[n._optionText])})},t.prototype.forMoreStart=function(t){var n=this;(t=t.split(",")).forEach(function(e){n._selectList.forEach(function(t){if(t[n._optionValue]===e){n._optionText,n._optionValue;return n.inputText.push({text:t[n._optionText],value:t[n._optionValue]}),void n._chooseMoreArray.push(t[n._optionValue])}})})},t.prototype.forNumStart=function(t){var n=this;(t=t.split(",")).forEach(function(e){n._selectList.forEach(function(t){if(t[n._optionValue]===e)return n.inputText++,void n._chooseMoreArray.push(t[n._optionValue])})})},t.prototype.item=function(t,e){t.stopPropagation(),this.show&&e[this._jdbItemDisabled]!==this._jdbSureDisabled&&(this.inputText=e[this._optionText],this.show=!this.show,this.renderer.setElementClass(this.inputDom.nativeElement,"jdb-plg-select-active",this.show),this.ngModelValue=e[this._optionValue],this.onChange(e[this._optionValue]))},t.prototype.chooseMore=function(t,n){var o=this,i=!1;if(t.stopPropagation(),this.show&&n[this._jdbItemDisabled]!==this._jdbSureDisabled)if(this.inputText.forEach(function(t,e){t[o._optionValue]!==n[o._optionValue]||(i=!0)}),i)this.deleteMoreItem(t,n);else{this._optionText,this._optionValue;this.inputText.push({text:n[this._optionText],value:n[this._optionValue]}),this._chooseMoreArray.push(n[this._optionValue]),this.ngModelValue=this._chooseMoreArray.toString(),this.onChange(this._chooseMoreArray),this.show=!0,this.setClassMap()}},t.prototype.numClick=function(t,n){var o=this,i=!1;t.stopPropagation(),this.show&&n[this._jdbItemDisabled]!==this._jdbSureDisabled&&(this._chooseMoreArray.forEach(function(t,e){if(t===n[o._optionValue])return i=!0,void o._chooseMoreArray.splice(e,1)}),i?this.inputText--:(this.inputText++,this.show=!0,this._chooseMoreArray.push(n[this._optionValue]),this.ngModelValue=this._chooseMoreArray.toString(),this.onChange(this._chooseMoreArray)))},t.prototype.moreIndex=function(n){var o=this,i=!1;return this._chooseMoreArray.forEach(function(t,e){t!==n[o._optionValue]||(i=!0)}),i},t.prototype.deleteMoreItem=function(t,n){var o=this;t.stopPropagation(),this._jdbDisabled||(this.inputText.forEach(function(t,e){t[o._optionValue]!==n[o._optionValue]||o.inputText.splice(e,1)}),this._chooseMoreArray.forEach(function(t,e){t!==n[o._optionValue]||o._chooseMoreArray.splice(e,1)}),this.ngModelValue=this._chooseMoreArray.toString(),this.onChange(this._chooseMoreArray),this.setClassMap())},t.prototype.toBoolean=function(t){return""===t||t&&"false"!==t},t.prototype.getTop=function(t){var e=t.offsetTop;if(null!=t.offsetParent){if(t.style.transform){var n=this.parseTranslateY(t.style.transform);e+=n.isPercent?t.clientHeight*n.translateY/100:n.translateY}e+=this.getTop(t.offsetParent)}return e},t.prototype.getScrollTop=function(t){var e=t.scrollTop;return null!=t.parentElement&&(e+=this.getScrollTop(t.parentElement)),e},t.prototype.parseTranslateY=function(t){var e,n,o=/\(([^()]+)\)/g.exec(t)[1],i=o.split(",");return-1===t.indexOf("translate")?{isPercent:!1,translateY:0}:(2===i.length?e=o.split(",")[1]:1===i.length&&-1!==t.indexOf("translateY")&&(e=o),-1!==e.indexOf("px")?(n=!1,e=Number(e.slice(0,-2))):-1!==e.indexOf("%")&&(n=!0,e=Number(e.slice(0,-1))),{isPercent:n,translateY:e})},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-select",template:'\x3c!-- 单选 --\x3e <div *ngIf="_jdbMode==\'chooseOne\'" #inputDom class="jdb-plg-select-one" (click)="dialogShow($event)" [ngClass]="_classMap" [ngStyle]="{\'width\':_width}"> \x3c!-- placeHolder --\x3e <div class="jdb-plg-select-placeholder" [hidden]="inputText!=\'\'">{{_placeHolder}}</div> \x3c!-- 单选 --\x3e \x3c!-- <span class="chooseOne" [hidden]="inputText==\'\'">{{inputText}}</span> --\x3e <input class="chooseOne chooseOneInput" [hidden]="inputText==\'\'" type="text" [(ngModel)]="inputText" readonly> <ul #optionList [ngClass]="{ \'options-show\':show, \'options-no-margin\':!spaceFlex} " class="options "> \x3c!-- 单选 --\x3e <li *ngFor="let option of _selectList " (click)="item($event,option) " [ngClass]="{active:ngModelValue===option[_optionValue],disabled:option[_jdbItemDisabled] === _jdbSureDisabled} "> <img class="img-box" *ngIf="_showImgBox&&option.imgUrl" [src]="option.imgUrl" alt=""> <span class="img-box" *ngIf="_showImgBox&&!option.imgUrl"></span> <span class="text-box">{{_optionText==\'option\'?option:option[_optionText]}}</span> </li> </ul> \x3c!-- 清空图标 --\x3e <span class="close-icon icon-empty " [hidden]="!isShowClear " (click)="clearInputText($event) "></span> \x3c!-- 单选时下拉图标 --\x3e <span class="select-icon icon-select-arrow " [hidden]="isShowClear "></span> </div> \x3c!-- 多选 --\x3e <div *ngIf="_jdbMode==\'chooseMore\' " #inputDom class="jdb-plg-select-more " (click)="dialogShow($event) " [ngClass]="_classMap " [ngStyle]="{ \'width\':_width} "> \x3c!-- placeHolder --\x3e <div class="jdb-plg-select-placeholder " [hidden]="inputText.length !=0 ">{{_placeHolder}}</div> \x3c!-- 多选item --\x3e <ul class="chooseMore "> <li *ngFor="let item of inputText "> {{item.text}} <span class="item-delete icon-close " (click)="deleteMoreItem($event,item) "></span> </li> </ul> <ul #optionList [ngClass]="{ \'options-show\':show, \'options-no-margin\':!spaceFlex} " class="options "> <li class="choose-more " *ngFor="let option of _selectList " (click)="chooseMore($event,option) " [ngClass]="{ \'active\':moreIndex(option),disabled:option[_jdbItemDisabled] === _jdbSureDisabled} "> \x3c!-- {{_optionText==\'option\'?option:option[_optionText]}} --\x3e <img class="img-box" *ngIf="_showImgBox&&option.imgUrl" [src]="option.imgUrl" alt=""> <span class="img-box" *ngIf="_showImgBox&&!option.imgUrl"></span> <span class="text-box">{{_optionText==\'option\'?option:option[_optionText]}}</span> <span [hidden]="!moreIndex(option) " class="choose-right icon-selected "></span> </li> </ul> \x3c!-- 清空图标 --\x3e <span class="close-icon icon-empty " [hidden]="!isShowClear " (click)="clearInputText($event) "></span> </div> \x3c!-- 选中几项 --\x3e <div *ngIf="_jdbMode==\'chooseNum\' " #inputDom class="jdb-plg-select-num " (click)="dialogShow($event) " [ngClass]="_classMap " [ngStyle]="{ \'width\':_width} "> \x3c!-- placeHolder --\x3e <div class="jdb-plg-select-placeholder " [hidden]="inputText!=0 ">{{_placeHolder}}</div> <span class="choose-tip " [hidden]="inputText==0 ">已选中{{inputText}}项</span> <ul #optionList [ngClass]="{ \'options-show\':show, \'options-no-margin\':!spaceFlex} " class="options "> <li class="choose-more " *ngFor="let option of _selectList " (click)="numClick($event,option) " [ngClass]="{ \'active\':moreIndex(option),disabled:option[_jdbItemDisabled] === _jdbSureDisabled} "> \x3c!-- {{_optionText==\'option\'?option:option[_optionText]}} --\x3e <img class="img-box" *ngIf="_showImgBox&&option.imgUrl" [src]="option.imgUrl" alt=""> <span class="img-box" *ngIf="_showImgBox&&!option.imgUrl"></span> <span class="text-box">{{_optionText==\'option\'?option:option[_optionText]}}</span> <span [hidden]="!moreIndex(option) " class="choose-right icon-selected "></span> </li> </ul> \x3c!-- 清空图标 --\x3e <span class="close-icon icon-empty " [hidden]="!isShowClear " (click)="clearInputText($event) "></span> <span class="select-icon icon-select-arrow " [hidden]="isShowClear "></span> </div> \x3c!-- 遮罩层 --\x3e <div class="jdb-plg-select-master " *ngIf="show "></div>',styleUrls:["./jdb-plg-select.component.scss"],providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return t}),multi:!0}]}]}],t.ctorParameters=function(){return[{type:c.Renderer2},{type:c.Renderer}]},t.propDecorators={jdbClassName:[{type:c.Input}],jdbItemDisabled:[{type:c.Input}],jdbSureDisabled:[{type:c.Input}],jdbPlaceHolder:[{type:c.Input}],jdbClear:[{type:c.Input}],jdbSelectList:[{type:c.Input}],jdbSize:[{type:c.Input}],jdbWidth:[{type:c.Input}],jdbOptionText:[{type:c.Input}],jdbOptionValue:[{type:c.Input}],jdbDisabled:[{type:c.Input}],jdbMode:[{type:c.Input}],inputDom:[{type:c.ViewChild,args:["inputDom"]}],optionList:[{type:c.ViewChild,args:["optionList"]}]},t}(),C=function(){function t(){this._value="",this._type="text",this._placeHolder="",this._size="default",this._disabled=!1,this._readonly=!1,this._error=!1,this._inputWrapClass=[],this._clear=!1,this._autoPromptData=[],this._composing=!1,this.width="300px",this.onChange=function(){return null},this.jdbBlur=new c.EventEmitter,this.jdbFocus=new c.EventEmitter}return t.prototype.ngOnInit=function(){this._prefixContent&&this._inputWrapClass.push("prefix")},t.prototype.compositionStart=function(t){this._composing=!0},t.prototype.compositionEnd=function(t){this._composing=!1,this.onChange(this._value)},Object.defineProperty(t.prototype,"jdbType",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbPlaceHolder",{get:function(){return this._placeHolder},set:function(t){this._placeHolder=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSize",{get:function(){return this._size},set:function(t){this._size={large:"lg",small:"sm"}[t],this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbDisabled",{get:function(){return this._disabled},set:function(t){this._disabled=this.toBoolean(t),this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbReadonly",{get:function(){return this._readonly},set:function(t){this._readonly=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbValue",{get:function(){return"0"==this._value?"0":this._value||""},set:function(t){this._value===t||null==this._value&&null==t||(this._value=t,this._composing||this.onChange(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbError",{get:function(){return this._error},set:function(t){this._error=this.toBoolean(t),this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbClear",{get:function(){return this._clear},set:function(t){this._clear=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbMaxLength",{get:function(){return this._maxlength},set:function(t){this._maxlength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbPromptData",{get:function(){return this._autoPromptData},set:function(t){this._autoPromptData=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this._value=t},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){},t.prototype._emitBlur=function(t){this.jdbBlur.emit(t)},t.prototype._emitFocus=function(t){this.jdbFocus.emit(t)},t.prototype.textareaOnChange=function(t){},t.prototype.setClassMap=function(){var t;this._classMap=((t={})["input-"+this._type+"-"+this._size]=!0,t["input-disabled"]=this._disabled,t["input-error"]=this._error,t)},t.prototype.clearTxt=function(){this._value="",this.onChange("")},t.prototype.toBoolean=function(t){return""===t||t&&"false"!==t},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-input",template:'<span class="input-group-addon" *ngIf="_addOnContentBefore"> <ng-template [ngTemplateOutlet]="_addOnContentBefore"> </ng-template> </span> <ng-template [ngIf]="_type==\'text\'"> <div class="input-text-wrap" [ngClass]="_inputWrapClass"> <span class="input-prefix" *ngIf="_prefixContent"> <ng-template [ngTemplateOutlet]="_prefixContent"> </ng-template> </span> <input (blur)="_emitBlur($event)" (focus)="_emitFocus($event)" [disabled]="_disabled" [readonly]="_readonly" [attr.type]="_type" class="input" [ngClass]="_classMap" [attr.placeholder]="_placeHolder" [(ngModel)]="jdbValue" [style.width]="width" maxlength="{{jdbMaxLength}}" /> <span class="input-clear" *ngIf="_clear && _value && _type==\'text\'" (click)="clearTxt()"> <i class="close-icon icon-empty"></i> </span> <span class="ant-input-suffix" *ngIf="_suffixContent"> <i class="iconfont icon-guanbi2fill"></i> <ng-template [ngTemplateOutlet]="_suffixContent"> </ng-template> </span> </div> <div class="input-error-tip" *ngIf="jdbError && _errorContent"> <i class="icon-message-error error-tip"></i> <span> <ng-template [ngTemplateOutlet]="_errorContent"> </ng-template> </span> </div> </ng-template> <span class="input-group-addon" *ngIf="_addOnContentAfter"> <ng-template [ngTemplateOutlet]="_addOnContentAfter"> </ng-template> </span> <ng-template [ngIf]="_type==\'textarea\'"> <div class="input-text-wrap"> <textarea (blur)="_emitBlur($event)" (focus)="_emitFocus($event)" (input)="textareaOnChange($event)" #inputTextarea [disabled]="_disabled" [readonly]="_readonly" type="textarea" class="input input-textarea" [ngClass]="_classMap" [attr.placeholder]="jdbPlaceHolder" [(ngModel)]="jdbValue" maxlength="{{jdbMaxLength}}" [style.width]="width"></textarea> <span class="textarea-wc-tip" [ngClass]="{\'textarea-wc-tip-red\': jdbValue&&jdbValue.length == jdbMaxLength}" *ngIf="jdbMaxLength && !_disabled &&!_readonly">{{(jdbValue&&jdbValue.length)||0}}/{{jdbMaxLength}}</span> </div> </ng-template>',styleUrls:["./jdb-plg-input.component.scss"],encapsulation:c.ViewEncapsulation.None,providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return t}),multi:!0}]}]}],t.propDecorators={width:[{type:c.Input}],_errorContent:[{type:c.ContentChild,args:["jdbErrorContent"]}],_addOnContentBefore:[{type:c.ContentChild,args:["addContentBefore"]}],_addOnContentAfter:[{type:c.ContentChild,args:["addContentAfter"]}],_prefixContent:[{type:c.ContentChild,args:["prefixContent"]}],_suffixContent:[{type:c.ContentChild,args:["suffixContent"]}],jdbBlur:[{type:c.Output}],jdbFocus:[{type:c.Output}],compositionStart:[{type:c.HostListener,args:["compositionstart",["$event"]]}],compositionEnd:[{type:c.HostListener,args:["compositionend",["$event"]]}],jdbType:[{type:c.Input}],jdbPlaceHolder:[{type:c.Input}],jdbSize:[{type:c.Input}],jdbDisabled:[{type:c.Input}],jdbReadonly:[{type:c.Input}],jdbValue:[{type:c.Input}],jdbError:[{type:c.Input}],jdbClear:[{type:c.Input}],jdbMaxLength:[{type:c.Input}],jdbPromptData:[{type:c.Input}]},t}(),w=(function(){function t(){}t.prototype.build=function(){return new XMLHttpRequest},t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[]}}(),{Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6});w[w.Get]="Get",w[w.Post]="Post",w[w.Put]="Put",w[w.Delete]="Delete",w[w.Options]="Options",w[w.Head]="Head",w[w.Patch]="Patch";var O={Unsent:0,Open:1,HeadersReceived:2,Loading:3,Done:4,Cancelled:5};O[O.Unsent]="Unsent",O[O.Open]="Open",O[O.HeadersReceived]="HeadersReceived",O[O.Loading]="Loading",O[O.Done]="Done",O[O.Cancelled]="Cancelled";var I={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};I[I.Basic]="Basic",I[I.Cors]="Cors",I[I.Default]="Default",I[I.Error]="Error",I[I.Opaque]="Opaque";var T={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};T[T.NONE]="NONE",T[T.JSON]="JSON",T[T.FORM]="FORM",T[T.FORM_DATA]="FORM_DATA",T[T.TEXT]="TEXT",T[T.BLOB]="BLOB",T[T.ARRAY_BUFFER]="ARRAY_BUFFER";var M=function(){function e(n){var o=this;this._headers=new Map,this._normalizedNames=new Map,n&&(n instanceof e?n.forEach(function(t,e){t.forEach(function(t){return o.append(e,t)})}):Object.keys(n).forEach(function(e){var t=Array.isArray(n[e])?n[e]:[n[e]];o.delete(e),t.forEach(function(t){return o.append(e,t)})}))}return e.fromResponseHeaderString=function(t){var i=new e;return t.split("\n").forEach(function(t){var e=t.indexOf(":");if(0<e){var n=t.slice(0,e),o=t.slice(e+1).trim();i.set(n,o)}}),i},e.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},e.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},e.prototype.forEach=function(n){var o=this;this._headers.forEach(function(t,e){return n(t,o._normalizedNames.get(e),o._headers)})},e.prototype.get=function(t){var e=this.getAll(t);return null===e?null:0<e.length?e[0]:null},e.prototype.has=function(t){return this._headers.has(t.toLowerCase())},e.prototype.keys=function(){return Array.from(this._normalizedNames.values())},e.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},e.prototype.values=function(){return Array.from(this._headers.values())},e.prototype.toJSON=function(){var o=this,i={};return this._headers.forEach(function(t,e){var n=[];t.forEach(function(t){return n.push.apply(n,t.split(","))}),i[o._normalizedNames.get(e)]=n}),i},e.prototype.getAll=function(t){return this.has(t)&&this._headers.get(t.toLowerCase())||null},e.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},e.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},e}(),S=function(){function e(t){void 0===t&&(t={});var e=t.body,n=t.status,o=t.headers,i=t.statusText,r=t.type,s=t.url;this.body=null!=e?e:null,this.status=null!=n?n:null,this.headers=null!=o?o:null,this.statusText=null!=i?i:null,this.type=null!=r?r:null,this.url=null!=s?s:null}return e.prototype.merge=function(t){return new e({body:t&&null!=t.body?t.body:this.body,status:t&&null!=t.status?t.status:this.status,headers:t&&null!=t.headers?t.headers:this.headers,statusText:t&&null!=t.statusText?t.statusText:this.statusText,type:t&&null!=t.type?t.type:this.type,url:t&&null!=t.url?t.url:this.url})},e}(),E=(function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:I.Default,headers:new M})||this}l(e,t),e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[]}}(S),function(){});function P(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return w.Get;case"POST":return w.Post;case"PUT":return w.Put;case"DELETE":return w.Delete;case"OPTIONS":return w.Options;case"HEAD":return w.Head;case"PATCH":return w.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}var k=function(){function t(){}return t.prototype.encodeKey=function(t){return D(t)},t.prototype.encodeValue=function(t){return D(t)},t}();function D(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var R=function(){function e(t,e){void 0===t&&(t=""),void 0===e&&(e=new k),this.rawParams=t,this.queryEncoder=e,this.paramsMap=function(t){void 0===t&&(t="");var s=new Map;return 0<t.length&&t.split("&").forEach(function(t){var e=t.indexOf("="),n=-1==e?[t,""]:[t.slice(0,e),t.slice(e+1)],o=n[0],i=n[1],r=s.get(o)||[];r.push(i),s.set(o,r)}),s}(t)}return e.prototype.clone=function(){var t=new e("",this.queryEncoder);return t.appendAll(this),t},e.prototype.has=function(t){return this.paramsMap.has(t)},e.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},e.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},e.prototype.set=function(t,e){if(null!=e){var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)}else this.delete(t)},e.prototype.setAll=function(t){var o=this;t.paramsMap.forEach(function(t,e){var n=o.paramsMap.get(e)||[];n.length=0,n.push(t[0]),o.paramsMap.set(e,n)})},e.prototype.append=function(t,e){if(null!=e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},e.prototype.appendAll=function(t){var i=this;t.paramsMap.forEach(function(t,e){for(var n=i.paramsMap.get(e)||[],o=0;o<t.length;++o)n.push(t[o]);i.paramsMap.set(e,n)})},e.prototype.replaceAll=function(t){var i=this;t.paramsMap.forEach(function(t,e){for(var n=i.paramsMap.get(e)||[],o=n.length=0;o<t.length;++o)n.push(t[o]);i.paramsMap.set(e,n)})},e.prototype.toString=function(){var n=this,o=[];return this.paramsMap.forEach(function(t,e){t.forEach(function(t){return o.push(n.queryEncoder.encodeKey(e)+"="+n.queryEncoder.encodeValue(t))})}),o.join("&")},e.prototype.delete=function(t){this.paramsMap.delete(t)},e}(),A=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t="legacy"),this._body instanceof R)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:function(t){for(var e=new Uint16Array(t.length),n=0,o=t.length;n<o;n++)e[n]=t.charCodeAt(n);return e.buffer}(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),L=function(n){function t(t){var e=n.call(this)||this;return e._body=t.body,e.status=t.status,e.ok=200<=e.status&&e.status<=299,e.statusText=t.statusText,e.headers=t.headers,e.type=t.type,e.url=t.url,e}return l(t,n),t.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},t}(A),B=0,N="__ng_jsonp__",F=null;function z(){var t="object"==typeof window?window:{};return null===F&&(F=t[N]={}),F}var H=function(){function t(){}return t.prototype.build=function(t){var e=document.createElement("script");return e.src=t,e},t.prototype.nextRequestID=function(){return"__req"+B++},t.prototype.requestCallback=function(t){return N+"."+t+".finished"},t.prototype.exposeConnection=function(t,e){z()[t]=e},t.prototype.removeConnection=function(t){z()[t]=null},t.prototype.send=function(t){document.body.appendChild(t)},t.prototype.cleanup=function(t){t.parentNode&&t.parentNode.removeChild(t)},t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[]},t}(),V=function(){function t(a,p,l){var c=this;if(this._dom=p,this.baseResponseOptions=l,this._finished=!1,a.method!==w.Get)throw new TypeError("JSONP requests must use GET request method.");this.request=a,this.response=new o.Observable(function(o){c.readyState=O.Loading;var t=c._id=p.nextRequestID();p.exposeConnection(t,c);var e=p.requestCallback(c._id),i=a.url;-1<i.indexOf("=JSONP_CALLBACK&")?i=i.replace("=JSONP_CALLBACK&","="+e+"&"):i.lastIndexOf("=JSONP_CALLBACK")===i.length-"=JSONP_CALLBACK".length&&(i=i.substring(0,i.length-"=JSONP_CALLBACK".length)+"="+e);var r=c._script=p.build(i),n=function(t){if(c.readyState!==O.Cancelled){if(c.readyState=O.Done,p.cleanup(r),!c._finished){var e=new S({body:"JSONP injected script did not invoke callback.",type:I.Error,url:i});return l&&(e=l.merge(e)),void o.error(new L(e))}var n=new S({body:c._responseData,url:i});c.baseResponseOptions&&(n=c.baseResponseOptions.merge(n)),o.next(new L(n)),o.complete()}},s=function(t){if(c.readyState!==O.Cancelled){c.readyState=O.Done,p.cleanup(r);var e=new S({body:t.message,type:I.Error});l&&(e=l.merge(e)),o.error(new L(e))}};return r.addEventListener("load",n),r.addEventListener("error",s),p.send(r),function(){c.readyState=O.Cancelled,r.removeEventListener("load",n),r.removeEventListener("error",s),c._dom.cleanup(r)}})}return t.prototype.finished=function(t){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==O.Cancelled&&(this._responseData=t)},t}(),q=(function(o){function t(t,e){var n=o.call(this)||this;return n._browserJSONP=t,n._baseResponseOptions=e,n}l(t,o),t.prototype.createConnection=function(t){return new V(t,this._browserJSONP,this._baseResponseOptions)},t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[{type:H},{type:S}]}}(E),function(){function e(t){void 0===t&&(t={});var e=t.method,n=t.headers,o=t.body,i=t.url,r=t.search,s=t.params,a=t.withCredentials,p=t.responseType;this.method=null!=e?P(e):null,this.headers=null!=n?n:null,this.body=null!=o?o:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(s||r),this.withCredentials=null!=a?a:null,this.responseType=null!=p?p:null}return Object.defineProperty(e.prototype,"search",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),e.prototype.merge=function(t){return new e({method:t&&null!=t.method?t.method:this.method,headers:t&&null!=t.headers?t.headers:new M(this.headers),body:t&&null!=t.body?t.body:this.body,url:t&&null!=t.url?t.url:this.url,params:t&&this._mergeSearchParams(t.params||t.search),withCredentials:t&&null!=t.withCredentials?t.withCredentials:this.withCredentials,responseType:t&&null!=t.responseType?t.responseType:this.responseType})},e.prototype._mergeSearchParams=function(t){return t?t instanceof R?t.clone():"string"==typeof t?new R(t):this._parseParams(t):this.params},e.prototype._parseParams=function(n){var o=this;void 0===n&&(n={});var i=new R;return Object.keys(n).forEach(function(e){var t=n[e];Array.isArray(t)?t.forEach(function(t){return o._appendParam(e,t,i)}):o._appendParam(e,t,i)}),i},e.prototype._appendParam=function(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)},e}()),U=(function(t){function e(){return t.call(this,{method:w.Get,headers:new M})||this}l(e,t),e.decorators=[{type:c.Injectable}],e.ctorParameters=function(){return[]}}(q),function(p){function t(t){var e=p.call(this)||this,n=t.url;e.url=t.url;var o,i,r=t.params||t.search;if(r){var s=void 0;if(0<(s="object"!=typeof r||r instanceof R?r.toString():(o=r,i=new R,Object.keys(o).forEach(function(e){var t=o[e];t&&Array.isArray(t)?t.forEach(function(t){return i.append(e,t.toString())}):i.append(e,t.toString())}),i).toString()).length){var a="?";-1!=e.url.indexOf("?")&&(a="&"==e.url[e.url.length-1]?"":"&"),e.url=n+a+s}}return e._body=t.body,e.method=P(t.method),e.headers=new M(t.headers),e.contentType=e.detectContentType(),e.withCredentials=t.withCredentials,e.responseType=t.responseType,e}return l(t,p),t.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return T.JSON;case"application/x-www-form-urlencoded":return T.FORM;case"multipart/form-data":return T.FORM_DATA;case"text/plain":case"text/html":return T.TEXT;case"application/octet-stream":return this._body instanceof G?T.ARRAY_BUFFER:T.BLOB;default:return this.detectContentTypeFromBody()}},t.prototype.detectContentTypeFromBody=function(){return null==this._body?T.NONE:this._body instanceof R?T.FORM:this._body instanceof W?T.FORM_DATA:this._body instanceof Y?T.BLOB:this._body instanceof G?T.ARRAY_BUFFER:this._body&&"object"==typeof this._body?T.JSON:T.TEXT},t.prototype.getBody=function(){switch(this.contentType){case T.JSON:case T.FORM:return this.text();case T.FORM_DATA:return this._body;case T.TEXT:return this.text();case T.BLOB:return this.blob();case T.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},t}(A));var J=function(){},$="object"==typeof window?window:J,W=$.FormData||J,Y=$.Blob||J,G=$.ArrayBuffer||J;function K(t,e){return t.createConnection(e).response}function X(t,e,n,o){var i=t;return e?i.merge(new q({method:e.method||n,url:e.url||o,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType})):i.merge(new q({method:n,url:o}))}var Q=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if("string"==typeof t)n=K(this._backend,new U(X(this._defaultOptions,e,w.Get,t)));else{if(!(t instanceof U))throw new Error("First argument must be a url string or Request instance.");n=K(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new U(X(this._defaultOptions,e,w.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new U(X(this._defaultOptions.merge(new q({body:e})),n,w.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new U(X(this._defaultOptions.merge(new q({body:e})),n,w.Put,t)))},t.prototype.delete=function(t,e){return this.request(new U(X(this._defaultOptions,e,w.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new U(X(this._defaultOptions.merge(new q({body:e})),n,w.Patch,t)))},t.prototype.head=function(t,e){return this.request(new U(X(this._defaultOptions,e,w.Head,t)))},t.prototype.options=function(t,e){return this.request(new U(X(this._defaultOptions,e,w.Options,t)))},t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[{type:E},{type:q}]},t}();(function(n){function t(t,e){return n.call(this,t,e)||this}l(t,n),t.prototype.request=function(t,e){if("string"==typeof t&&(t=new U(X(this._defaultOptions,e,w.Get,t))),!(t instanceof U))throw new Error("First argument must be a url string or Request instance.");if(t.method!==w.Get)throw new Error("JSONP requests must use GET request method.");return K(this._backend,t)},t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[{type:E},{type:q}]}})(Q),new c.Version("5.2.11");function Z(t){return"[object Object]"===Object.prototype.toString.call(t)}function tt(t){return"[object Date]"===Object.prototype.toString.call(t)}function et(t){return Z(t)?tt(t)?t.toISOString():function(t){var e={};try{e=JSON.parse(t)}catch(t){console.log("to json parse error")}return e}(t):t}function nt(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function ot(t){if(!t)return"";var s=[];return function n(t,o,e){if(r=t,"[object Array]"===Object.prototype.toString.call(r))t.forEach(function(t,e){n(t,o+"["+(Z(t)?e:"")+"]")});else if(Z(t)&&!tt(t))for(var i in t)n(t[i],o+(e?"":".")+i);else s.push(nt(o)+"="+(null==t?"":nt(et(t))));var r}(t,"",!0),s.join("&")}var it=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;function st(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];for(var i,r=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var a in e=Object(arguments[s]))it.call(e,a)&&(r[a]=e[a]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(e);for(var p=0;p<i.length;p++)rt.call(e,i[p])&&(r[i[p]]=e[i[p]])}}return r}var at=function(){function t(t,e,n){this.http=t,this.componentFactoryResolver=e,this.route=n}return t.prototype.setRootViewContainerRef=function(t){this.vRef=t},t.prototype.toast=function(t,e){void 0===e&&(e=3e3);var n=this.componentFactoryResolver.resolveComponentFactory(h),o=this.vRef.createComponent(n);o.instance.msg=t,o.changeDetectorRef.detectChanges(),setTimeout(function(){o.destroy()},e)},t.prototype.test=function(){alert("jdb services....")},t.prototype.post=function(t,e,i){var n,o,r,s=this,a=(new Date).getTime();i&&i.tokenObj&&(n=localStorage.getItem(i.tokenObj.loginToken),o=localStorage.getItem(i.tokenObj.loginWay),r=localStorage.getItem(i.tokenObj.orgUid));var p={},l=location.hash.split("/")[1];p=ot(p=n?st({},r?{loginToken:n,loginWay:o,orgUid:r,jdbDhTraceId:a+"-"+parseInt(Math.random()*(1e5+1)+1+"")}:{loginToken:n,loginWay:o,jdbDhTraceId:a+"-"+parseInt(Math.random()*(1e5+1)+1+"")},e):st({},e));var c=new M;c.append("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u=t,h=new q({headers:c,method:"post",body:p||{}});return console.log(this.http),this.http.request(u,h).map(function(t){return t.json()}).filter(function(t){if(!t.hasOwnProperty("data")||!t.hasOwnProperty("error"))return s.toast("系统接口格式错误！"),i&&i.reset&&i.reset(),!1;if(i.fns&&0!=i.fns.length)for(var e=i.fns.length,n=0;n<e;n++){var o=i.fns[n];t.error&&1*t.error.returnCode===o.returnCode&&"login"!=l&&o.callback()}return!(!t.error||1*t.error.returnCode!=0)||("boolean"==typeof i?!i||(s.toast(t&&t.error&&t.error.returnUserMessage),!1):!i.isIntercept||(s.toast(t&&t.error&&t.error.returnUserMessage),!1))}).catch(function(t){return d.Observable.throw(t||"Server error")})},t.prototype.postJSON=function(t,e){var n=new M;n.append("Content-Type","application/json;charset=utf-8");var o=t,i=new q({headers:n,method:"post",url:o,body:e||{}});return this.http.request(o,i).map(function(t){return t.json()}).filter(function(t){return!(!t.error||1*t.error.returnCode!=0)}).catch(function(t){return d.Observable.throw(t||"Server error")})},t.prototype.stamp2string=function(t){return t?new Date(t).toJSON().split("T")[0]:null},t.prototype.export=function(t,e){var n=p.Cookie.get("loginInfo"),o={},i={};if(n)try{i={loginToken:(o=JSON.parse(n)).loginToken,employeeId:o.empId}}catch(t){console.log("parse cookie error...")}var r=st({},i,e),s=t+"?";for(var a in r)r[a]&&(s+=a+"="+encodeURIComponent(r[a])+"&");window.location.href=s},t.prototype.getPicSize=function(t){var e=new FileReader;e.onload=function(t){var e=t.target.result,n=new Image;n.onload=function(){var t=n.width,e=n.height;return{height:e,width:t}},n.src=e},e.readAsDataURL(t)},t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[{type:Q},{type:c.ComponentFactoryResolver},{type:r.Router}]},t}(),pt=function(){function t(){}return t.prototype.fillTable=function(t,e,n){t=t||10,n=n||!0;var o,i=(e=e||[]).length,r=t-i,s={unShowOpt:n};if(0!==i&&(e.forEach(function(t){t.unShowOpt=!n}),0!==(o=Object.keys(e[0])).length&&o.forEach(function(t){"unShowOpt"!==t&&(s[t]="[object Array]"==Object.prototype.toString.call(e[0][t])?[]:"")})),0!==i&&0<r)for(var a=0;a<r;a++)e.push(s);return e},t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[]},t}(),lt=function(){function t(t){this.componentFactoryResolver=t}return t.prototype.testPhoneNumber=function(t){return/^[1][3,4,5,7,8][0-9]{9}$/.test(t)},t.prototype.setRootViewContainerRef=function(t){this.vRef=t},t.prototype.toast=function(t,e){void 0===e&&(e=3e3);var n=this.componentFactoryResolver.resolveComponentFactory(h),o=this.vRef.createComponent(n);o.instance.msg=t,o.changeDetectorRef.detectChanges(),setTimeout(function(){o.destroy()},e)},t.prototype.removeNodeFromArray=function(t,e){if(!e)return t;t:for(var n=0,o=t.length;n<o;n++)if(t[n]===e){t.splice(n,1);break t}return t},t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[{type:c.ComponentFactoryResolver}]},t}(),ct=function(){function t(){this.tableErrorText="暂无数据"}return t.prototype.ngOnInit=function(){},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-table-error",template:'<div class="jdb-plg-table-error"> {{tableErrorText}} </div>',styleUrls:["./jdb-plg-table-error.component.scss"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={tableErrorText:[{type:c.Input}]},t}(),ut=function(){function t(){}return t.prototype.transform=function(t){return 0===t.length?"":t.join("、")},t.decorators=[{type:c.Pipe,args:[{name:"provinceReformPipe"}]}],t}(),ht=function(){function t(){}return t.prototype.transform=function(t){return 0===t?"0.00":t?(t/100).toFixed(2):""},t.decorators=[{type:c.Pipe,args:[{name:"amountReformPipe"}]}],t}(),dt=[g,m,y,b,_,v,j,C,f,ct,ut,ht],ft=function(){function t(){}return t.decorators=[{type:c.NgModule,args:[{imports:[s.CommonModule,n.FormsModule,n.ReactiveFormsModule],exports:dt,declarations:[h,f,g,m,y,b,x,j,_,v,C,ct,ut,ht],providers:[at,lt,pt],entryComponents:[h]}]}],t}();t.JdbPlgUiModule=ft,t.ɵe=_,t.ɵf=v,t.ɵh=C,t.ɵd=b,t.ɵg=j,t.ɵi=f,t.ɵj=ct,t.ɵm=h,t.ɵb=m,t.ɵa=g,t.ɵc=y,t.ɵn=x,t.ɵl=ht,t.ɵk=ut,t.ɵp=lt,t.ɵq=pt,t.ɵo=at,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=jdb-plg-ui.umd.min.js.map
