!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/animations"),require("rxjs"),require("@angular/forms"),require("@angular/common/http"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/animations","rxjs","@angular/forms","@angular/common/http","rxjs/operators","@angular/common"],e):e(t["jdb-plg-ui"]={},t.ng.core,t.ng.animations,t.Rx,t.ng.forms,t.ng.common.http,t.Rx.Observable.prototype,t.ng.common)}(this,function(t,c,e,g,n,f,b,i){"use strict";var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=function(){function t(){this.msg=""}return t.prototype.ngOnInit=function(){},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-toast",template:'<div class="toast-wraper" [innerHtml]="msg"> </div> '}]}],t.ctorParameters=function(){return[]},t.propDecorators={msg:[{type:c.Input}]},t}(),r=function(){function t(t,e){this.componentFactoryResolver=t,this._injector=e,this.onTabChange=new c.EventEmitter,this.onTabRemove=new c.EventEmitter,this.onTopComMsg=new c.EventEmitter,this.totalTipChange=new c.EventEmitter,this.items=[],this.tabComs=[],this.curTabIndex=0,this.tabIdComMap={},this.totalTip={isShow:!1}}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(){},t.prototype.addItem=function(t,e,n,i,o){var s=this;if(void 0===i&&(i=""),void 0===o&&(o=!1),!i||!this.tabIdComMap[i]){var r=this.componentFactoryResolver.resolveComponentFactory(t),a=this.target.createComponent(r),l=Object.keys(e);return this.items.push({title:n,isCloseFlag:o,theme:e.theme&&e.theme.name?e.theme.name:null,style:e.theme&&e.theme.style?e.theme.style:null,height:e.theme&&e.theme.height?e.theme.height:null,borderLength:e.theme&&e.theme.borderLength?e.theme.borderLength:null}),l.forEach(function(t){a.instance[t]=e[t]}),this.tabComs.push(a),1<this.items.length&&this.setOneComHide(this.curTabIndex),this.tabSubs=a.instance.onTopComMsg=new c.EventEmitter,this.tabSubs.subscribe(function(t){s.onTopComMsg.emit(t)}),this.curTabIndex=this.items.length-1,i&&(this.tabIdComMap[i]={index:this.curTabIndex,comInstance:a.instance}),a}var p=this.tabIdComMap[i];this.tabChange(p.index)},t.prototype.setOneComHide=function(t){this.tabComs[t].location.nativeElement.style.display="none"},t.prototype.setOneComShow=function(t){this.tabComs[t].location.nativeElement.style.display="block"},t.prototype.tabChange=function(t){this.curTabIndex!==t&&(this.setOneComHide(this.curTabIndex),this.setOneComShow(t),this.curTabIndex=t,this.onTabChange.emit(t),this.tabComs[t].instance.tabRefresh&&this.tabComs[t].instance.tabRefresh({}))},t.prototype.setOneTabShow=function(t){this.tabChange(t)},t.prototype.removeTab=function(t){this.tabComs[t].destroy(),this.tabComs.splice(t,1),this.items.splice(t,1),t<=this.curTabIndex&&this.curTabIndex--,this.curTabIndex<0&&(this.curTabIndex=0),this.setOneComShow(this.curTabIndex),this.onTabRemove.emit(t);var e=this.tabIdComMap;for(var n in e)if(e[n].index==t){delete e[n];break}},t.prototype.removeTabById=function(t){var e=this.tabIdComMap;for(var n in e)if(n==t){this.removeTab(e[n].index);break}},t.prototype.ngOnDestroy=function(){this.target&&this.target.clear()},t.decorators=[{type:c.Component,args:[{selector:"jdb-tab",template:'<div class="tab-wraper"> <div class="tab-nav-wraper"> <div *ngFor="let item of items;let i = index;" class="tab-item {{item.theme}} {{item.style}} tab-item-hei{{item.height}}" [ngClass]="{\'tab-selected\':i == curTabIndex, \'trapezoid1\':item.theme === \'trapezoid\'&&(i == 0)}" title=\'{{item.title}}\'> <div (click)="tabChange(i)" class="tab-text" [ngClass]="{\'trapezoid-div\':item.theme === \'trapezoid\'}"> {{item.title}}<span *ngIf="totalTip.isShow ? totalTip.isShow : false" class="tab-total">{{totalTip[i]}}</span> </div> <span class="close-btn" (click)="removeTab(i)" *ngIf="i !== 0 && item.isCloseFlag != true">&times;</span> <div *ngIf="item.borderLength === \'short\'" class="self-border"></div> </div> </div> <div class="tab-content-wraper"> <div #tabContent class="place-holder"></div> </div> </div> '}]}],t.ctorParameters=function(){return[{type:c.ComponentFactoryResolver},{type:c.Injector}]},t.propDecorators={target:[{type:c.ViewChild,args:["tabContent",{read:c.ViewContainerRef}]}],onTabChange:[{type:c.Output}],onTabRemove:[{type:c.Output}],onTopComMsg:[{type:c.Output}],totalTip:[{type:c.Input}],totalTipChange:[{type:c.Output}]},t}(),a=function(){function t(){this.update=new c.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.closeModel=function(){this.update.emit({status:!1})},t.decorators=[{type:c.Component,args:[{selector:"app-show-picture",template:'<div> <div class="img-mask" (click)="closeModel()"> \x3c!-- 遮罩层 --\x3e </div> <div class="img-content"> <span class="close" (click)="closeModel()"> <img src="/assets/images/close-x.png" alt=""> </span> <img [src]="pictureUrl" alt="" style="max-height: 600px;max-width: 800px;"> </div> </div> '}]}],t.ctorParameters=function(){return[]},t.propDecorators={pictureUrl:[{type:c.Input}],update:[{type:c.Output}]},t}(),l=function(){function t(t){this.renderer=t,this.pictureList=[],this.update=new c.EventEmitter,this.maxWidth=800,this.maxHeight=600,this.jdbShowType=1,this._jdbMaster=!0,this._jdbClear=!0,this.dragStatus=!1,this.current=0,this.imgOperate={num:1,degnum:0}}return Object.defineProperty(t.prototype,"jdbMaster",{get:function(){return this._jdbMaster},set:function(t){this._jdbMaster=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbClear",{get:function(){return this._jdbClear},set:function(t){this._jdbClear=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbCurrent",{get:function(){return this.current},set:function(t){t>this.pictureList.length||t<0?this.current=0:this.current=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.elem=this.imgBox.nativeElement.children},t.prototype.ngOnChanges=function(){var n=this;this.pictureList&&this.pictureList.forEach(function(t,e){n.resetPosition(e)})},t.prototype.ngAfterViewInit=function(){var t=this.imgContent.nativeElement;this.renderer.setElementStyle(t,"height",this.maxHeight+"px"),this.renderer.setElementStyle(t,"width",this.maxWidth+"px"),1==this.jdbShowType&&(this.renderer.setElementStyle(t,"margin-left",-this.maxWidth/2+"px"),this.renderer.setElementStyle(t,"margin-top",-this.maxHeight/2+"px"))},t.prototype.resetPosition=function(s){var r=this,a=new Image;a.onload=function(){var t,e,n=a.width,i=a.height,o=n/i;e=r.maxWidth/n,t=r.maxHeight/i,1<e&&1<t?(n=n,i=i):e<1&&t<1?1<o?i=(n=r.maxWidth)/o:o<1&&(n=(i=r.maxHeight)*o):1<e&&t<1?(i=r.maxHeight,n*=t):e<1&&1<t&&(i*=e,n=r.maxWidth),r.renderer.setElementStyle(r.elem[s].children[0],"height",i+"px"),r.renderer.setElementStyle(r.elem[s].children[0],"width",n+"px"),n===r.maxWidth&&i===r.maxHeight?(r.renderer.setElementStyle(r.elem[s].children[0],"top","0px"),r.renderer.setElementStyle(r.elem[s].children[0],"left","0px")):(r.renderer.setElementStyle(r.elem[s].children[0],"top",(r.maxHeight-i)/2+"px"),r.renderer.setElementStyle(r.elem[s].children[0],"left",(r.maxWidth-n)/2+"px"))},a.src=this.pictureList[s].imgUrl},t.prototype.ImgState=function(t){if(!this.pictureList||!this.pictureList.length)return"off";if(0===this.current)return 0===t?"on":1===t?"next":t===this.pictureList.length-1?"prev":"off";if(this.current===this.pictureList.length-1)return t===this.pictureList.length-1?"on":t===this.pictureList.length-2?"prev":0===t?"next":"off";switch(t-this.current){case 0:return"on";case 1:return"next";case-1:return"prev";default:return"off"}},t.prototype.Next=function(){this.resetImgData(),this.current=(this.current+1)%this.pictureList.length,this.resetPosition(this.current-1)},t.prototype.Prev=function(){this.resetImgData(),this.current=this.current-1<0?this.pictureList.length-1:this.current-1,this.resetPosition(this.current+1)},t.prototype.closeModel=function(){this.resetImgData(),this.update.emit({status:!1})},t.prototype.scaleBig=function(){this.imgOperate.num=2*this.imgOperate.num,4<this.imgOperate.num&&(this.imgOperate.num=4);var t="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",t)},t.prototype.scaleSmall=function(){this.imgOperate.num=this.imgOperate.num/2,this.imgOperate.num<1&&(this.imgOperate.num=.5);var t="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",t)},t.prototype.routateNi=function(){this.imgOperate.degnum++;var t="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",t)},t.prototype.routateShun=function(){this.imgOperate.degnum--;var t="scale("+1*this.imgOperate.num+","+1*this.imgOperate.num+") rotate("+90*-this.imgOperate.degnum+"deg)";this.renderer.setElementStyle(this.elem[this.current].children[0],"transform",t)},t.prototype.resetImgData=function(){this.imgOperate={num:1,degnum:0};this.renderer.setElementStyle(this.elem[this.current].children[0],"transition","transform 0.2s linear 0.4s"),this.renderer.setElementStyle(this.elem[this.current].children[0],"transform","scale(1,1) rotate(0deg)")},t.prototype.toBoolean=function(t){return""===t||t&&"false"!==t},t.prototype.ngOnDestroy=function(){this.pictureList=null,this.imgBox=null,this.imgContent=null,this.current=null},t.decorators=[{type:c.Component,args:[{selector:"app-picture-viewer",template:'<div class="picture-viewer"> <div class="img-mask" *ngIf="_jdbMaster" (click)="closeModel()"> \x3c!-- 遮罩层 --\x3e </div> <div #imgContent [ngClass]="{\'img-content-componet\':jdbShowType==2}" class="img-content"> \x3c!-- 右上角关闭按钮 --\x3e <div class="close" *ngIf="_jdbClear" (click)="closeModel()"> <span class="icon-close"></span> </div> \x3c!-- 图片box --\x3e <ul class="img-box" #img> <li *ngFor="let item of pictureList;let i=index" [@imgMove]="ImgState(i)"> <img appDragDirective  [src]="item.imgUrl" alt="" style="max-height: 600px;max-width: 800px;"> </li> </ul> \x3c!-- 上一页下一页 --\x3e <div [hidden]="current==0" class="prev-page" (click)="Prev()"> <span class="icon-pagination-prev"></span> </div> <div [hidden]="current==pictureList.length-1" class="next-page" (click)="Next()"> <span class="icon-pagination-next"></span> </div> \x3c!-- 右下角页码 --\x3e <div class="img-index">{{current+1}}/{{pictureList.length}}</div> \x3c!-- 缩放旋转按钮组 --\x3e <div class="btn-box"> <span [ngClass]="{\'hover-disabled\':imgOperate.num===4}" class="icon-picture-zoom-in scale-big" (click)="scaleBig()"></span> <span [ngClass]="{\'hover-disabled\':imgOperate.num==0.5}" class="icon-picture-zoom-out  scale-small" (click)="scaleSmall()"></span> <span class="icon-picture-counterclockwise routate-ni" (click)="routateNi()"></span> <span class="icon-picture-clockwise routate-shun" (click)="routateShun()"></span> </div> </div> </div>',animations:[e.trigger("imgMove",[e.state("off",e.style({display:"none","z-index":"0",transform:"translateX(0)"})),e.state("prev",e.style({"z-index":"1",transform:"translateX(-100%)"})),e.state("next",e.style({"z-index":"2",transform:"translateX(100%)"})),e.state("on",e.style({"z-index":"3",transform:"translateX(0)"})),e.transition("prev=>on",[e.animate("0.3s ease-in")]),e.transition("next=>on",[e.animate("0.3s ease-in")]),e.transition("on=>prev",[e.animate("0.3s ease-in")]),e.transition("on=>next",[e.animate("0.3s ease-in")])])]}]}],t.ctorParameters=function(){return[{type:c.Renderer}]},t.propDecorators={pictureList:[{type:c.Input}],update:[{type:c.Output}],imgBox:[{type:c.ViewChild,args:["img"]}],imgContent:[{type:c.ViewChild,args:["imgContent"]}],maxWidth:[{type:c.Input}],maxHeight:[{type:c.Input}],jdbShowType:[{type:c.Input}],jdbMaster:[{type:c.Input}],jdbClear:[{type:c.Input}],jdbCurrent:[{type:c.Input}]},t}(),p=function(){function t(t,e){this.elem=t,this.render=e,this.isDown=!1}return t.prototype.onMousedown=function(t){localStorage.getItem("dragWidth"),localStorage.getItem("dragHeight");this.isDown=!0,this.disLeft=this.elem.nativeElement.offsetLeft,this.disTop=this.elem.nativeElement.offsetTop,this.disX=t.clientX,this.disY=t.clientY,t.target.style.cursor="move"},t.prototype.onMousemove=function(t){if(t.preventDefault(),this.isDown){var e=t.clientX-this.disX,n=t.clientY-this.disY;this.elem.nativeElement.style.left=e+this.disLeft+"px",this.elem.nativeElement.style.top=n+this.disTop+"px"}return!1},t.prototype.onMouseup=function(){this.isDown&&(this.isDown=!1,this.disLeft=this.elem.nativeElement.offsetLeft,this.disTop=this.elem.nativeElement.offsetTop)},t.prototype.onMouseleave=function(){this.isDown=!1},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:c.Directive,args:[{selector:"img[appDragDirective]"}]}],t.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer}]},t.propDecorators={onMousedown:[{type:c.HostListener,args:["mousedown",["$event"]]}],onMousemove:[{type:c.HostListener,args:["mousemove",["$event"]]}],onMouseup:[{type:c.HostListener,args:["mouseup",["$event"]]}],onMouseleave:[{type:c.HostListener,args:["mouseleave",["$event"]]}]},t}(),u=function(){function t(t,e){this.el=t,this.renderer2=e,this._current=1,this._pageSize=10,this._firstIndex=1,this._lastIndex=1/0,this._showTotal=!1,this._showPageSize=!1,this._showQuickJump=!1,this.pages=[],this._options=[{value:10,text:"10条/页"},{value:20,text:"20条/页"},{value:30,text:"30条/页"},{value:40,text:"40条/页"},{value:50,text:"50条/页"}],this._jdbSimple=!1,this._jdbSelectWidth="90px",this.jdbPageSizeChange=new c.EventEmitter,this.jdbPageIndexChange=new c.EventEmitter}return Object.defineProperty(t.prototype,"jdbShowTotal",{get:function(){return this._showTotal},set:function(t){this._showTotal=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbTotal",{get:function(){return this._total},set:function(t){t!==this._total&&(this._total=t,this.setPageNo())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbPageIndex",{get:function(){return this._current},set:function(t){this._current!==t&&(t>this._lastIndex||t<this._firstIndex||(this._current=Number(t),this.setPageNo()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbShowPageSize",{get:function(){return this._showPageSize},set:function(t){this._showPageSize=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbPageSize",{get:function(){return this._pageSize},set:function(t){t!==this._pageSize&&(this._pageSize=t,this.setPageNo())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSizeOptions",{get:function(){return this._options},set:function(t){if(t!==this._options&&"[object Array]"===Object.prototype.toString.call(t)){var n=[];t.forEach(function(t){var e={value:t,text:t+"条/页"};n.push(e)}),this._options=n}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbShowQuickJump",{get:function(){return this._showQuickJump},set:function(t){this._showQuickJump=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSimple",{get:function(){return this.jdbSimple},set:function(t){this._jdbSimple=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSelectWidth",{get:function(){return this._jdbSelectWidth},set:function(t){this._jdbSelectWidth=t},enumerable:!0,configurable:!0}),t.prototype.setPageNo=function(){this._lastIndex=Math.ceil(this._total/this._pageSize);var t=[];if(this._lastIndex<=9)for(var e=2;e<=this._lastIndex-1;e++)t.push({index:e});else{var n=+this._current,i=Math.max(2,n-2),o=Math.min(n+2,this._lastIndex-1);5===n?i=2:n===this._lastIndex-4&&(o=this._lastIndex-1),n-1<=3&&(o=7),this._lastIndex-n<=3&&(i=this._lastIndex-6);for(e=i;e<=o;e++)t.push({index:e})}this.pages=t},t.prototype.dataChange=function(t,e,n){if(n&&n.stopPropagation(),t){if(e===this._firstIndex-1||e===this._lastIndex+1)return;this.quickJumpPage="",this.jdbPageIndex=e,this.jdbPageIndexChange.emit(this.jdbPageIndex)}else this.quickJumpPage="",this.jdbPageSize=e,this.jdbPageSizeChange.emit(e),this.jdbPageIndex=1,this.jdbPageIndexChange.emit(this.jdbPageIndex),this.setPageNo()},t.prototype.quickJump=function(){if(this.quickJumpPage>this._lastIndex)return this.inputJump.nativeElement.focus(),void(this.quickJumpPage="");this.quickJumpPage&&(this.jdbPageIndex=this.quickJumpPage,this.jdbPageIndexChange.emit(this.jdbPageIndex))},t.prototype.jumpBefore=function(t,e){this.dataChange(!0,this._current-Math.round(e/2),t)},t.prototype.jumpAfter=function(t,e){this.dataChange(!0,this._current+Math.round(e/2),t)},t.prototype.toBoolean=function(t){return""===t||t&&"false"!==t},t.prototype.isNumber=function(t){return/^[0-9]*$/.test(t)},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-pagination",template:'<div class="jdb-plg-pagination">\n    \x3c!-- 总条数 --\x3e\n    <span *ngIf="_showTotal" class="total-box">\n      共{{_total}}条\n    </span>\n\n    <div class="operate-box">\n        \x3c!-- 条数切换 --\x3e\n        <div class="jdb-plg-pagination-options" *ngIf="_showPageSize">\n            <app-jdb-plg-select (ngModelChange)="dataChange(false,$event)" [jdbSize]="\'small\'" [jdbWidth]="_jdbSelectWidth" [(ngModel)]="_pageSize" [jdbSelectList]="_options"></app-jdb-plg-select>\n        </div>\n        \x3c!-- 基本分页样式 --\x3e\n        <ul *ngIf="!_jdbSimple" class="base-pagination">\n            \x3c!-- 上一页按钮 --\x3e\n            <li class="jdb-plg-pagination-prev" title="上一页" [ngClass]="{\'disabled\':_current===_firstIndex}" (click)="dataChange(true,_current-1,$event)">\n                <span class="jdbIcon icon-pagination-prev"></span>\n            </li>\n            \x3c!-- 首页按钮 --\x3e\n            <li class="jdb-plg-pagination-first" title="首页" [ngClass]="{\'active\':_current===_firstIndex}" (click)="dataChange(true,_firstIndex,$event)">\n                {{_firstIndex}}\n            </li>\n            \x3c!-- 省略号 --\x3e\n            <li class="jdb-plg-pagination-forward" *ngIf="(_lastIndex >9)&&(_current-4>_firstIndex)" (click)="jumpBefore($event,_pageSize)">\n                <span class="icon-pagination-more"></span>\n                <span class="icon-pagination-jump-prev"></span>\n            </li>\n            \x3c!-- 按钮 --\x3e\n            <li class="jdb-plg-pagination-pager" *ngFor="let page of pages" [ngClass]="{\'active\':_current===page.index}" (click)="dataChange(true,page.index,$event)">\n                {{page.index}}\n            </li>\n            \x3c!-- 省略号 --\x3e\n            <li class="jdb-plg-pagination-backward" *ngIf="(_lastIndex >9)&&(_current+4<_lastIndex)" (click)="jumpAfter($event,_pageSize)">\n                <span class="icon-pagination-more"></span>\n                <span class="icon-pagination-jump-next"></span>\n            </li>\n            \x3c!-- 尾页按钮 --\x3e\n            <li class="jdb-plg-pagination-last" *ngIf="(_lastIndex>0)&&(_lastIndex!==_firstIndex)" title="尾页" [ngClass]="{\'active\':_current===_lastIndex}" (click)="dataChange(true,_lastIndex,$event)">\n                {{_lastIndex}}\n            </li>\n            \x3c!-- 下一页按钮 --\x3e\n            <li class="jdb-plg-pagination-next" title="下一页" [ngClass]="{\'disabled\':_current===_lastIndex}" (click)="dataChange(true,_current+1,$event)">\n                <span class="jdbIcon icon-pagination-next"></span>\n            </li>\n        </ul>\n        \x3c!-- 简单分页样式 --\x3e\n        <div class="simple-pagination" *ngIf="_jdbSimple">\n            <div class="left-box">\n                <span class="icon-pagination-first" [ngClass]="{\'disabled\':_current===_firstIndex}" (click)="dataChange(true,_firstIndex,$event)"></span>\n                <span class="icon-pagination-prev" [ngClass]="{\'disabled\':_current===_firstIndex}" (click)="dataChange(true,_current-1,$event)"></span>\n            </div>\n            <div class="center-box">\n                {{_current}} / {{_lastIndex}}\n            </div>\n            <div class="right-box">\n                <span class="icon-pagination-next" [ngClass]="{\'disabled\':_current===_lastIndex}" (click)="dataChange(true,_current+1,$event)"></span>\n                <span class="icon-pagination-last" [ngClass]="{\'disabled\':_current===_lastIndex}" (click)="dataChange(true,_lastIndex,$event)"></span>\n            </div>\n        </div>\n        \x3c!-- 快速跳转 --\x3e\n        <div *ngIf="_showQuickJump" class="quick-jumper">\n            第\n            <input #inputJump type="text" [(ngModel)]="quickJumpPage" (keyup.enter)="quickJump()" appOnlyNumber="true"> 页\n            <button (click)="quickJump()">跳转</button>\n        </div>\n    </div>\n</div>'}]}],t.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2}]},t.propDecorators={jdbPageSizeChange:[{type:c.Output}],jdbPageIndexChange:[{type:c.Output}],inputJump:[{type:c.ViewChild,args:["inputJump"]}],jdbShowTotal:[{type:c.Input}],jdbTotal:[{type:c.Input}],jdbPageIndex:[{type:c.Input}],jdbShowPageSize:[{type:c.Input}],jdbPageSize:[{type:c.Input}],jdbSizeOptions:[{type:c.Input}],jdbShowQuickJump:[{type:c.Input}],jdbSimple:[{type:c.Input}],jdbSelectWidth:[{type:c.Input}]},t}(),h=function(){function t(t,e){this._elementRef=t,this._renderer=e,this._prefixCls="jdb-plg-btn",this._el=this._elementRef.nativeElement,this.nativeElement=this._elementRef.nativeElement,this._renderer.addClass(this._el,this._prefixCls)}return Object.defineProperty(t.prototype,"jdbSize",{get:function(){return this.size},set:function(t){t||(t="default"),this.size=t,this._setClassMap(this.loading)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbType",{get:function(){return this.type},set:function(t){t||(t="primary"),this.type=t,this._setClassMap(this.loading)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbLoading",{get:function(){return this.loading},set:function(t){t=""===t||t&&"false"!==t,this.loading=t,this._setClassMap(this.loading)},enumerable:!0,configurable:!0}),t.prototype._setClassMap=function(t){this._renderer.removeClass(this._el,"undefined"),this._renderer.addClass(this._el,this.size),this._renderer.addClass(this._el,this.type),t?this._renderer.addClass(this._el,"loading_disable"):this._renderer.removeClass(this._el,"loading_disable")},t.prototype.ngOnInit=function(){},t.decorators=[{type:c.Component,args:[{selector:"button[app-jdb-plg-button]",template:'<i class="jdb-icon-loading action" *ngIf="loading"></i> <ng-content></ng-content>'}]}],t.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2}]},t.propDecorators={jdbSize:[{type:c.Input}],jdbType:[{type:c.Input}],jdbLoading:[{type:c.Input}]},t}(),d=function(){function t(t){this.resolver=t,this._customClass="",this._maskClass="",this._visible=!1,this._title="",this._closeable=!0,this._animationStatus="11",this._width="400px",this._footerHide=!1,this._isConfirm=!1,this._okText="",this._cancelText="",this._RogerText="",this._state="hideM",this.MvisibileChange=new c.EventEmitter,this.MOnOk=new c.EventEmitter,this.MOnCancel=new c.EventEmitter}return Object.defineProperty(t.prototype,"Mvisible",{get:function(){return this._visible},set:function(t){var e=this.toBoolean(t);this._visible!==e&&(this._visible=e,this.MvisibileChange.emit(this._visible))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MfooterHiden",{get:function(){return this._footerHide},set:function(t){var e=this.toBoolean(t);this._visible!==e&&(this._footerHide=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Mtitle",{set:function(t){t instanceof c.TemplateRef?this._titleTpl=t:this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Mcontent",{set:function(t){t instanceof c.TemplateRef?this._contentTpl=t:this._content=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Mfooter",{set:function(t){t instanceof c.TemplateRef&&(this._footerTpl=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Mwidth",{set:function(t){this._width="number"==typeof t?t+"px":t},enumerable:!0,configurable:!0}),t.prototype.setStyle=function(){this.contentEl.nativeElement;this._bodyStyleMap=o({width:this._width})},t.prototype.onEsc=function(t){this.clickCancel(t)},Object.defineProperty(t.prototype,"Mclass",{set:function(t){this._customClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MOkText",{set:function(t){this._okText=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"McancelText",{set:function(t){this._cancelText=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MRogerText",{set:function(t){this._isConfirm=!0,this._RogerText=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.setStyle()},t.prototype.createDynamicComponent=function(t){var e=this.resolver.resolveComponentFactory(this._content);this.bodyEl.createComponent(e)},t.prototype.ngAfterViewInit=function(){},t.prototype.ngOnChanges=function(t){var e=this;this._visible?(this._state="showM",setTimeout(function(){e.contentEl.nativeElement.parentNode.focus()},200)):this._state="hideM"},t.prototype.clickCancel=function(t){this._visible=!1,this._state="hideM",this.MOnCancel.emit(t)},t.prototype.clickOk=function(t){this.MOnOk?this.MOnOk.emit(t):(this._visible=!1,this._state="hideM")},t.prototype.closeModal=function(t){"dialog"===t.target.getAttribute("role")&&(this.clickCancel(t),this._state="hideM")},t.prototype.toBoolean=function(t){return""===t||t&&!1!==t},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-dialog",template:'<div [ngClass]="_customClass"> <div class="_maskClass" [ngClass]="{\'hid\':!_visible}" [style.zIndex]="1000"></div> <div class="jdb-modal" tabindex="-1" role="dialog" [ngClass]="{\'hid\':!_visible}" [ngStyle]="{\'dispaly\':!_visible}" (click)="closeModal($event)" class="_wrapClass" [ngClass]="_wrapClass" [style.zIndex]="1000" [attr.aria-modalId]="modalId"> <div #modal_content class="modal" [@optionsState]="_state" [ngStyle]="_bodyStyleMap"> <div class="modal-content"> <ng-template [ngIf]="_closeable"> <button class="modal-close" (click)="clickCancel($event)"> \x3c!-- <span class="modal-close-x"></span> --\x3e <span class="icon-close"></span> </button> </ng-template> <div class="modal-header" *ngIf="_title||_titleTpl"> <div class="modal-title" [attr.id]="modalId"> <ng-template #defaultTitle> {{_title}} </ng-template> <ng-template [ngTemplateOutlet]="_titleTpl||defaultTitle"> </ng-template> </div> </div> <div class="modal-body"> <ng-template #defaultContent>{{_content}}</ng-template> <ng-template [ngTemplateOutlet]="_contentTpl||defaultContent"></ng-template> <ng-template #modal_component></ng-template> </div> <div class="modal-footer" *ngIf="!_footerHide"> <ng-template #defalutFooter> <button *ngIf="!_isConfirm" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'white\'" (click)="clickCancel($event)"><span>{{_cancelText||\'取消\'}}</span></button> <button *ngIf="!_isConfirm" class="right-btn" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'primary\'" (click)="clickOk($event)"><span>{{_okText||\'确认\'}}</span></button> <button *ngIf="_isConfirm" class="right-btn" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'primary\'" (click)="clickOk($event)" (click)="clickOk($event)"><span>{{_RogerText}}</span></button> </ng-template> <ng-template [ngTemplateOutlet]="_footerTpl||defalutFooter"></ng-template> </div> <div tabindex="0" style="width:0px;height:0px;overflow:hidden;">aaa</div> </div> </div> </div> </div>',animations:[e.trigger("optionsState",[e.state("showM",e.style({transform:"translate(-50%, -50%)",opacity:"1"})),e.state("hideM",e.style({transform:"translate(-50%, -80%)",opacity:"0"})),e.transition("showM <=> hideM",e.animate("200ms ease-out"))])]}]}],t.ctorParameters=function(){return[{type:c.ComponentFactoryResolver}]},t.propDecorators={contentEl:[{type:c.ViewChild,args:["modal_content"]}],bodyEl:[{type:c.ViewChild,args:["modal_component",{read:c.ViewContainerRef}]}],MvisibileChange:[{type:c.Output}],MOnOk:[{type:c.Output}],MOnCancel:[{type:c.Output}],Mvisible:[{type:c.Input}],MfooterHiden:[{type:c.Input}],Mtitle:[{type:c.Input}],Mcontent:[{type:c.Input}],Mfooter:[{type:c.Input}],Mwidth:[{type:c.Input}],onEsc:[{type:c.HostListener,args:["keydown.esc",["$event"]]}],Mclass:[{type:c.Input}],MOkText:[{type:c.Input}],McancelText:[{type:c.Input}],MRogerText:[{type:c.Input}]},t}(),m=function(){function t(t,e){this.resolver=t,this.renderer=e,this._visible=!1,this._title="提示",this._customClass="",this._maskClass="",this._closeable=!0,this._footer=!0,this._isConfirm=!1,this._okText="",this._cancelText="",this._state="",this._closeType="mask",this._componentParams={},this._text="",this._class="",this._style=null,this.onClose=new c.EventEmitter,this.onOk=new c.EventEmitter,this.onCancel=new c.EventEmitter}return Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this._visible?this._state="showM":this._state="hideM"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_width",{set:function(t){this._bodyStyleMap={width:t}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._contentTpl instanceof c.Type?this.createDynamicComponent(this._contentTpl):this.createDynamicDom()},t.prototype.createDynamicDom=function(){var t=this.renderer.createElement("div"),e=this.renderer.createText(this._text);if(this.renderer.addClass(t,this._class),this.renderer.appendChild(t,e),this._style)for(var n in this._style)this.renderer.setStyle(t,n,this._style[n]);this.renderer.appendChild(document.querySelector("._modalTextBody"),t)},t.prototype.createDynamicComponent=function(t){var e=this.resolver.resolveComponentFactory(t);for(var n in this.contentComponentRef=this.bodyEl.createComponent(e),this._componentParams)this.contentComponentRef.instance[n]=this._componentParams[n];this.contentComponentRef.changeDetectorRef.detectChanges()},t.prototype.ngAfterViewInit=function(){this.contentComponentRef&&this.bodyEl.insert(this.contentComponentRef.hostView)},t.prototype.closeModel=function(t){this.onClose.emit(t),this._state="hideM"},t.prototype.confirmModel=function(t){this.onOk.emit(t),this._state="hideM"},t.prototype.cancelModel=function(t){this.onCancel.emit(t),this._state="hideM"},t.prototype.cusCloseModal=function(t){var e=this.isChildOf(t.target,this.contentEl.nativeElement);"mask"!==this._closeType||e||(this.onClose.emit(t),this._state="hideM")},t.prototype.isChildOf=function(t,e){var n;if(t&&e)for(n=t.parentNode;n;){if(e===n)return!0;n=n.parentNode}return!1},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-new-dialog",template:'<div [ngClass]="_customClass"> <div class="_newMaskClass" [ngClass]="{\'hid\':!_visible}" [style.zIndex]="900"></div> <div class="jdb-modal" tabindex="-1" role="dialog" [ngClass]="{\'hid\':!_visible}" [ngStyle]="{\'dispaly\':!_visible}" (click)="cusCloseModal($event)" class="_newWrapClass" [ngClass]="_newWrapClass" [style.zIndex]="900"> <div #modal_content class="new-modal" [@optionsState]="_state" [ngStyle]="_bodyStyleMap"> <div class="modal-content"> <ng-template [ngIf]="_closeable"> <button class="new-modal-close" style="outline: none" (click)="closeModel($event)"> <span class="icon-close"></span> </button> </ng-template> <div class="new-modal-header" *ngIf="_title"> <div class="new-modal-title" [attr.id]="modalId">{{_title}}</div> </div> <div class="new-modal-body _modalTextBody"> <ng-template #modal_component></ng-template> <ng-template #modal_text></ng-template> </div> <div class="new-modal-footer" *ngIf="_footer"> <button *ngIf="!_isConfirm" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'gray\'" (click)="cancelModel($event)"><span>{{_cancelText}}</span></button> <button *ngIf="!_isConfirm" class="right-btn" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'primary\'" (click)="confirmModel($event)"><span>{{_okText}}</span></button> <button *ngIf="_isConfirm" class="right-btn confirm-btn" app-jdb-plg-button [jdbSize]="\'default\'" [jdbType]="\'primary\'" (click)="confirmModel($event)"><span>{{_okText}}</span></button> </div> </div> </div> </div> </div>',animations:[e.trigger("optionsState",[e.state("showM",e.style({opacity:"1"})),e.state("hideM",e.style({opacity:"0"})),e.transition("showM <=> hideM",e.animate("200ms ease-out"))])]}]}],t.ctorParameters=function(){return[{type:c.ComponentFactoryResolver},{type:c.Renderer2}]},t.propDecorators={contentEl:[{type:c.ViewChild,args:["modal_content"]}],textEl:[{type:c.ViewChild,args:["modal_text"]}],bodyEl:[{type:c.ViewChild,args:["modal_component",{read:c.ViewContainerRef}]}],onClose:[{type:c.Output}],onOk:[{type:c.Output}],onCancel:[{type:c.Output}],_contentTpl:[{type:c.Input}],visible:[{type:c.Input}],_width:[{type:c.Input}]},t}(),y=function(){function t(t){this.el=t,this.regexStr="^[0-9]*$"}return t.prototype.onKeyDown=function(t){var e=t;if(this.appOnlyNumber){if(-1!==[46,8,9,27,13,110,190].indexOf(e.keyCode)||65===e.keyCode&&!0===e.ctrlKey||67===e.keyCode&&!0===e.ctrlKey||86===e.keyCode&&!0===e.ctrlKey||88===e.keyCode&&!0===e.ctrlKey||35<=e.keyCode&&e.keyCode<=39)return;var n=String.fromCharCode(e.keyCode);if(new RegExp(this.regexStr).test(n))return;e.preventDefault()}},t.prototype.onKeyUp=function(t){this.el.nativeElement.value=this.el.nativeElement.value.replace(/\D/g,"")},t.decorators=[{type:c.Directive,args:[{selector:"[appOnlyNumber]"}]}],t.ctorParameters=function(){return[{type:c.ElementRef}]},t.propDecorators={appOnlyNumber:[{type:c.Input}],onKeyDown:[{type:c.HostListener,args:["keydown",["$event"]]}],onKeyUp:[{type:c.HostListener,args:["keyup",["$event"]]}]},t}(),_=function(){function n(t,e){this.el=t,this.render=e,this.draw$=n.drawSubject.asObservable()}return n.setText=function(t){n._text="string"==typeof t?t:t(),n.drawSubject.next(!0)},n.prototype.draw=function(){if(n._text){var t=document.createElement("canvas");t.width=500,t.height=200,t.style.display="none";var e=t.getContext("2d");e.rotate(-10*Math.PI/180),e.font="16px microsoft yahei",e.fillStyle="rgba(0, 0, 0, 0.1)",e.textAlign="left",e.textBaseline="Middle",e.fillText(n._text,0,200),e.fillText(n._text,165,85),e.fillText(n._text,300,190),this.render.setStyle(this.el.nativeElement,"backgroundImage","url("+t.toDataURL("image/png")+")")}},n.prototype.ngOnInit=function(){var t=this;this.draw$.subscribe(function(){t.draw()})},n.prototype.ngAfterViewInit=function(){this.draw()},n._text="",n.drawSubject=new g.Subject,n.decorators=[{type:c.Directive,args:[{selector:"[appWaterMark]"}]}],n.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2}]},n}(),v=function(){function t(t,e){this.renderer2=t,this.renderer=e,this._size="middle",this._optionText="text",this._optionValue="value",this.isShowClear=!1,this._jdbClear=!1,this._jdbDisabled=!1,this._jdbMode="chooseOne",this._placeHolder="请选择",this._chooseMoreArray=[],this._classMap={},this.savaHeight=!0,this.spaceFlex=!0,this._showImgBox=!1,this._jdbItemDisabled="disabled",this._jdbSureDisabled=2,this._jdbNoDisabled=1,this._jdbError=!1,this.jdbClassName="",this.show=!1,this.ngModelValue="",this.onChange=function(){return null}}return Object.defineProperty(t.prototype,"jdbItemDisabled",{get:function(){return this._jdbItemDisabled},set:function(t){this._jdbItemDisabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbError",{get:function(){return this._jdbError},set:function(t){this._jdbError=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSureDisabled",{get:function(){return this._jdbSureDisabled},set:function(t){this._jdbSureDisabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbPlaceHolder",{get:function(){return this._placeHolder},set:function(t){this._placeHolder=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbClear",{get:function(){return this._jdbClear},set:function(t){this._jdbClear=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSelectList",{get:function(){return this._selectList},set:function(t){var n=this;if(t){var i=[];t.forEach(function(t){var e=typeof t;"string"===e||"number"===e?i.push({text:t,value:t}):(i.push(t),t.imgUrl&&(n._showImgBox=!0))}),this._selectList=i}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSize",{get:function(){return this._size},set:function(t){this._size=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbWidth",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbOptionText",{get:function(){return this._optionText},set:function(t){this._optionText=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbOptionValue",{get:function(){return this._optionValue},set:function(t){this._optionValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbDisabled",{get:function(){return this._jdbDisabled},set:function(t){this._jdbDisabled=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbMode",{get:function(){return this._jdbMode},set:function(t){this._jdbMode=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var t=this;this.renderer2.listen("document","click",function(){t.show=!1,t.renderer.setElementClass(t.inputDom.nativeElement,"jdb-plg-select-active",t.show)}),this.renderer2.listen(this.inputDom.nativeElement,"mouseenter",function(){if(t._jdbClear&&!t._jdbDisabled){if("chooseOne"===t._jdbMode&&(""===t.inputText||t.show))return;if("chooseNum"===t._jdbMode&&(0===t.inputText||t.show))return;if("chooseMore"===t._jdbMode&&(0===t.inputText.length||t.show))return;t.isShowClear=!0,t.renderer.setElementClass(t.inputDom.nativeElement,"jdb-plg-select-active",t.show)}}),this.renderer2.listen(this.inputDom.nativeElement,"mouseleave",function(){if(t._jdbClear&&!t._jdbDisabled){if("chooseOne"===t._jdbMode&&(""===t.inputText||t.show))return;if("chooseNum"===t._jdbMode&&(0===t.inputText||t.show))return;if("chooseMore"===t._jdbMode&&(0===t.inputText.length||t.show))return;t.isShowClear=!1,t.renderer.setElementClass(t.inputDom.nativeElement,"jdb-plg-select-active",t.show)}})},t.prototype.ngOnChanges=function(){this._selectList&&(null===this.ngModelValue||""===this.ngModelValue||void 0===this.ngModelValue?"chooseMore"===this._jdbMode?(this.inputText=[],this._chooseMoreArray=[]):"chooseNum"===this._jdbMode?(this.inputText=0,this._chooseMoreArray=[]):this.inputText="":"chooseOne"===this._jdbMode?this.forOneStart(this.ngModelValue):"chooseMore"===this._jdbMode?(this.forMoreStart(this.ngModelValue),this.setClassMap()):"chooseNum"===this._jdbMode&&this.forNumStart(this.ngModelValue)),this.setClassMap()},t.prototype.setClassMap=function(){var t,e;"chooseMore"===this._jdbMode?this._classMap=((t={})[""+this._size]=!0,t["jdb-plg-select-bottom-"+this._size]=0!==this.inputText.length,t["jdb-plg-select-disabled"]=this._jdbDisabled,t[this.jdbClassName]=!0,t["jdb-plg-select-error"]=this._jdbError,t):this._classMap=((e={})[""+this._size]=!0,e["jdb-plg-select-disabled"]=this._jdbDisabled,e[this.jdbClassName]=!0,e["jdb-plg-select-error"]=this._jdbError,e)},t.prototype.clearInputText=function(t){t.stopPropagation(),"chooseOne"===this._jdbMode?this.inputText="":"chooseMore"===this._jdbMode?(this.inputText=[],this._chooseMoreArray=[]):"chooseNum"===this._jdbMode&&(this.inputText=0,this._chooseMoreArray=[]),this.isShowClear=!this.isShowClear,this.ngModelValue="",this.onChange(""),this.setClassMap()},t.prototype.dialogShow=function(t){t.stopPropagation(),this._jdbDisabled||(this.isShowClear=!1,this.show=!this.show,this.renderer.setElementClass(this.inputDom.nativeElement,"jdb-plg-select-active",this.show),this.optionPosition(this.optionList.nativeElement.clientHeight))},t.prototype.optionPosition=function(t){var e,n=this.getTop(this.inputDom.nativeElement),i=this.getScrollTop(this.inputDom.nativeElement.parentElement),o=document.documentElement.clientHeight||document.body.clientHeight,s=this.inputDom.nativeElement.clientHeight;"small"===this.jdbSize?e=2:"large"===this.jdbSize?e=9:"middle"===this.jdbSize&&(e=5),o-n-s-e+i<t?(this.spaceFlex=!1,this.renderer.setElementStyle(this.optionList.nativeElement,"transform-origin","100% 100%"),t<188?this.renderer.setElementStyle(this.optionList.nativeElement,"top",-t-5+"px"):this.renderer.setElementStyle(this.optionList.nativeElement,"top",-190-e+"px")):(this.spaceFlex=!0,this.renderer.setElementStyle(this.optionList.nativeElement,"top",""),this.renderer.setElementStyle(this.optionList.nativeElement,"transform-origin","0% 0%"))},t.prototype.writeValue=function(t){null===(this.ngModelValue=t)||""===t||void 0===t?"chooseMore"===this._jdbMode?(this.inputText=[],this._chooseMoreArray=[]):"chooseNum"===this._jdbMode?(this.inputText=0,this._chooseMoreArray=[]):this.inputText="":"chooseOne"===this._jdbMode?this.forOneStart(t):"chooseMore"===this._jdbMode?(this.forMoreStart(t),this.setClassMap()):"chooseNum"===this._jdbMode&&this.forNumStart(t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.setDisabledState=function(t){},t.prototype.forOneStart=function(e){var n=this;this._selectList.forEach(function(t){t[n._optionValue]===e&&(n.inputText=t[n._optionText])})},t.prototype.forMoreStart=function(t){var s=this;"string"==typeof t&&(t=t.toString().split(",")),t.forEach(function(o){s._selectList.forEach(function(t){if(t[s._optionValue]===o){var e=s._optionText,n=s._optionValue;s.jdbOptionText&&(e=s.jdbOptionText),s.jdbOptionValue&&(n=s.jdbOptionValue);var i={};return i[e]=t[s._optionText],i[n]=t[s._optionValue],s.inputText.push(i),void s._chooseMoreArray.push(t[s._optionValue])}})})},t.prototype.forNumStart=function(t){var n=this;"string"==typeof t&&(t=t.toString().split(",")),t.forEach(function(e){n._selectList.forEach(function(t){if(t[n._optionValue]===e)return n.inputText++,void n._chooseMoreArray.push(t[n._optionValue])})})},t.prototype.item=function(t,e){t.stopPropagation(),this.show&&e[this._jdbItemDisabled]!==this._jdbSureDisabled&&(this.inputText=e[this._optionText],this.show=!this.show,this.renderer.setElementClass(this.inputDom.nativeElement,"jdb-plg-select-active",this.show),this.ngModelValue=e[this._optionValue],this.onChange(e[this._optionValue]))},t.prototype.chooseMore=function(t,n){var i=this,o=!1;if(t.stopPropagation(),this.show&&n[this._jdbItemDisabled]!==this._jdbSureDisabled)if(this.inputText.forEach(function(t,e){t[i._optionValue]!==n[i._optionValue]||(o=!0)}),o)this.deleteMoreItem(t,n);else{var e=this._optionText,s=this._optionValue;this.jdbOptionText&&(e=this.jdbOptionText),this.jdbOptionValue&&(s=this.jdbOptionValue);var r={};r[e]=n[this._optionText],r[s]=n[this._optionValue],this.inputText.push(r),this._chooseMoreArray.push(n[this._optionValue]),this.ngModelValue=this._chooseMoreArray,this.onChange(this._chooseMoreArray),this.show=!0,this.setClassMap()}},t.prototype.numClick=function(t,n){var i=this,o=!1;t.stopPropagation(),this.show&&n[this._jdbItemDisabled]!==this._jdbSureDisabled&&(this._chooseMoreArray.forEach(function(t,e){if(t===n[i._optionValue])return o=!0,void i._chooseMoreArray.splice(e,1)}),o?this.inputText--:(this.inputText++,this.show=!0,this._chooseMoreArray.push(n[this._optionValue]),this.ngModelValue=this._chooseMoreArray,this.onChange(this._chooseMoreArray)))},t.prototype.moreIndex=function(n){var i=this,o=!1;return this._chooseMoreArray.forEach(function(t,e){t!==n[i._optionValue]||(o=!0)}),o},t.prototype.deleteMoreItem=function(t,n){var i=this;t.stopPropagation(),this._jdbDisabled||(this.inputText.forEach(function(t,e){t[i._optionValue]!==n[i._optionValue]||i.inputText.splice(e,1)}),this._chooseMoreArray.forEach(function(t,e){t!==n[i._optionValue]||i._chooseMoreArray.splice(e,1)}),this.ngModelValue=this._chooseMoreArray,this.onChange(this._chooseMoreArray),this.setClassMap())},t.prototype.toBoolean=function(t){return""===t||t&&"false"!==t},t.prototype.getTop=function(t){var e=t.offsetTop;return null!=t.offsetParent&&(e+=this.getTop(t.offsetParent)),e},t.prototype.getScrollTop=function(t){var e=t.scrollTop;return null!=t.parentElement&&(e+=this.getScrollTop(t.parentElement)),e},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-select",template:'\x3c!-- 单选 --\x3e <div *ngIf="_jdbMode==\'chooseOne\'" #inputDom class="jdb-plg-select-one" (click)="dialogShow($event)" [ngClass]="_classMap" [ngStyle]="{\'width\':_width}"> \x3c!-- placeHolder --\x3e <div class="jdb-plg-select-placeholder" [hidden]="inputText!==\'\'">{{_placeHolder}}</div> \x3c!-- 单选 --\x3e \x3c!-- <span class="chooseOne" [hidden]="inputText==\'\'">{{inputText}}</span> --\x3e <input class="chooseOne chooseOneInput" [hidden]="inputText===\'\'" type="text" [(ngModel)]="inputText" readonly> <ul #optionList [ngClass]="{ \'options-show\':show, \'options-no-margin\':!spaceFlex} " class="options "> \x3c!-- 单选 --\x3e <li *ngFor="let option of _selectList " (click)="item($event,option) " [ngClass]="{active:ngModelValue===option[_optionValue],disabled:option[_jdbItemDisabled] === _jdbSureDisabled} "> <img class="img-box" *ngIf="_showImgBox&&option.imgUrl" [src]="option.imgUrl" alt=""> <span class="img-box" *ngIf="_showImgBox&&!option.imgUrl"></span> <span class="text-box">{{_optionText==\'option\'?option:option[_optionText]}}</span> </li> </ul> \x3c!-- 清空图标 --\x3e <span class="close-icon icon-empty " [hidden]="!isShowClear " (click)="clearInputText($event) "></span> \x3c!-- 单选时下拉图标 --\x3e <span class="select-icon icon-select-arrow " [hidden]="isShowClear "></span> </div> \x3c!-- 多选 --\x3e <div *ngIf="_jdbMode==\'chooseMore\' " #inputDom class="jdb-plg-select-more " (click)="dialogShow($event) " [ngClass]="_classMap " [ngStyle]="{ \'width\':_width} "> \x3c!-- placeHolder --\x3e <div class="jdb-plg-select-placeholder " [hidden]="inputText.length !=0 ">{{_placeHolder}}</div> \x3c!-- 多选item --\x3e <ul class="chooseMore "> <li *ngFor="let item of inputText "> {{item[_optionText]}} <span class="item-delete icon-close " (click)="deleteMoreItem($event,item) "></span> </li> </ul> <ul #optionList [ngClass]="{ \'options-show\':show, \'options-no-margin\':!spaceFlex} " class="options "> <li class="choose-more " *ngFor="let option of _selectList " (click)="chooseMore($event,option) " [ngClass]="{ \'active\':moreIndex(option),disabled:option[_jdbItemDisabled] === _jdbSureDisabled} "> \x3c!-- {{_optionText==\'option\'?option:option[_optionText]}} --\x3e <img class="img-box" *ngIf="_showImgBox&&option.imgUrl" [src]="option.imgUrl" alt=""> <span class="img-box" *ngIf="_showImgBox&&!option.imgUrl"></span> <span class="text-box">{{_optionText==\'option\'?option:option[_optionText]}}</span> <span [hidden]="!moreIndex(option) " class="choose-right icon-selected "></span> </li> </ul> \x3c!-- 清空图标 --\x3e <span class="close-icon icon-empty " [hidden]="!isShowClear " (click)="clearInputText($event) "></span> </div> \x3c!-- 选中几项 --\x3e <div *ngIf="_jdbMode==\'chooseNum\' " #inputDom class="jdb-plg-select-num " (click)="dialogShow($event) " [ngClass]="_classMap " [ngStyle]="{ \'width\':_width} "> \x3c!-- placeHolder --\x3e <div class="jdb-plg-select-placeholder " [hidden]="inputText!==0 ">{{_placeHolder}}</div> <span class="choose-tip " [hidden]="inputText===0 ">已选中{{inputText}}项</span> <ul #optionList [ngClass]="{ \'options-show\':show, \'options-no-margin\':!spaceFlex} " class="options "> <li class="choose-more " *ngFor="let option of _selectList " (click)="numClick($event,option) " [ngClass]="{ \'active\':moreIndex(option),disabled:option[_jdbItemDisabled] === _jdbSureDisabled} "> \x3c!-- {{_optionText==\'option\'?option:option[_optionText]}} --\x3e <img class="img-box" *ngIf="_showImgBox&&option.imgUrl" [src]="option.imgUrl" alt=""> <span class="img-box" *ngIf="_showImgBox&&!option.imgUrl"></span> <span class="text-box">{{_optionText==\'option\'?option:option[_optionText]}}</span> <span [hidden]="!moreIndex(option) " class="choose-right icon-selected "></span> </li> </ul> \x3c!-- 清空图标 --\x3e <span class="close-icon icon-empty " [hidden]="!isShowClear " (click)="clearInputText($event) "></span> <span class="select-icon icon-select-arrow " [hidden]="isShowClear "></span> </div> \x3c!-- 遮罩层 --\x3e <div class="jdb-plg-select-master " *ngIf="show "></div>',providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return t}),multi:!0}]}]}],t.ctorParameters=function(){return[{type:c.Renderer2},{type:c.Renderer}]},t.propDecorators={jdbClassName:[{type:c.Input}],jdbItemDisabled:[{type:c.Input}],jdbError:[{type:c.Input}],jdbSureDisabled:[{type:c.Input}],jdbPlaceHolder:[{type:c.Input}],jdbClear:[{type:c.Input}],jdbSelectList:[{type:c.Input}],jdbSize:[{type:c.Input}],jdbWidth:[{type:c.Input}],jdbOptionText:[{type:c.Input}],jdbOptionValue:[{type:c.Input}],jdbDisabled:[{type:c.Input}],jdbMode:[{type:c.Input}],inputDom:[{type:c.ViewChild,args:["inputDom"]}],optionList:[{type:c.ViewChild,args:["optionList"]}]},t}(),x=function(){function t(t){this.render=t,this._value="",this._type="text",this._placeHolder="",this._size="default",this._disabled=!1,this._readonly=!1,this._error=!1,this._inputWrapClass=[],this._clear=!1,this._autoPromptData=[],this._composing=!1,this.width="300px",this.onChange=function(){return null},this.jdbBlur=new c.EventEmitter,this.jdbFocus=new c.EventEmitter}return t.prototype.ngOnInit=function(){this._prefixContent&&this._inputWrapClass.push("prefix")},t.prototype.ngAfterViewInit=function(){this.clearBtnEl&&this.render.setStyle(this.clearBtnEl.nativeElement,"top",this.inputEl.nativeElement.height/2)},t.prototype.compositionStart=function(t){this._composing=!0},t.prototype.compositionEnd=function(t){this._composing=!1,this.onChange(this._value)},Object.defineProperty(t.prototype,"jdbType",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbPlaceHolder",{get:function(){return this._placeHolder},set:function(t){this._placeHolder=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSize",{get:function(){return this._size},set:function(t){this._size={large:"lg",small:"sm"}[t],this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbDisabled",{get:function(){return this._disabled},set:function(t){this._disabled=this.toBoolean(t),this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbReadonly",{get:function(){return this._readonly},set:function(t){this._readonly=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbValue",{get:function(){return this._value||""},set:function(t){this._value===t||null==this._value&&null==t||(this._value=t,this._composing||this.onChange(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbError",{get:function(){return this._error},set:function(t){this._error=this.toBoolean(t),this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbClear",{get:function(){return this._clear},set:function(t){this._clear=this.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbMaxLength",{get:function(){return this._maxlength},set:function(t){this._maxlength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbPromptData",{get:function(){return this._autoPromptData},set:function(t){this._autoPromptData=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this._value=t},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){},t.prototype._emitBlur=function(t){this.jdbBlur.emit(t)},t.prototype._emitFocus=function(t){this.jdbFocus.emit(t)},t.prototype.textareaOnChange=function(t){},t.prototype.setClassMap=function(){var t;this._classMap=((t={})["input-"+this._type+"-"+this._size]=!0,t["input-disabled"]=this._disabled,t["input-error"]=this._error,t)},t.prototype.clearTxt=function(t){t.stopPropagation(),this._value="",this.onChange("")},t.prototype.toBoolean=function(t){return""===t||t&&"false"!==t},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-input",template:'<span class="input-group-addon" *ngIf="_addOnContentBefore"> <ng-template [ngTemplateOutlet]="_addOnContentBefore"> </ng-template> </span> <ng-template [ngIf]="_type==\'text\'"> <div class="input-text-wrap" [ngClass]="_inputWrapClass"> <span class="input-prefix" *ngIf="_prefixContent"> <ng-template [ngTemplateOutlet]="_prefixContent"> </ng-template> </span> <span class="input-content"> <input (blur)="_emitBlur($event)" (focus)="_emitFocus($event)" [disabled]="_disabled" [readonly]="_readonly" [attr.id]="jdbId" [attr.type]="_type" class="input" [ngClass]="_classMap" [attr.placeholder]="_placeHolder" [(ngModel)]="jdbValue" [style.width]="width" maxlength="{{jdbMaxLength}}" #input /> <span class="input-clear" *ngIf="_clear && _value && _type==\'text\'" (click)="clearTxt($event)"> <i class="close-icon icon-empty"></i> </span> </span> <span class="ant-input-suffix" *ngIf="_suffixContent"> <i class="iconfont icon-guanbi2fill"></i> <ng-template [ngTemplateOutlet]="_suffixContent"> </ng-template> </span> <div class="input-error-tip" *ngIf="jdbError && _errorContent" [style.width]="width"> <i class="icon-message-error error-tip"></i> <p class="input-error-content"> <ng-template [ngTemplateOutlet]="_errorContent"> </ng-template> </p> </div> </div> </ng-template> <span class="input-group-addon" *ngIf="_addOnContentAfter"> <ng-template [ngTemplateOutlet]="_addOnContentAfter"> </ng-template> </span> <ng-template [ngIf]="_type==\'textarea\'"> <div class="input-text-wrap"> <textarea (blur)="_emitBlur($event)" (focus)="_emitFocus($event)" (input)="textareaOnChange($event)" [attr.id]="jdbId" #inputTextarea [disabled]="_disabled" [readonly]="_readonly" type="textarea" class="input input-textarea" [ngClass]="_classMap" [attr.placeholder]="jdbPlaceHolder" [(ngModel)]="jdbValue" maxlength="{{jdbMaxLength}}" [style.width]="width"></textarea> <span class="textarea-wc-tip" [ngClass]="{\'textarea-wc-tip-red\': jdbValue&&jdbValue.length == jdbMaxLength}" *ngIf="jdbMaxLength && !_disabled &&!_readonly">{{(jdbValue&&jdbValue.length)||0}}/{{jdbMaxLength}}</span> </div> </ng-template>',encapsulation:c.ViewEncapsulation.None,providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return t}),multi:!0}]}]}],t.ctorParameters=function(){return[{type:c.Renderer2}]},t.propDecorators={width:[{type:c.Input}],_errorContent:[{type:c.ContentChild,args:["jdbErrorContent"]}],_addOnContentBefore:[{type:c.ContentChild,args:["addContentBefore"]}],_addOnContentAfter:[{type:c.ContentChild,args:["addContentAfter"]}],_prefixContent:[{type:c.ContentChild,args:["prefixContent"]}],_suffixContent:[{type:c.ContentChild,args:["suffixContent"]}],jdbBlur:[{type:c.Output}],jdbFocus:[{type:c.Output}],inputEl:[{type:c.ViewChild,args:["input"]}],clearBtnEl:[{type:c.ViewChild,args:["clearBtn"]}],compositionStart:[{type:c.HostListener,args:["compositionstart",["$event"]]}],compositionEnd:[{type:c.HostListener,args:["compositionend",["$event"]]}],jdbType:[{type:c.Input}],jdbPlaceHolder:[{type:c.Input}],jdbSize:[{type:c.Input}],jdbDisabled:[{type:c.Input}],jdbReadonly:[{type:c.Input}],jdbValue:[{type:c.Input}],jdbError:[{type:c.Input}],jdbClear:[{type:c.Input}],jdbMaxLength:[{type:c.Input}],jdbPromptData:[{type:c.Input}]},t}(),j=38,C=40,I=13,w=function(){function t(t,e){this.el=t,this.render=e,this._searchParam="key",this._serverApi="/",this._searchWord="",this.searchResult=[],this._listShow=!1,this.activeIndex=0,this.ngModelValue="",this.jdbPlaceHolder="",this.width="300px",this._dataSource=[],this.dataKey="value",this.dataVal="text",this.jdbDataAsyn=!1,this.onSelected=new c.EventEmitter,this.onChange=function(){return null}}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var e=this;this.render.listen(this.el.nativeElement,"input",this.debounce(function(){e.activeIndex=-1,e.inputHandle()},500,!1)),this.render.listen(this.el.nativeElement.querySelector('input[type="text"]'),"click",function(t){e.activeIndex=-1,e._searchWord?e.searchResult=e.searchResult=e.jdbDataSource.filter(function(t){return-1!==t.text.indexOf(e._searchWord)}):e.searchResult=e.jdbDataSource,0<e.searchResult.length&&(e._listShow=!0,setTimeout(function(t){e.resetPopDirection(e.el.nativeElement)},0)),t.stopPropagation()}),this.render.listen("document","click",function(t){e._listShow=!1}),this.render.listen(this.el.nativeElement.querySelector('input[type="text"]'),"blur",function(){(e.selectOne&&e._searchWord!==e.selectOne.text||!e.selectOne)&&(e._searchWord="",e.ngModelValue="",e.selectOne=null,e.onChange(""))})},t.prototype.ngOnChanges=function(t){},t.prototype.OnKeyDown=function(t){switch(t.which){case j:this.activeIndex--,this.activeIndex<0&&(this.activeIndex=this.searchResult.length-1),this.setSearchWord();break;case C:this.activeIndex++,this.activeIndex>=this.searchResult.length&&(this.activeIndex=0),this.setSearchWord();break;case I:var e=this.searchResult[this.activeIndex];this.selectedItem(e,this.activeIndex);break;default:this.activeIndex=-1}},t.prototype.OnPaste=function(t){this.inputHandle()},t.prototype.inputHandle=function(){var e=this;this._searchWord&&(this.jdbDataAsyn||(this.searchResult=this.jdbDataSource.filter(function(t){return-1!==t.text.indexOf(e._searchWord)})),0<this.searchResult.length?this._listShow=!0:this._listShow=!1,setTimeout(function(t){e.resetPopDirection(e.el.nativeElement)},0))},t.prototype.closePop=function(t){this.selectOne&&this._searchWord&&this._listShow&&(this._searchWord!==this.selectOne.text?(this.ngModelValue="",this.onChange(""),this.selectOne=null,this._searchWord=""):(this.onSelected.emit(this.selectOne.value),this.ngModelValue=this.selectOne.value,this.onChange(this.ngModelValue))),this._listShow=!1},t.prototype.setSelectClass=function(t){if(t)return this._searchWord===t.text},t.prototype.setSearchWord=function(){this.selectOne=this.searchResult[this.activeIndex],this._searchWord=this.selectOne.text},t.prototype.selectedItem=function(t,e){this.activeIndex=e,this.selectOne=t,this._searchWord=t.text,this._listShow=!1,this.onSelected.emit(this.selectOne.value),this.ngModelValue=this.selectOne.value,this.onChange(this.ngModelValue),event.stopPropagation()},t.prototype.debounce=function(e,n,i){var o,s,r,a,l,p=function(){var t=(new Date).getTime()-a;t<n&&0<=t?o=setTimeout(p,n-t):(o=null,i||(l=e.apply(r,s),o||(r=s=null)))};return function(){r=this,s=arguments,a=(new Date).getTime();var t=i&&!o;return o||(o=setTimeout(p,n)),t&&(l=e.apply(r,s),r=s=null),l}},t.prototype.resetPopDirection=function(t){var n=function(t){var e=t.offsetTop;return t.offsetParent||(e+=n(t.offsetParent)),e},i=function(t){var e=t.scrollTop;return t.parentElement||(e+=i(t.parentElement)),e},e=n(t);(document.documentElement.clientHeight||document.body.clientHeight)-(e-i(t.parentElement))-(this.resultEle.nativeElement.offsetHeight||250)-t.querySelector('input[type="text"]').offsetHeight<=0?this.render.addClass(this.resultEle.nativeElement,"pop_top"):this.render.removeClass(this.resultEle.nativeElement,"pop_top")},t.prototype.changeInput=function(){""===this._searchWord&&(this.ngModelValue="",this.onChange(""))},Object.defineProperty(t.prototype,"jdbDataSource",{get:function(){return this._dataSource},set:function(t){var n=this;this._dataSource=t,!this.jdbDataAsyn&&0<this._dataSource.length&&("string"==typeof this._dataSource[0]?this._dataSource=this._dataSource.map(function(t,e){return{value:t,text:t}}):"object"!=typeof this._dataSource[0]||"value"===this.dataKey&&"text"===this.dataVal||(this._dataSource=this._dataSource.map(function(t,e){return{value:t[n.dataKey],text:t[n.dataVal]}})),this.searchResult=this._dataSource)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSearchParam",{get:function(){return this._searchParam},set:function(t){this._searchParam=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbServerApi",{get:function(){return this._serverApi},set:function(t){this._serverApi=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.ngModelValue=t,""===this.ngModelValue&&(this._searchWord="")},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-autocomplete",template:'<div class="autoprompt"> <app-jdb-plg-input [jdbType]="\'text\'" [jdbPlaceHolder]="jdbPlaceHolder" [jdbClear]="true" [(ngModel)]="_searchWord" [width]="width" (ngModelChange)="changeInput()"> </app-jdb-plg-input> <ul #resultele [hidden]="!_listShow" [style.width]="width"> <li *ngFor="let item of searchResult;index as i" [ngClass]="{\'selected\': activeIndex == i}" (click)="selectedItem(item,i)"> <p> {{item.text}} </p> </li> </ul> </div> \x3c!-- <div class="autoprompt-mask" [hidden]="!_listShow" (click)="closePop($event)"></div> --\x3e',providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return t}),multi:!0}]}]}],t.ctorParameters=function(){return[{type:c.ElementRef},{type:c.Renderer2}]},t.propDecorators={resultEle:[{type:c.ViewChild,args:["resultele"]}],jdbPlaceHolder:[{type:c.Input}],width:[{type:c.Input}],dataKey:[{type:c.Input}],dataVal:[{type:c.Input}],jdbDataAsyn:[{type:c.Input}],onSelected:[{type:c.Output}],OnKeyDown:[{type:c.HostListener,args:["keydown",["$event"]]}],OnPaste:[{type:c.HostListener,args:["paste",["$event"]]}],jdbDataSource:[{type:c.Input}],jdbSearchParam:[{type:c.Input}],jdbServerApi:[{type:c.Input}]},t}(),S=function(){function t(t){this.componentFactoryResolver=t}return t.prototype.testPhoneNumber=function(t){return/^[1][0-9]{10}$/.test(t)},t.prototype.testName=function(t){return/^[\u4E00-\u9FA5·]{2,20}$/.test(t)},t.prototype.testRepayAmount=function(t){return/^([1-9][0-9]{2,9}|10000000000)$/.test(t)},t.prototype.numFormat=function(t){return(t/=100).toFixed(2).replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")},t.prototype.toTimestamp=function(t){var e={};if(t){var n=t.split("~");e.startTime=new Date(n[0]).getTime()/1e3,e.endTime=new Date(n[1]).getTime()/1e3}else e.startTime="",e.endTime="";return e},t.prototype.toDate=function(t,e){void 0===e&&(e=1);var n=new Date(1e3*t),i=n.getFullYear(),o=this.add0(n.getMonth()+1),s=this.add0(n.getDate()),r=this.add0(n.getHours()),a=this.add0(n.getMinutes()),l=this.add0(n.getSeconds());switch(e){case 1:return i+"-"+o+"-"+s+" "+r+":"+a+":"+l;case 2:return i+"-"+o+"-"+s+" "+r+":"+a;case 3:return i+"-"+o+"-"+s;case 4:return i+"-"+o;case 5:return""+i}},t.prototype.add0=function(t){return t<10?"0"+ +t:t},t.prototype.getTarDate=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e="-"),void 0===n&&(n=!0);var i,o,s,r,a,l,p,c=new Date;if(s=c.getFullYear(),r=c.getMonth()+1,a=c.getDate(),c.setDate(c.getDate()-t),l=s+e+(r<10?"0"+r:r)+e+(a<10?"0"+a:a),p=c.getFullYear()+e+((i=c.getMonth()+1)<10?"0"+i:i)+e+((o=c.getDate())<10?"0"+o:o),!n)return 0===t?[l]:[l,p];if("-"!==e){var u=new RegExp(e,"g");l=l.replace(u,"-"),p=p.replace(u,"-")}return 0===t?[new Date(l+" 00:00:00").getTime()]:[new Date(l+" 00:00:00").getTime(),new Date(p+" 23:59:59").getTime()]},t.prototype.setRootViewContainerRef=function(t){this.vRef=t},t.prototype.toast=function(t,e){void 0===e&&(e=3e3);var n=this.componentFactoryResolver.resolveComponentFactory(s),i=this.vRef.createComponent(n);i.instance.msg=t,i.changeDetectorRef.detectChanges(),setTimeout(function(){i.destroy()},e)},t.prototype.accMul=function(t,e){var n=0,i=t.toString(),o=e.toString();try{n+=i.split(".")[1].length}catch(t){}try{n+=o.split(".")[1].length}catch(t){}return Number(i.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)},t.prototype.accDiv=function(t,e){var n,i,o=0,s=0;try{o=t.toString().split(".")[1].length}catch(t){}try{s=e.toString().split(".")[1].length}catch(t){}return n=Number(t.toString().replace(".","")),i=Number(e.toString().replace(".","")),this.accMul(n/i,Math.pow(10,s-o))},t.prototype.accAdd=function(t,e){var n,i,o;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}return(t*(o=Math.pow(10,Math.max(n,i)))+e*o)/o},t.prototype.accSubtr=function(t,e){var n,i,o;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}return((t*(o=Math.pow(10,Math.max(n,i)))-e*o)/o).toFixed(i<=n?n:i)},t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[{type:c.ComponentFactoryResolver}]},t}();function O(t){return"[object Object]"===Object.prototype.toString.call(t)}function M(t){return"[object Date]"===Object.prototype.toString.call(t)}function T(t){return O(t)?M(t)?t.toISOString():function(t){var e={};try{e=JSON.parse(t)}catch(t){console.log("to json parse error")}return e}(t):t}function E(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function P(t){if(!t)return"";var r=[];return function n(t,i,e){if(s=t,"[object Array]"===Object.prototype.toString.call(s))t.forEach(function(t,e){n(t,i+"["+(O(t)?e:"")+"]")});else if(O(t)&&!M(t))for(var o in t)n(t[o],i+(e?"":".")+o);else r.push(E(i)+"="+(null==t?"":E(T(t))));var s}(t,"",!0),r.join("&")}var k=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;function R(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(var o,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),r=1;r<arguments.length;r++){for(var a in e=Object(arguments[r]))k.call(e,a)&&(s[a]=e[a]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(e);for(var l=0;l<o.length;l++)D.call(e,o[l])&&(s[o[l]]=e[o[l]])}}return s}var V=function(){function t(){this.emitStatistic=new g.Subject,this.StatisticOutPut$=this.emitStatistic.asObservable()}return t.prototype.emitStatisticData=function(t){0!==t.length&&this.emitStatistic.next(t)},t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[]},t}(),L=[],z=function(){function t(t,e,n){var i=this;this.http=t,this.commonService=e,this.sendStatisticService=n,this.timer=null,this.newStatisticData={from:"",operator:"",memberId:"",service:{apiException:{requestTime:null,url:"",params:null,resCode:null,resMessage:"",errorMessage:""}}},this.baseObj={from:null,operator:null,memberId:null},this.timer&&clearInterval(this.timer),this.timer=setInterval(function(){i.sendStatisticService.emitStatisticData(L),L=[]},1e4)}return t.prototype.setRootViewContainerRef=function(t){this.vRef=t,this.commonService.setRootViewContainerRef(t)},t.prototype.post=function(t,e,s){var n,i,o,r,a=this,l=(new Date).getTime();this.newStatisticData.service.apiException={requestTime:null,url:"",params:null,resCode:null,resMessage:"",errorMessage:""};var p=JSON.parse(JSON.stringify(this.newStatisticData.service.apiException));this.newStatisticData.service.apiException=p,s&&s.tokenObj&&(n=localStorage.getItem(s.tokenObj.loginToken),i=localStorage.getItem(s.tokenObj.loginWay),o=localStorage.getItem(s.tokenObj.orgUid),r=localStorage.getItem(s.tokenObj.from));var c={},u={},h=location.hash.split("/")[1];u=n?R({},c=o?{loginToken:n,loginWay:i,orgUid:o,jdbDhTraceId:l+"-"+parseInt(Math.random()*(1e5+1)+1+"")}:{loginToken:n,loginWay:i,jdbDhTraceId:l+"-"+parseInt(Math.random()*(1e5+1)+1+"")},e):R({},e),u=P(p.params=u);var d={headers:new f.HttpHeaders({"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"})},m=t;return this.baseObj.from=r,this.baseObj.operator=localStorage.getItem("nickName"),this.baseObj.memberId=localStorage.getItem("memberId"),p.url=m,this.http.post(m,u||{},d).pipe(b.filter(function(t){"login"!=h&&s&&s.joinTraceId&&(t.error.returnUserMessage=t.error.returnUserMessage+"<br/>(日志号:"+c.jdbDhTraceId+")");var e=(new Date).getTime();if(p.requestTime=e-l,!t.hasOwnProperty("data")||!t.hasOwnProperty("error"))return a.commonService.toast("系统接口格式错误！"),s&&s.reset&&s.reset(),!1;if(s.fns&&0!=s.fns.length)for(var n=s.fns.length,i=0;i<n;i++){var o=s.fns[i];t.error&&1*t.error.returnCode===o.returnCode&&"login"!=h&&o.callback()}return t.error&&1*t.error.returnCode==0?(p.resCode=t.error.returnCode,p.resMessage=t.error.returnUserMessage,a.newStatisticData=Object.assign(a.newStatisticData,a.baseObj),s&&!s.noLog&&L.push(a.newStatisticData),!0):(p.resCode=t.error.returnCode,p.resMessage=t.error.returnUserMessage,a.newStatisticData=Object.assign(a.newStatisticData,a.baseObj),s&&!s.noLog&&L.push(a.newStatisticData),"boolean"==typeof s?!s||(a.commonService.toast(t&&t.error&&t.error.returnUserMessage),!1):!s.isIntercept||(a.commonService.toast(t&&t.error&&t.error.returnUserMessage),!1))})).pipe(b.catchError(function(t){return p.errorMessage=t,a.newStatisticData=Object.assign(a.newStatisticData,a.baseObj),s&&!s.noLog&&L.push(a.newStatisticData),g.Observable.throw(t||"Server error")}))},t.prototype.stamp2string=function(t){return t?new Date(t).toJSON().split("T")[0]:null},t.prototype.download=function(t,e){var n=R({},{},e),i=t+"?";for(var o in n)n[o]&&(i+=o+"="+encodeURIComponent(n[o])+"&");window.location.href=i},t.prototype.getPicSize=function(t){var e=new FileReader;e.onload=function(t){var e=t.target.result,n=new Image;n.onload=function(){var t=n.width,e=n.height;return{height:e,width:t}},n.src=e},e.readAsDataURL(t)},t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[{type:f.HttpClient},{type:S},{type:V}]},t}(),H=function(){function t(){}return t.prototype.fillTable=function(t,e,n){t=t||10,n=n||!0;var i,o=(e=e||[]).length,s=t-o,r={unShowOpt:n};if(0!==o&&(e.forEach(function(t){t.unShowOpt=!n}),0!==(i=Object.keys(e[0])).length&&i.forEach(function(t){"unShowOpt"!==t&&(r[t]="[object Array]"==Object.prototype.toString.call(e[0][t])?[]:"")})),0!==o&&0<s)for(var a=0;a<s;a++)e.push(r);return e},t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[]},t}(),B=function(){function t(t){var e=this;this.componentFactoryResolver=t,this._componentRefList=[],this._options={customClass:"",maskClass:"",bodyStyle:null,visible:!1,title:"",closeable:!0,component:null,text:"",componentParams:{},width:null,footer:!0,container:null,isConfirm:!1,okText:"",cancelText:"",class:"",style:null,onClose:function(){e.destroy()},onOk:function(){e.destroy()},onCancel:function(){e.destroy()}}}return t.prototype.create=function(t){var e=this;this._options={customClass:"",maskClass:"",bodyStyle:null,visible:!1,title:"",closeable:!0,component:null,text:"",componentParams:{},width:null,footer:!0,container:null,isConfirm:!1,okText:"",cancelText:"",class:"",style:null,onClose:function(){e.destroy()},onOk:function(){e.destroy()},onCancel:function(){e.destroy()}};var n=this.componentFactoryResolver.resolveComponentFactory(m),i=t.container.createComponent(n);return this._componentRefList.push(i),t&&Object.assign(this._options,t),this.assignProps(i),window.document.body.appendChild(i.hostView.rootNodes[0]),i},t.prototype.assignProps=function(t){var e=this._options,n=t.instance;n.visible=e.visible||!0,n._title=e.title||"提示",n._width=e.width?e.width+"px":"400px",n._state="showM",n._contentTpl=e.component,n._componentParams=e.componentParams,n._customClass=e.customClass,n._maskClass=e.maskClass,n._isConfirm=e.isConfirm,n._okText=e.okText||"确认",n._cancelText=e.cancelText||"取消",n._footer=e.footer,n._closeable=e.closeable,n._closeType=e.closeType||"mask",n._text=e.text||"hello",n._class=e.class||"defaultTextClass",n._style=e.style,n.onClose.subscribe(function(t){e.onClose()}),n.onOk.subscribe(function(t){e.onOk()}),n.onCancel.subscribe(function(t){e.onCancel()})},t.prototype.destroy=function(){var t=this._componentRefList.length-1;this._componentRefList[t]&&this._componentRefList[t].destroy(),this._componentRefList.pop()},t.prototype.triggerOk=function(){this._options.onOk()},t.prototype.triggerClose=function(){this._options.onClose()},t.prototype.triggerCancel=function(){this._options.onCancel()},t.decorators=[{type:c.Injectable}],t.ctorParameters=function(){return[{type:c.ComponentFactoryResolver}]},t}(),A=function(){function t(){this.tableErrorText="暂无数据"}return t.prototype.ngOnInit=function(){},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-table-error",template:'<div class="jdb-plg-table-error"> {{tableErrorText}} </div>'}]}],t.ctorParameters=function(){return[]},t.propDecorators={tableErrorText:[{type:c.Input}]},t}(),$=function(){function t(){}return t.prototype.transform=function(t){return 0===t.length?"":t.join("、")},t.decorators=[{type:c.Pipe,args:[{name:"provinceReformPipe"}]}],t}(),N=function(){function t(){}return t.prototype.transform=function(t){return 0===t?"0.00":t?(t/100).toFixed(2):""},t.decorators=[{type:c.Pipe,args:[{name:"amountReformPipe"}]}],t}(),F=function(){function t(){this.optTime=0}return Object.defineProperty(t.prototype,"timeNum",{get:function(){return this.optTime},set:function(t){t||(t=0),this.optTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastItem",{get:function(){return this.isLast},set:function(t){this.isLast=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-timeline-item",template:'<div class="timeline-item"> <div class="timeline-item-tail" [ngClass]="{\'timeline-item-tail-last\': isLast}"></div> <div class="timeline-item-circle"></div> <div class="timeline-item-content"> <div class="timeline-cardBox" [ngStyle]="{\'width\': cardBoxWidth,\'background\': cardBgc}"> <div class="timeline-arrow"> <em></em> <span [ngStyle]="{\'border-right-color\': cardBgc}"></span> </div> <ng-content></ng-content> </div> <p [ngStyle]="{\'width\': cardBoxWidth}" class="timeline-buttom_time" *ngIf="optTime">{{optTime*1000 | date: "y-MM-dd HH:mm:ss"}}</p> </div> </div>'}]}],t.ctorParameters=function(){return[]},t.propDecorators={cardBoxWidth:[{type:c.Input}],cardBgc:[{type:c.Input}],timeNum:[{type:c.Input}],lastItem:[{type:c.Input}]},t}(),W=function(){function t(){this.checked=!1,this.prefixCls="jdb-switch",this._jdbLoading=!1,this._jdbDisabled=!1,this._jdbControl=!1,this._jdbSize="default",this.onChange=function(){return null},this.onTouched=function(){return null}}return Object.defineProperty(t.prototype,"jdbCheckedText",{get:function(){return this._jdbCheckedText},set:function(t){this._jdbCheckedText=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbUncheckedText",{get:function(){return this._jdbUncheckedText},set:function(t){this._jdbUncheckedText=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbLoading",{get:function(){return this._jdbLoading},set:function(t){this._jdbLoading=Boolean(t),this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbDisabled",{get:function(){return this._jdbDisabled},set:function(t){this._jdbDisabled=Boolean(t),this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbSize",{get:function(){return this._jdbSize},set:function(t){this._jdbSize=t,this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jdbControl",{get:function(){return this._jdbControl},set:function(t){this._jdbControl=Boolean(t)},enumerable:!0,configurable:!0}),t.prototype.onClick=function(t){this.jdbDisabled||this.jdbLoading||this.jdbControl||this.updateSwitchStatus(!this.checked,!0)},t.prototype.updateSwitchStatus=function(t,e){this.checked!==t&&(this.checked=t,this.setClassMap(),e&&this.onChange(this.checked))},t.prototype.setClassMap=function(){var t;this.outBoxClass=((t={})[this.prefixCls]=!0,t[this.prefixCls+"-checked"]=this.checked,t[this.prefixCls+"-loading"]=this.jdbLoading,t[this.prefixCls+"-disabled"]=this.jdbDisabled,t[this.prefixCls+"-small"]="small"===this.jdbSize,t)},t.prototype.writeValue=function(t){this.updateSwitchStatus(t,!1)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.jdbDisabled=t},t.prototype.ngOnInit=function(){this.setClassMap()},t.decorators=[{type:c.Component,args:[{selector:"app-jdb-plg-switch",template:'<span [ngClass]="outBoxClass"> <span class="inner-content"> <ng-container *ngIf="checked"> {{jdbCheckedText}} </ng-container> <ng-container *ngIf="!checked"> {{jdbUncheckedText}} </ng-container> </span> </span> ',providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:c.forwardRef(function(){return t}),multi:!0}]}]}],t.propDecorators={jdbCheckedText:[{type:c.Input}],jdbUncheckedText:[{type:c.Input}],jdbLoading:[{type:c.Input}],jdbDisabled:[{type:c.Input}],jdbSize:[{type:c.Input}],jdbControl:[{type:c.Input}],onClick:[{type:c.HostListener,args:["click",["$event"]]}]},t}(),U=[a,l,p,_,u,h,d,m,v,x,F,w,r,A,$,N,W],J=function(){function t(){}return t.decorators=[{type:c.NgModule,args:[{imports:[i.CommonModule,n.FormsModule,n.ReactiveFormsModule],exports:U,declarations:[s,r,a,l,p,u,y,_,v,h,d,m,x,F,w,A,$,N,W],providers:[z,S,H,V,B],entryComponents:[s,m,d],schemas:[c.CUSTOM_ELEMENTS_SCHEMA]}]}],t}();t.JdbPlgUiModule=J,t.JdbPlgBaseService=z,t.FillTableService=H,t.CommonMethodService=S,t.SendStatisticService=V,t.JdbModalService=B,t.jQueryLikeParamSerializer=P,t.ɵl=w,t.ɵf=h,t.ɵg=d,t.ɵj=x,t.ɵh=m,t.ɵe=u,t.ɵi=v,t.ɵq=W,t.ɵm=r,t.ɵn=A,t.ɵk=F,t.ɵr=s,t.ɵb=l,t.ɵa=a,t.ɵc=p,t.ɵs=y,t.ɵd=_,t.ɵp=N,t.ɵo=$,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=jdb-plg-ui.umd.min.js.map
